	jp	$00049b                     ; 040000                                         || 040000 C3 9B 04 00 0001   SKIP_AHEAD: JP BEGIN_HEREISH-0x040000
	rst	$38                        ; 040004 || 	rst	$38                        ; 040011 || 040004 FF FF FF FF 0061*  			ALIGN 		256		; ACCS, BUFFER & STAVAR must be on page boundaries
	rst	$38                        ; 040005 || 	rst	$38                        ; 040012
	rst	$38                        ; 040006 || 	rst	$38                        ; 040013
	rst	$38                        ; 040007 || 	rst	$38                        ; 040014
	rst	$38                        ; 040008 || 	rst	$38                        ; 040015
	rst	$38                        ; 040009 || 	rst	$38                        ; 040016
	rst	$38                        ; 04000A || 	rst	$38                        ; 040017
	rst	$38                        ; 04000B || 	rst	$38                        ; 040018
	rst	$38                        ; 04000C || 	rst	$38                        ; 040019
	rst	$38                        ; 04000D || 	rst	$38                        ; 04001A
	rst	$38                        ; 04000E || 	rst	$38                        ; 04001B
	rst	$38                        ; 04000F || 	rst	$38                        ; 04001C
	rst	$38                        ; 040010 || 	rst	$38                        ; 04001D
	rst	$38                        ; 040011 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040012 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040013 || 	rst	$38                        ; 040011
	rst	$38                        ; 040014 || 	rst	$38                        ; 040012
	rst	$38                        ; 040015 || 	rst	$38                        ; 040013
	rst	$38                        ; 040016 || 	rst	$38                        ; 040014
	rst	$38                        ; 040017 || 	rst	$38                        ; 040015
	rst	$38                        ; 040018 || 	rst	$38                        ; 040016
	rst	$38                        ; 040019 || 	rst	$38                        ; 040017
	rst	$38                        ; 04001A || 	rst	$38                        ; 040018
	rst	$38                        ; 04001B || 	rst	$38                        ; 040019
	rst	$38                        ; 04001C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04001D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04001E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04001F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040020 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040021 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040022 || 	rst	$38                        ; 040020
	rst	$38                        ; 040023 || 	rst	$38                        ; 040011
	rst	$38                        ; 040024 || 	rst	$38                        ; 040012
	rst	$38                        ; 040025 || 	rst	$38                        ; 040013
	rst	$38                        ; 040026 || 	rst	$38                        ; 040014
	rst	$38                        ; 040027 || 	rst	$38                        ; 040015
	rst	$38                        ; 040028 || 	rst	$38                        ; 040016
	rst	$38                        ; 040029 || 	rst	$38                        ; 040017
	rst	$38                        ; 04002A || 	rst	$38                        ; 040018
	rst	$38                        ; 04002B || 	rst	$38                        ; 040019
	rst	$38                        ; 04002C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04002D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04002E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04002F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040030 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040031 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040032 || 	rst	$38                        ; 040020
	rst	$38                        ; 040033 || 	rst	$38                        ; 040011
	rst	$38                        ; 040034 || 	rst	$38                        ; 040012
	rst	$38                        ; 040035 || 	rst	$38                        ; 040013
	rst	$38                        ; 040036 || 	rst	$38                        ; 040014
	rst	$38                        ; 040037 || 	rst	$38                        ; 040015
	rst	$38                        ; 040038 || 	rst	$38                        ; 040016
	rst	$38                        ; 040039 || 	rst	$38                        ; 040017
	rst	$38                        ; 04003A || 	rst	$38                        ; 040018
	rst	$38                        ; 04003B || 	rst	$38                        ; 040019
	rst	$38                        ; 04003C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04003D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04003E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04003F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040040 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040041 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040042 || 	rst	$38                        ; 040020
	rst	$38                        ; 040043 || 	rst	$38                        ; 040011
	rst	$38                        ; 040044 || 	rst	$38                        ; 040012
	rst	$38                        ; 040045 || 	rst	$38                        ; 040013
	rst	$38                        ; 040046 || 	rst	$38                        ; 040014
	rst	$38                        ; 040047 || 	rst	$38                        ; 040015
	rst	$38                        ; 040048 || 	rst	$38                        ; 040016
	rst	$38                        ; 040049 || 	rst	$38                        ; 040017
	rst	$38                        ; 04004A || 	rst	$38                        ; 040018
	rst	$38                        ; 04004B || 	rst	$38                        ; 040019
	rst	$38                        ; 04004C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04004D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04004E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04004F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040050 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040051 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040052 || 	rst	$38                        ; 040020
	rst	$38                        ; 040053 || 	rst	$38                        ; 040011
	rst	$38                        ; 040054 || 	rst	$38                        ; 040012
	rst	$38                        ; 040055 || 	rst	$38                        ; 040013
	rst	$38                        ; 040056 || 	rst	$38                        ; 040014
	rst	$38                        ; 040057 || 	rst	$38                        ; 040015
	rst	$38                        ; 040058 || 	rst	$38                        ; 040016
	rst	$38                        ; 040059 || 	rst	$38                        ; 040017
	rst	$38                        ; 04005A || 	rst	$38                        ; 040018
	rst	$38                        ; 04005B || 	rst	$38                        ; 040019
	rst	$38                        ; 04005C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04005D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04005E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04005F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040060 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040061 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040062 || 	rst	$38                        ; 040020
	rst	$38                        ; 040063 || 	rst	$38                        ; 040011
	rst	$38                        ; 040064 || 	rst	$38                        ; 040012
	rst	$38                        ; 040065 || 	rst	$38                        ; 040013
	rst	$38                        ; 040066 || 	rst	$38                        ; 040014
	rst	$38                        ; 040067 || 	rst	$38                        ; 040015
	rst	$38                        ; 040068 || 	rst	$38                        ; 040016
	rst	$38                        ; 040069 || 	rst	$38                        ; 040017
	rst	$38                        ; 04006A || 	rst	$38                        ; 040018
	rst	$38                        ; 04006B || 	rst	$38                        ; 040019
	rst	$38                        ; 04006C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04006D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04006E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04006F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040070 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040071 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040072 || 	rst	$38                        ; 040020
	rst	$38                        ; 040073 || 	rst	$38                        ; 040011
	rst	$38                        ; 040074 || 	rst	$38                        ; 040012
	rst	$38                        ; 040075 || 	rst	$38                        ; 040013
	rst	$38                        ; 040076 || 	rst	$38                        ; 040014
	rst	$38                        ; 040077 || 	rst	$38                        ; 040015
	rst	$38                        ; 040078 || 	rst	$38                        ; 040016
	rst	$38                        ; 040079 || 	rst	$38                        ; 040017
	rst	$38                        ; 04007A || 	rst	$38                        ; 040018
	rst	$38                        ; 04007B || 	rst	$38                        ; 040019
	rst	$38                        ; 04007C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04007D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04007E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04007F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040080 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040081 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040082 || 	rst	$38                        ; 040020
	rst	$38                        ; 040083 || 	rst	$38                        ; 040011
	rst	$38                        ; 040084 || 	rst	$38                        ; 040012
	rst	$38                        ; 040085 || 	rst	$38                        ; 040013
	rst	$38                        ; 040086 || 	rst	$38                        ; 040014
	rst	$38                        ; 040087 || 	rst	$38                        ; 040015
	rst	$38                        ; 040088 || 	rst	$38                        ; 040016
	rst	$38                        ; 040089 || 	rst	$38                        ; 040017
	rst	$38                        ; 04008A || 	rst	$38                        ; 040018
	rst	$38                        ; 04008B || 	rst	$38                        ; 040019
	rst	$38                        ; 04008C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04008D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04008E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04008F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040090 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040091 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040092 || 	rst	$38                        ; 040020
	rst	$38                        ; 040093 || 	rst	$38                        ; 040011
	rst	$38                        ; 040094 || 	rst	$38                        ; 040012
	rst	$38                        ; 040095 || 	rst	$38                        ; 040013
	rst	$38                        ; 040096 || 	rst	$38                        ; 040014
	rst	$38                        ; 040097 || 	rst	$38                        ; 040015
	rst	$38                        ; 040098 || 	rst	$38                        ; 040016
	rst	$38                        ; 040099 || 	rst	$38                        ; 040017
	rst	$38                        ; 04009A || 	rst	$38                        ; 040018
	rst	$38                        ; 04009B || 	rst	$38                        ; 040019
	rst	$38                        ; 04009C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04009D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04009E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04009F || 	rst	$38                        ; 04001D
	rst	$38                        ; 0400A0 || 	rst	$38                        ; 04001E
	rst	$38                        ; 0400A1 || 	rst	$38                        ; 04001F
	rst	$38                        ; 0400A2 || 	rst	$38                        ; 040020
	rst	$38                        ; 0400A3 || 	rst	$38                        ; 040011
	rst	$38                        ; 0400A4 || 	rst	$38                        ; 040012
	rst	$38                        ; 0400A5 || 	rst	$38                        ; 040013
	rst	$38                        ; 0400A6 || 	rst	$38                        ; 040014
	rst	$38                        ; 0400A7 || 	rst	$38                        ; 040015
	rst	$38                        ; 0400A8 || 	rst	$38                        ; 040016
	rst	$38                        ; 0400A9 || 	rst	$38                        ; 040017
	rst	$38                        ; 0400AA || 	rst	$38                        ; 040018
	rst	$38                        ; 0400AB || 	rst	$38                        ; 040019
	rst	$38                        ; 0400AC || 	rst	$38                        ; 04001A
	rst	$38                        ; 0400AD || 	rst	$38                        ; 04001B
	rst	$38                        ; 0400AE || 	rst	$38                        ; 04001C
	rst	$38                        ; 0400AF || 	rst	$38                        ; 04001D
	rst	$38                        ; 0400B0 || 	rst	$38                        ; 04001E
	rst	$38                        ; 0400B1 || 	rst	$38                        ; 04001F
	rst	$38                        ; 0400B2 || 	rst	$38                        ; 040020
	rst	$38                        ; 0400B3 || 	rst	$38                        ; 040011
	rst	$38                        ; 0400B4 || 	rst	$38                        ; 040012
	rst	$38                        ; 0400B5 || 	rst	$38                        ; 040013
	rst	$38                        ; 0400B6 || 	rst	$38                        ; 040014
	rst	$38                        ; 0400B7 || 	rst	$38                        ; 040015
	rst	$38                        ; 0400B8 || 	rst	$38                        ; 040016
	rst	$38                        ; 0400B9 || 	rst	$38                        ; 040017
	rst	$38                        ; 0400BA || 	rst	$38                        ; 040018
	rst	$38                        ; 0400BB || 	rst	$38                        ; 040019
	rst	$38                        ; 0400BC || 	rst	$38                        ; 04001A
	rst	$38                        ; 0400BD || 	rst	$38                        ; 04001B
	rst	$38                        ; 0400BE || 	rst	$38                        ; 04001C
	rst	$38                        ; 0400BF || 	rst	$38                        ; 04001D
	rst	$38                        ; 0400C0 || 	rst	$38                        ; 04001E
	rst	$38                        ; 0400C1 || 	rst	$38                        ; 04001F
	rst	$38                        ; 0400C2 || 	rst	$38                        ; 040020
	rst	$38                        ; 0400C3 || 	rst	$38                        ; 040011
	rst	$38                        ; 0400C4 || 	rst	$38                        ; 040012
	rst	$38                        ; 0400C5 || 	rst	$38                        ; 040013
	rst	$38                        ; 0400C6 || 	rst	$38                        ; 040014
	rst	$38                        ; 0400C7 || 	rst	$38                        ; 040015
	rst	$38                        ; 0400C8 || 	rst	$38                        ; 040016
	rst	$38                        ; 0400C9 || 	rst	$38                        ; 040017
	rst	$38                        ; 0400CA || 	rst	$38                        ; 040018
	rst	$38                        ; 0400CB || 	rst	$38                        ; 040019
	rst	$38                        ; 0400CC || 	rst	$38                        ; 04001A
	rst	$38                        ; 0400CD || 	rst	$38                        ; 04001B
	rst	$38                        ; 0400CE || 	rst	$38                        ; 04001C
	rst	$38                        ; 0400CF || 	rst	$38                        ; 04001D
	rst	$38                        ; 0400D0 || 	rst	$38                        ; 04001E
	rst	$38                        ; 0400D1 || 	rst	$38                        ; 04001F
	rst	$38                        ; 0400D2 || 	rst	$38                        ; 040020
	rst	$38                        ; 0400D3 || 	rst	$38                        ; 040011
	rst	$38                        ; 0400D4 || 	rst	$38                        ; 040012
	rst	$38                        ; 0400D5 || 	rst	$38                        ; 040013
	rst	$38                        ; 0400D6 || 	rst	$38                        ; 040014
	rst	$38                        ; 0400D7 || 	rst	$38                        ; 040015
	rst	$38                        ; 0400D8 || 	rst	$38                        ; 040016
	rst	$38                        ; 0400D9 || 	rst	$38                        ; 040017
	rst	$38                        ; 0400DA || 	rst	$38                        ; 040018
	rst	$38                        ; 0400DB || 	rst	$38                        ; 040019
	rst	$38                        ; 0400DC || 	rst	$38                        ; 04001A
	rst	$38                        ; 0400DD || 	rst	$38                        ; 04001B
	rst	$38                        ; 0400DE || 	rst	$38                        ; 04001C
	rst	$38                        ; 0400DF || 	rst	$38                        ; 04001D
	rst	$38                        ; 0400E0 || 	rst	$38                        ; 04001E
	rst	$38                        ; 0400E1 || 	rst	$38                        ; 04001F
	rst	$38                        ; 0400E2 || 	rst	$38                        ; 040020
	rst	$38                        ; 0400E3 || 	rst	$38                        ; 040011
	rst	$38                        ; 0400E4 || 	rst	$38                        ; 040012
	rst	$38                        ; 0400E5 || 	rst	$38                        ; 040013
	rst	$38                        ; 0400E6 || 	rst	$38                        ; 040014
	rst	$38                        ; 0400E7 || 	rst	$38                        ; 040015
	rst	$38                        ; 0400E8 || 	rst	$38                        ; 040016
	rst	$38                        ; 0400E9 || 	rst	$38                        ; 040017
	rst	$38                        ; 0400EA || 	rst	$38                        ; 040018
	rst	$38                        ; 0400EB || 	rst	$38                        ; 040019
	rst	$38                        ; 0400EC || 	rst	$38                        ; 04001A
	rst	$38                        ; 0400ED || 	rst	$38                        ; 04001B
	rst	$38                        ; 0400EE || 	rst	$38                        ; 04001C
	rst	$38                        ; 0400EF || 	rst	$38                        ; 04001D
	rst	$38                        ; 0400F0 || 	rst	$38                        ; 04001E
	rst	$38                        ; 0400F1 || 	rst	$38                        ; 04001F
	rst	$38                        ; 0400F2 || 	rst	$38                        ; 040020
	rst	$38                        ; 0400F3 || 	rst	$38                        ; 040011
	rst	$38                        ; 0400F4 || 	rst	$38                        ; 040012
	rst	$38                        ; 0400F5 || 	rst	$38                        ; 040013
	rst	$38                        ; 0400F6 || 	rst	$38                        ; 040014
	rst	$38                        ; 0400F7 || 	rst	$38                        ; 040015
	rst	$38                        ; 0400F8 || 	rst	$38                        ; 040016
	rst	$38                        ; 0400F9 || 	rst	$38                        ; 040017
	rst	$38                        ; 0400FA || 	rst	$38                        ; 040018
	rst	$38                        ; 0400FB || 	rst	$38                        ; 040019
	rst	$38                        ; 0400FC || 	rst	$38                        ; 04001A
	rst	$38                        ; 0400FD || 	rst	$38                        ; 04001B
	rst	$38                        ; 0400FE || 	rst	$38                        ; 04001C
	rst	$38                        ; 0400FF || 	rst	$38                        ; 04001D
	rst	$38                        ; 040100 || 	rst	$38                        ; 04001E || 040100             0064*  ACCS:			DS		256             ; String Accumulator
	rst	$38                        ; 040101 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040102 || 	rst	$38                        ; 040020
	rst	$38                        ; 040103 || 	rst	$38                        ; 040011
	rst	$38                        ; 040104 || 	rst	$38                        ; 040012
	rst	$38                        ; 040105 || 	rst	$38                        ; 040013
	rst	$38                        ; 040106 || 	rst	$38                        ; 040014
	rst	$38                        ; 040107 || 	rst	$38                        ; 040015
	rst	$38                        ; 040108 || 	rst	$38                        ; 040016
	rst	$38                        ; 040109 || 	rst	$38                        ; 040017
	rst	$38                        ; 04010A || 	rst	$38                        ; 040018
	rst	$38                        ; 04010B || 	rst	$38                        ; 040019
	rst	$38                        ; 04010C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04010D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04010E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04010F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040110 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040111 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040112 || 	rst	$38                        ; 040020
	rst	$38                        ; 040113 || 	rst	$38                        ; 040011
	rst	$38                        ; 040114 || 	rst	$38                        ; 040012
	rst	$38                        ; 040115 || 	rst	$38                        ; 040013
	rst	$38                        ; 040116 || 	rst	$38                        ; 040014
	rst	$38                        ; 040117 || 	rst	$38                        ; 040015
	rst	$38                        ; 040118 || 	rst	$38                        ; 040016
	rst	$38                        ; 040119 || 	rst	$38                        ; 040017
	rst	$38                        ; 04011A || 	rst	$38                        ; 040018
	rst	$38                        ; 04011B || 	rst	$38                        ; 040019
	rst	$38                        ; 04011C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04011D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04011E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04011F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040120 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040121 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040122 || 	rst	$38                        ; 040020
	rst	$38                        ; 040123 || 	rst	$38                        ; 040011
	rst	$38                        ; 040124 || 	rst	$38                        ; 040012
	rst	$38                        ; 040125 || 	rst	$38                        ; 040013
	rst	$38                        ; 040126 || 	rst	$38                        ; 040014
	rst	$38                        ; 040127 || 	rst	$38                        ; 040015
	rst	$38                        ; 040128 || 	rst	$38                        ; 040016
	rst	$38                        ; 040129 || 	rst	$38                        ; 040017
	rst	$38                        ; 04012A || 	rst	$38                        ; 040018
	rst	$38                        ; 04012B || 	rst	$38                        ; 040019
	rst	$38                        ; 04012C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04012D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04012E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04012F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040130 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040131 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040132 || 	rst	$38                        ; 040020
	rst	$38                        ; 040133 || 	rst	$38                        ; 040011
	rst	$38                        ; 040134 || 	rst	$38                        ; 040012
	rst	$38                        ; 040135 || 	rst	$38                        ; 040013
	rst	$38                        ; 040136 || 	rst	$38                        ; 040014
	rst	$38                        ; 040137 || 	rst	$38                        ; 040015
	rst	$38                        ; 040138 || 	rst	$38                        ; 040016
	rst	$38                        ; 040139 || 	rst	$38                        ; 040017
	rst	$38                        ; 04013A || 	rst	$38                        ; 040018
	rst	$38                        ; 04013B || 	rst	$38                        ; 040019
	rst	$38                        ; 04013C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04013D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04013E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04013F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040140 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040141 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040142 || 	rst	$38                        ; 040020
	rst	$38                        ; 040143 || 	rst	$38                        ; 040011
	rst	$38                        ; 040144 || 	rst	$38                        ; 040012
	rst	$38                        ; 040145 || 	rst	$38                        ; 040013
	rst	$38                        ; 040146 || 	rst	$38                        ; 040014
	rst	$38                        ; 040147 || 	rst	$38                        ; 040015
	rst	$38                        ; 040148 || 	rst	$38                        ; 040016
	rst	$38                        ; 040149 || 	rst	$38                        ; 040017
	rst	$38                        ; 04014A || 	rst	$38                        ; 040018
	rst	$38                        ; 04014B || 	rst	$38                        ; 040019
	rst	$38                        ; 04014C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04014D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04014E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04014F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040150 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040151 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040152 || 	rst	$38                        ; 040020
	rst	$38                        ; 040153 || 	rst	$38                        ; 040011
	rst	$38                        ; 040154 || 	rst	$38                        ; 040012
	rst	$38                        ; 040155 || 	rst	$38                        ; 040013
	rst	$38                        ; 040156 || 	rst	$38                        ; 040014
	rst	$38                        ; 040157 || 	rst	$38                        ; 040015
	rst	$38                        ; 040158 || 	rst	$38                        ; 040016
	rst	$38                        ; 040159 || 	rst	$38                        ; 040017
	rst	$38                        ; 04015A || 	rst	$38                        ; 040018
	rst	$38                        ; 04015B || 	rst	$38                        ; 040019
	rst	$38                        ; 04015C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04015D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04015E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04015F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040160 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040161 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040162 || 	rst	$38                        ; 040020
	rst	$38                        ; 040163 || 	rst	$38                        ; 040011
	rst	$38                        ; 040164 || 	rst	$38                        ; 040012
	rst	$38                        ; 040165 || 	rst	$38                        ; 040013
	rst	$38                        ; 040166 || 	rst	$38                        ; 040014
	rst	$38                        ; 040167 || 	rst	$38                        ; 040015
	rst	$38                        ; 040168 || 	rst	$38                        ; 040016
	rst	$38                        ; 040169 || 	rst	$38                        ; 040017
	rst	$38                        ; 04016A || 	rst	$38                        ; 040018
	rst	$38                        ; 04016B || 	rst	$38                        ; 040019
	rst	$38                        ; 04016C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04016D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04016E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04016F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040170 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040171 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040172 || 	rst	$38                        ; 040020
	rst	$38                        ; 040173 || 	rst	$38                        ; 040011
	rst	$38                        ; 040174 || 	rst	$38                        ; 040012
	rst	$38                        ; 040175 || 	rst	$38                        ; 040013
	rst	$38                        ; 040176 || 	rst	$38                        ; 040014
	rst	$38                        ; 040177 || 	rst	$38                        ; 040015
	rst	$38                        ; 040178 || 	rst	$38                        ; 040016
	rst	$38                        ; 040179 || 	rst	$38                        ; 040017
	rst	$38                        ; 04017A || 	rst	$38                        ; 040018
	rst	$38                        ; 04017B || 	rst	$38                        ; 040019
	rst	$38                        ; 04017C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04017D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04017E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04017F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040180 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040181 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040182 || 	rst	$38                        ; 040020
	rst	$38                        ; 040183 || 	rst	$38                        ; 040011
	rst	$38                        ; 040184 || 	rst	$38                        ; 040012
	rst	$38                        ; 040185 || 	rst	$38                        ; 040013
	rst	$38                        ; 040186 || 	rst	$38                        ; 040014
	rst	$38                        ; 040187 || 	rst	$38                        ; 040015
	rst	$38                        ; 040188 || 	rst	$38                        ; 040016
	rst	$38                        ; 040189 || 	rst	$38                        ; 040017
	rst	$38                        ; 04018A || 	rst	$38                        ; 040018
	rst	$38                        ; 04018B || 	rst	$38                        ; 040019
	rst	$38                        ; 04018C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04018D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04018E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04018F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040190 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040191 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040192 || 	rst	$38                        ; 040020
	rst	$38                        ; 040193 || 	rst	$38                        ; 040011
	rst	$38                        ; 040194 || 	rst	$38                        ; 040012
	rst	$38                        ; 040195 || 	rst	$38                        ; 040013
	rst	$38                        ; 040196 || 	rst	$38                        ; 040014
	rst	$38                        ; 040197 || 	rst	$38                        ; 040015
	rst	$38                        ; 040198 || 	rst	$38                        ; 040016
	rst	$38                        ; 040199 || 	rst	$38                        ; 040017
	rst	$38                        ; 04019A || 	rst	$38                        ; 040018
	rst	$38                        ; 04019B || 	rst	$38                        ; 040019
	rst	$38                        ; 04019C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04019D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04019E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04019F || 	rst	$38                        ; 04001D
	rst	$38                        ; 0401A0 || 	rst	$38                        ; 04001E
	rst	$38                        ; 0401A1 || 	rst	$38                        ; 04001F
	rst	$38                        ; 0401A2 || 	rst	$38                        ; 040020
	rst	$38                        ; 0401A3 || 	rst	$38                        ; 040011
	rst	$38                        ; 0401A4 || 	rst	$38                        ; 040012
	rst	$38                        ; 0401A5 || 	rst	$38                        ; 040013
	rst	$38                        ; 0401A6 || 	rst	$38                        ; 040014
	rst	$38                        ; 0401A7 || 	rst	$38                        ; 040015
	rst	$38                        ; 0401A8 || 	rst	$38                        ; 040016
	rst	$38                        ; 0401A9 || 	rst	$38                        ; 040017
	rst	$38                        ; 0401AA || 	rst	$38                        ; 040018
	rst	$38                        ; 0401AB || 	rst	$38                        ; 040019
	rst	$38                        ; 0401AC || 	rst	$38                        ; 04001A
	rst	$38                        ; 0401AD || 	rst	$38                        ; 04001B
	rst	$38                        ; 0401AE || 	rst	$38                        ; 04001C
	rst	$38                        ; 0401AF || 	rst	$38                        ; 04001D
	rst	$38                        ; 0401B0 || 	rst	$38                        ; 04001E
	rst	$38                        ; 0401B1 || 	rst	$38                        ; 04001F
	rst	$38                        ; 0401B2 || 	rst	$38                        ; 040020
	rst	$38                        ; 0401B3 || 	rst	$38                        ; 040011
	rst	$38                        ; 0401B4 || 	rst	$38                        ; 040012
	rst	$38                        ; 0401B5 || 	rst	$38                        ; 040013
	rst	$38                        ; 0401B6 || 	rst	$38                        ; 040014
	rst	$38                        ; 0401B7 || 	rst	$38                        ; 040015
	rst	$38                        ; 0401B8 || 	rst	$38                        ; 040016
	rst	$38                        ; 0401B9 || 	rst	$38                        ; 040017
	rst	$38                        ; 0401BA || 	rst	$38                        ; 040018
	rst	$38                        ; 0401BB || 	rst	$38                        ; 040019
	rst	$38                        ; 0401BC || 	rst	$38                        ; 04001A
	rst	$38                        ; 0401BD || 	rst	$38                        ; 04001B
	rst	$38                        ; 0401BE || 	rst	$38                        ; 04001C
	rst	$38                        ; 0401BF || 	rst	$38                        ; 04001D
	rst	$38                        ; 0401C0 || 	rst	$38                        ; 04001E
	rst	$38                        ; 0401C1 || 	rst	$38                        ; 04001F
	rst	$38                        ; 0401C2 || 	rst	$38                        ; 040020
	rst	$38                        ; 0401C3 || 	rst	$38                        ; 040011
	rst	$38                        ; 0401C4 || 	rst	$38                        ; 040012
	rst	$38                        ; 0401C5 || 	rst	$38                        ; 040013
	rst	$38                        ; 0401C6 || 	rst	$38                        ; 040014
	rst	$38                        ; 0401C7 || 	rst	$38                        ; 040015
	rst	$38                        ; 0401C8 || 	rst	$38                        ; 040016
	rst	$38                        ; 0401C9 || 	rst	$38                        ; 040017
	rst	$38                        ; 0401CA || 	rst	$38                        ; 040018
	rst	$38                        ; 0401CB || 	rst	$38                        ; 040019
	rst	$38                        ; 0401CC || 	rst	$38                        ; 04001A
	rst	$38                        ; 0401CD || 	rst	$38                        ; 04001B
	rst	$38                        ; 0401CE || 	rst	$38                        ; 04001C
	rst	$38                        ; 0401CF || 	rst	$38                        ; 04001D
	rst	$38                        ; 0401D0 || 	rst	$38                        ; 04001E
	rst	$38                        ; 0401D1 || 	rst	$38                        ; 04001F
	rst	$38                        ; 0401D2 || 	rst	$38                        ; 040020
	rst	$38                        ; 0401D3 || 	rst	$38                        ; 040011
	rst	$38                        ; 0401D4 || 	rst	$38                        ; 040012
	rst	$38                        ; 0401D5 || 	rst	$38                        ; 040013
	rst	$38                        ; 0401D6 || 	rst	$38                        ; 040014
	rst	$38                        ; 0401D7 || 	rst	$38                        ; 040015
	rst	$38                        ; 0401D8 || 	rst	$38                        ; 040016
	rst	$38                        ; 0401D9 || 	rst	$38                        ; 040017
	rst	$38                        ; 0401DA || 	rst	$38                        ; 040018
	rst	$38                        ; 0401DB || 	rst	$38                        ; 040019
	rst	$38                        ; 0401DC || 	rst	$38                        ; 04001A
	rst	$38                        ; 0401DD || 	rst	$38                        ; 04001B
	rst	$38                        ; 0401DE || 	rst	$38                        ; 04001C
	rst	$38                        ; 0401DF || 	rst	$38                        ; 04001D
	rst	$38                        ; 0401E0 || 	rst	$38                        ; 04001E
	rst	$38                        ; 0401E1 || 	rst	$38                        ; 04001F
	rst	$38                        ; 0401E2 || 	rst	$38                        ; 040020
	rst	$38                        ; 0401E3 || 	rst	$38                        ; 040011
	rst	$38                        ; 0401E4 || 	rst	$38                        ; 040012
	rst	$38                        ; 0401E5 || 	rst	$38                        ; 040013
	rst	$38                        ; 0401E6 || 	rst	$38                        ; 040014
	rst	$38                        ; 0401E7 || 	rst	$38                        ; 040015
	rst	$38                        ; 0401E8 || 	rst	$38                        ; 040016
	rst	$38                        ; 0401E9 || 	rst	$38                        ; 040017
	rst	$38                        ; 0401EA || 	rst	$38                        ; 040018
	rst	$38                        ; 0401EB || 	rst	$38                        ; 040019
	rst	$38                        ; 0401EC || 	rst	$38                        ; 04001A
	rst	$38                        ; 0401ED || 	rst	$38                        ; 04001B
	rst	$38                        ; 0401EE || 	rst	$38                        ; 04001C
	rst	$38                        ; 0401EF || 	rst	$38                        ; 04001D
	rst	$38                        ; 0401F0 || 	rst	$38                        ; 04001E
	rst	$38                        ; 0401F1 || 	rst	$38                        ; 04001F
	rst	$38                        ; 0401F2 || 	rst	$38                        ; 040020
	rst	$38                        ; 0401F3 || 	rst	$38                        ; 040011
	rst	$38                        ; 0401F4 || 	rst	$38                        ; 040012
	rst	$38                        ; 0401F5 || 	rst	$38                        ; 040013
	rst	$38                        ; 0401F6 || 	rst	$38                        ; 040014
	rst	$38                        ; 0401F7 || 	rst	$38                        ; 040015
	rst	$38                        ; 0401F8 || 	rst	$38                        ; 040016
	rst	$38                        ; 0401F9 || 	rst	$38                        ; 040017
	rst	$38                        ; 0401FA || 	rst	$38                        ; 040018
	rst	$38                        ; 0401FB || 	rst	$38                        ; 040019
	rst	$38                        ; 0401FC || 	rst	$38                        ; 04001A
	rst	$38                        ; 0401FD || 	rst	$38                        ; 04001B
	rst	$38                        ; 0401FE || 	rst	$38                        ; 04001C
	rst	$38                        ; 0401FF || 	rst	$38                        ; 04001D
	rst	$38                        ; 040200 || 	rst	$38                        ; 04001E || 040200             0065*  BUFFER:			DS		256             ; String Input Buffer
	rst	$38                        ; 040201 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040202 || 	rst	$38                        ; 040020
	rst	$38                        ; 040203 || 	rst	$38                        ; 040011
	rst	$38                        ; 040204 || 	rst	$38                        ; 040012
	rst	$38                        ; 040205 || 	rst	$38                        ; 040013
	rst	$38                        ; 040206 || 	rst	$38                        ; 040014
	rst	$38                        ; 040207 || 	rst	$38                        ; 040015
	rst	$38                        ; 040208 || 	rst	$38                        ; 040016
	rst	$38                        ; 040209 || 	rst	$38                        ; 040017
	rst	$38                        ; 04020A || 	rst	$38                        ; 040018
	rst	$38                        ; 04020B || 	rst	$38                        ; 040019
	rst	$38                        ; 04020C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04020D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04020E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04020F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040210 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040211 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040212 || 	rst	$38                        ; 040020
	rst	$38                        ; 040213 || 	rst	$38                        ; 040011
	rst	$38                        ; 040214 || 	rst	$38                        ; 040012
	rst	$38                        ; 040215 || 	rst	$38                        ; 040013
	rst	$38                        ; 040216 || 	rst	$38                        ; 040014
	rst	$38                        ; 040217 || 	rst	$38                        ; 040015
	rst	$38                        ; 040218 || 	rst	$38                        ; 040016
	rst	$38                        ; 040219 || 	rst	$38                        ; 040017
	rst	$38                        ; 04021A || 	rst	$38                        ; 040018
	rst	$38                        ; 04021B || 	rst	$38                        ; 040019
	rst	$38                        ; 04021C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04021D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04021E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04021F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040220 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040221 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040222 || 	rst	$38                        ; 040020
	rst	$38                        ; 040223 || 	rst	$38                        ; 040011
	rst	$38                        ; 040224 || 	rst	$38                        ; 040012
	rst	$38                        ; 040225 || 	rst	$38                        ; 040013
	rst	$38                        ; 040226 || 	rst	$38                        ; 040014
	rst	$38                        ; 040227 || 	rst	$38                        ; 040015
	rst	$38                        ; 040228 || 	rst	$38                        ; 040016
	rst	$38                        ; 040229 || 	rst	$38                        ; 040017
	rst	$38                        ; 04022A || 	rst	$38                        ; 040018
	rst	$38                        ; 04022B || 	rst	$38                        ; 040019
	rst	$38                        ; 04022C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04022D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04022E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04022F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040230 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040231 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040232 || 	rst	$38                        ; 040020
	rst	$38                        ; 040233 || 	rst	$38                        ; 040011
	rst	$38                        ; 040234 || 	rst	$38                        ; 040012
	rst	$38                        ; 040235 || 	rst	$38                        ; 040013
	rst	$38                        ; 040236 || 	rst	$38                        ; 040014
	rst	$38                        ; 040237 || 	rst	$38                        ; 040015
	rst	$38                        ; 040238 || 	rst	$38                        ; 040016
	rst	$38                        ; 040239 || 	rst	$38                        ; 040017
	rst	$38                        ; 04023A || 	rst	$38                        ; 040018
	rst	$38                        ; 04023B || 	rst	$38                        ; 040019
	rst	$38                        ; 04023C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04023D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04023E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04023F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040240 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040241 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040242 || 	rst	$38                        ; 040020
	rst	$38                        ; 040243 || 	rst	$38                        ; 040011
	rst	$38                        ; 040244 || 	rst	$38                        ; 040012
	rst	$38                        ; 040245 || 	rst	$38                        ; 040013
	rst	$38                        ; 040246 || 	rst	$38                        ; 040014
	rst	$38                        ; 040247 || 	rst	$38                        ; 040015
	rst	$38                        ; 040248 || 	rst	$38                        ; 040016
	rst	$38                        ; 040249 || 	rst	$38                        ; 040017
	rst	$38                        ; 04024A || 	rst	$38                        ; 040018
	rst	$38                        ; 04024B || 	rst	$38                        ; 040019
	rst	$38                        ; 04024C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04024D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04024E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04024F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040250 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040251 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040252 || 	rst	$38                        ; 040020
	rst	$38                        ; 040253 || 	rst	$38                        ; 040011
	rst	$38                        ; 040254 || 	rst	$38                        ; 040012
	rst	$38                        ; 040255 || 	rst	$38                        ; 040013
	rst	$38                        ; 040256 || 	rst	$38                        ; 040014
	rst	$38                        ; 040257 || 	rst	$38                        ; 040015
	rst	$38                        ; 040258 || 	rst	$38                        ; 040016
	rst	$38                        ; 040259 || 	rst	$38                        ; 040017
	rst	$38                        ; 04025A || 	rst	$38                        ; 040018
	rst	$38                        ; 04025B || 	rst	$38                        ; 040019
	rst	$38                        ; 04025C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04025D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04025E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04025F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040260 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040261 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040262 || 	rst	$38                        ; 040020
	rst	$38                        ; 040263 || 	rst	$38                        ; 040011
	rst	$38                        ; 040264 || 	rst	$38                        ; 040012
	rst	$38                        ; 040265 || 	rst	$38                        ; 040013
	rst	$38                        ; 040266 || 	rst	$38                        ; 040014
	rst	$38                        ; 040267 || 	rst	$38                        ; 040015
	rst	$38                        ; 040268 || 	rst	$38                        ; 040016
	rst	$38                        ; 040269 || 	rst	$38                        ; 040017
	rst	$38                        ; 04026A || 	rst	$38                        ; 040018
	rst	$38                        ; 04026B || 	rst	$38                        ; 040019
	rst	$38                        ; 04026C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04026D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04026E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04026F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040270 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040271 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040272 || 	rst	$38                        ; 040020
	rst	$38                        ; 040273 || 	rst	$38                        ; 040011
	rst	$38                        ; 040274 || 	rst	$38                        ; 040012
	rst	$38                        ; 040275 || 	rst	$38                        ; 040013
	rst	$38                        ; 040276 || 	rst	$38                        ; 040014
	rst	$38                        ; 040277 || 	rst	$38                        ; 040015
	rst	$38                        ; 040278 || 	rst	$38                        ; 040016
	rst	$38                        ; 040279 || 	rst	$38                        ; 040017
	rst	$38                        ; 04027A || 	rst	$38                        ; 040018
	rst	$38                        ; 04027B || 	rst	$38                        ; 040019
	rst	$38                        ; 04027C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04027D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04027E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04027F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040280 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040281 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040282 || 	rst	$38                        ; 040020
	rst	$38                        ; 040283 || 	rst	$38                        ; 040011
	rst	$38                        ; 040284 || 	rst	$38                        ; 040012
	rst	$38                        ; 040285 || 	rst	$38                        ; 040013
	rst	$38                        ; 040286 || 	rst	$38                        ; 040014
	rst	$38                        ; 040287 || 	rst	$38                        ; 040015
	rst	$38                        ; 040288 || 	rst	$38                        ; 040016
	rst	$38                        ; 040289 || 	rst	$38                        ; 040017
	rst	$38                        ; 04028A || 	rst	$38                        ; 040018
	rst	$38                        ; 04028B || 	rst	$38                        ; 040019
	rst	$38                        ; 04028C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04028D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04028E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04028F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040290 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040291 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040292 || 	rst	$38                        ; 040020
	rst	$38                        ; 040293 || 	rst	$38                        ; 040011
	rst	$38                        ; 040294 || 	rst	$38                        ; 040012
	rst	$38                        ; 040295 || 	rst	$38                        ; 040013
	rst	$38                        ; 040296 || 	rst	$38                        ; 040014
	rst	$38                        ; 040297 || 	rst	$38                        ; 040015
	rst	$38                        ; 040298 || 	rst	$38                        ; 040016
	rst	$38                        ; 040299 || 	rst	$38                        ; 040017
	rst	$38                        ; 04029A || 	rst	$38                        ; 040018
	rst	$38                        ; 04029B || 	rst	$38                        ; 040019
	rst	$38                        ; 04029C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04029D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04029E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04029F || 	rst	$38                        ; 04001D
	rst	$38                        ; 0402A0 || 	rst	$38                        ; 04001E
	rst	$38                        ; 0402A1 || 	rst	$38                        ; 04001F
	rst	$38                        ; 0402A2 || 	rst	$38                        ; 040020
	rst	$38                        ; 0402A3 || 	rst	$38                        ; 040011
	rst	$38                        ; 0402A4 || 	rst	$38                        ; 040012
	rst	$38                        ; 0402A5 || 	rst	$38                        ; 040013
	rst	$38                        ; 0402A6 || 	rst	$38                        ; 040014
	rst	$38                        ; 0402A7 || 	rst	$38                        ; 040015
	rst	$38                        ; 0402A8 || 	rst	$38                        ; 040016
	rst	$38                        ; 0402A9 || 	rst	$38                        ; 040017
	rst	$38                        ; 0402AA || 	rst	$38                        ; 040018
	rst	$38                        ; 0402AB || 	rst	$38                        ; 040019
	rst	$38                        ; 0402AC || 	rst	$38                        ; 04001A
	rst	$38                        ; 0402AD || 	rst	$38                        ; 04001B
	rst	$38                        ; 0402AE || 	rst	$38                        ; 04001C
	rst	$38                        ; 0402AF || 	rst	$38                        ; 04001D
	rst	$38                        ; 0402B0 || 	rst	$38                        ; 04001E
	rst	$38                        ; 0402B1 || 	rst	$38                        ; 04001F
	rst	$38                        ; 0402B2 || 	rst	$38                        ; 040020
	rst	$38                        ; 0402B3 || 	rst	$38                        ; 040011
	rst	$38                        ; 0402B4 || 	rst	$38                        ; 040012
	rst	$38                        ; 0402B5 || 	rst	$38                        ; 040013
	rst	$38                        ; 0402B6 || 	rst	$38                        ; 040014
	rst	$38                        ; 0402B7 || 	rst	$38                        ; 040015
	rst	$38                        ; 0402B8 || 	rst	$38                        ; 040016
	rst	$38                        ; 0402B9 || 	rst	$38                        ; 040017
	rst	$38                        ; 0402BA || 	rst	$38                        ; 040018
	rst	$38                        ; 0402BB || 	rst	$38                        ; 040019
	rst	$38                        ; 0402BC || 	rst	$38                        ; 04001A
	rst	$38                        ; 0402BD || 	rst	$38                        ; 04001B
	rst	$38                        ; 0402BE || 	rst	$38                        ; 04001C
	rst	$38                        ; 0402BF || 	rst	$38                        ; 04001D
	rst	$38                        ; 0402C0 || 	rst	$38                        ; 04001E
	rst	$38                        ; 0402C1 || 	rst	$38                        ; 04001F
	rst	$38                        ; 0402C2 || 	rst	$38                        ; 040020
	rst	$38                        ; 0402C3 || 	rst	$38                        ; 040011
	rst	$38                        ; 0402C4 || 	rst	$38                        ; 040012
	rst	$38                        ; 0402C5 || 	rst	$38                        ; 040013
	rst	$38                        ; 0402C6 || 	rst	$38                        ; 040014
	rst	$38                        ; 0402C7 || 	rst	$38                        ; 040015
	rst	$38                        ; 0402C8 || 	rst	$38                        ; 040016
	rst	$38                        ; 0402C9 || 	rst	$38                        ; 040017
	rst	$38                        ; 0402CA || 	rst	$38                        ; 040018
	rst	$38                        ; 0402CB || 	rst	$38                        ; 040019
	rst	$38                        ; 0402CC || 	rst	$38                        ; 04001A
	rst	$38                        ; 0402CD || 	rst	$38                        ; 04001B
	rst	$38                        ; 0402CE || 	rst	$38                        ; 04001C
	rst	$38                        ; 0402CF || 	rst	$38                        ; 04001D
	rst	$38                        ; 0402D0 || 	rst	$38                        ; 04001E
	rst	$38                        ; 0402D1 || 	rst	$38                        ; 04001F
	rst	$38                        ; 0402D2 || 	rst	$38                        ; 040020
	rst	$38                        ; 0402D3 || 	rst	$38                        ; 040011
	rst	$38                        ; 0402D4 || 	rst	$38                        ; 040012
	rst	$38                        ; 0402D5 || 	rst	$38                        ; 040013
	rst	$38                        ; 0402D6 || 	rst	$38                        ; 040014
	rst	$38                        ; 0402D7 || 	rst	$38                        ; 040015
	rst	$38                        ; 0402D8 || 	rst	$38                        ; 040016
	rst	$38                        ; 0402D9 || 	rst	$38                        ; 040017
	rst	$38                        ; 0402DA || 	rst	$38                        ; 040018
	rst	$38                        ; 0402DB || 	rst	$38                        ; 040019
	rst	$38                        ; 0402DC || 	rst	$38                        ; 04001A
	rst	$38                        ; 0402DD || 	rst	$38                        ; 04001B
	rst	$38                        ; 0402DE || 	rst	$38                        ; 04001C
	rst	$38                        ; 0402DF || 	rst	$38                        ; 04001D
	rst	$38                        ; 0402E0 || 	rst	$38                        ; 04001E
	rst	$38                        ; 0402E1 || 	rst	$38                        ; 04001F
	rst	$38                        ; 0402E2 || 	rst	$38                        ; 040020
	rst	$38                        ; 0402E3 || 	rst	$38                        ; 040011
	rst	$38                        ; 0402E4 || 	rst	$38                        ; 040012
	rst	$38                        ; 0402E5 || 	rst	$38                        ; 040013
	rst	$38                        ; 0402E6 || 	rst	$38                        ; 040014
	rst	$38                        ; 0402E7 || 	rst	$38                        ; 040015
	rst	$38                        ; 0402E8 || 	rst	$38                        ; 040016
	rst	$38                        ; 0402E9 || 	rst	$38                        ; 040017
	rst	$38                        ; 0402EA || 	rst	$38                        ; 040018
	rst	$38                        ; 0402EB || 	rst	$38                        ; 040019
	rst	$38                        ; 0402EC || 	rst	$38                        ; 04001A
	rst	$38                        ; 0402ED || 	rst	$38                        ; 04001B
	rst	$38                        ; 0402EE || 	rst	$38                        ; 04001C
	rst	$38                        ; 0402EF || 	rst	$38                        ; 04001D
	rst	$38                        ; 0402F0 || 	rst	$38                        ; 04001E
	rst	$38                        ; 0402F1 || 	rst	$38                        ; 04001F
	rst	$38                        ; 0402F2 || 	rst	$38                        ; 040020
	rst	$38                        ; 0402F3 || 	rst	$38                        ; 040011
	rst	$38                        ; 0402F4 || 	rst	$38                        ; 040012
	rst	$38                        ; 0402F5 || 	rst	$38                        ; 040013
	rst	$38                        ; 0402F6 || 	rst	$38                        ; 040014
	rst	$38                        ; 0402F7 || 	rst	$38                        ; 040015
	rst	$38                        ; 0402F8 || 	rst	$38                        ; 040016
	rst	$38                        ; 0402F9 || 	rst	$38                        ; 040017
	rst	$38                        ; 0402FA || 	rst	$38                        ; 040018
	rst	$38                        ; 0402FB || 	rst	$38                        ; 040019
	rst	$38                        ; 0402FC || 	rst	$38                        ; 04001A
	rst	$38                        ; 0402FD || 	rst	$38                        ; 04001B
	rst	$38                        ; 0402FE || 	rst	$38                        ; 04001C
	rst	$38                        ; 0402FF || 	rst	$38                        ; 04001D
	rst	$38                        ; 040300 || 	rst	$38                        ; 04001E || 040300             0066*  STAVAR:			DS	 	27*4            ; Static Variables
	rst	$38                        ; 040301 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040302 || 	rst	$38                        ; 040020
	rst	$38                        ; 040303 || 	rst	$38                        ; 040011
	rst	$38                        ; 040304 || 	rst	$38                        ; 040012
	rst	$38                        ; 040305 || 	rst	$38                        ; 040013
	rst	$38                        ; 040306 || 	rst	$38                        ; 040014
	rst	$38                        ; 040307 || 	rst	$38                        ; 040015
	rst	$38                        ; 040308 || 	rst	$38                        ; 040016
	rst	$38                        ; 040309 || 	rst	$38                        ; 040017
	rst	$38                        ; 04030A || 	rst	$38                        ; 040018
	rst	$38                        ; 04030B || 	rst	$38                        ; 040019
	rst	$38                        ; 04030C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04030D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04030E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04030F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040310 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040311 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040312 || 	rst	$38                        ; 040020
	rst	$38                        ; 040313 || 	rst	$38                        ; 040011
	rst	$38                        ; 040314 || 	rst	$38                        ; 040012
	rst	$38                        ; 040315 || 	rst	$38                        ; 040013
	rst	$38                        ; 040316 || 	rst	$38                        ; 040014
	rst	$38                        ; 040317 || 	rst	$38                        ; 040015
	rst	$38                        ; 040318 || 	rst	$38                        ; 040016
	rst	$38                        ; 040319 || 	rst	$38                        ; 040017
	rst	$38                        ; 04031A || 	rst	$38                        ; 040018
	rst	$38                        ; 04031B || 	rst	$38                        ; 040019
	rst	$38                        ; 04031C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04031D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04031E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04031F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040320 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040321 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040322 || 	rst	$38                        ; 040020
	rst	$38                        ; 040323 || 	rst	$38                        ; 040011
	rst	$38                        ; 040324 || 	rst	$38                        ; 040012
	rst	$38                        ; 040325 || 	rst	$38                        ; 040013
	rst	$38                        ; 040326 || 	rst	$38                        ; 040014
	rst	$38                        ; 040327 || 	rst	$38                        ; 040015
	rst	$38                        ; 040328 || 	rst	$38                        ; 040016
	rst	$38                        ; 040329 || 	rst	$38                        ; 040017
	rst	$38                        ; 04032A || 	rst	$38                        ; 040018
	rst	$38                        ; 04032B || 	rst	$38                        ; 040019
	rst	$38                        ; 04032C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04032D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04032E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04032F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040330 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040331 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040332 || 	rst	$38                        ; 040020
	rst	$38                        ; 040333 || 	rst	$38                        ; 040011
	rst	$38                        ; 040334 || 	rst	$38                        ; 040012
	rst	$38                        ; 040335 || 	rst	$38                        ; 040013
	rst	$38                        ; 040336 || 	rst	$38                        ; 040014
	rst	$38                        ; 040337 || 	rst	$38                        ; 040015
	rst	$38                        ; 040338 || 	rst	$38                        ; 040016
	rst	$38                        ; 040339 || 	rst	$38                        ; 040017
	rst	$38                        ; 04033A || 	rst	$38                        ; 040018
	rst	$38                        ; 04033B || 	rst	$38                        ; 040019
	rst	$38                        ; 04033C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04033D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04033E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04033F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040340 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040341 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040342 || 	rst	$38                        ; 040020
	rst	$38                        ; 040343 || 	rst	$38                        ; 040011
	rst	$38                        ; 040344 || 	rst	$38                        ; 040012
	rst	$38                        ; 040345 || 	rst	$38                        ; 040013
	rst	$38                        ; 040346 || 	rst	$38                        ; 040014
	rst	$38                        ; 040347 || 	rst	$38                        ; 040015
	rst	$38                        ; 040348 || 	rst	$38                        ; 040016
	rst	$38                        ; 040349 || 	rst	$38                        ; 040017
	rst	$38                        ; 04034A || 	rst	$38                        ; 040018
	rst	$38                        ; 04034B || 	rst	$38                        ; 040019
	rst	$38                        ; 04034C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04034D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04034E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04034F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040350 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040351 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040352 || 	rst	$38                        ; 040020
	rst	$38                        ; 040353 || 	rst	$38                        ; 040011
	rst	$38                        ; 040354 || 	rst	$38                        ; 040012
	rst	$38                        ; 040355 || 	rst	$38                        ; 040013
	rst	$38                        ; 040356 || 	rst	$38                        ; 040014
	rst	$38                        ; 040357 || 	rst	$38                        ; 040015
	rst	$38                        ; 040358 || 	rst	$38                        ; 040016
	rst	$38                        ; 040359 || 	rst	$38                        ; 040017
	rst	$38                        ; 04035A || 	rst	$38                        ; 040018
	rst	$38                        ; 04035B || 	rst	$38                        ; 040019
	rst	$38                        ; 04035C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04035D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04035E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04035F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040360 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040361 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040362 || 	rst	$38                        ; 040020
	rst	$38                        ; 040363 || 	rst	$38                        ; 040011
	rst	$38                        ; 040364 || 	rst	$38                        ; 040012
	rst	$38                        ; 040365 || 	rst	$38                        ; 040013
	rst	$38                        ; 040366 || 	rst	$38                        ; 040014
	rst	$38                        ; 040367 || 	rst	$38                        ; 040015
	rst	$38                        ; 040368 || 	rst	$38                        ; 040016
	rst	$38                        ; 040369 || 	rst	$38                        ; 040017
	rst	$38                        ; 04036A || 	rst	$38                        ; 040018
	rst	$38                        ; 04036B || 	rst	$38                        ; 040019
	rst	$38                        ; 04036C || 	rst	$38                        ; 04001A || 04036C             0067*  DYNVAR: 		DS 		54*3            ; Dynamic Variable Pointers
	rst	$38                        ; 04036D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04036E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04036F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040370 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040371 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040372 || 	rst	$38                        ; 040020
	rst	$38                        ; 040373 || 	rst	$38                        ; 040011
	rst	$38                        ; 040374 || 	rst	$38                        ; 040012
	rst	$38                        ; 040375 || 	rst	$38                        ; 040013
	rst	$38                        ; 040376 || 	rst	$38                        ; 040014
	rst	$38                        ; 040377 || 	rst	$38                        ; 040015
	rst	$38                        ; 040378 || 	rst	$38                        ; 040016
	rst	$38                        ; 040379 || 	rst	$38                        ; 040017
	rst	$38                        ; 04037A || 	rst	$38                        ; 040018
	rst	$38                        ; 04037B || 	rst	$38                        ; 040019
	rst	$38                        ; 04037C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04037D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04037E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04037F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040380 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040381 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040382 || 	rst	$38                        ; 040020
	rst	$38                        ; 040383 || 	rst	$38                        ; 040011
	rst	$38                        ; 040384 || 	rst	$38                        ; 040012
	rst	$38                        ; 040385 || 	rst	$38                        ; 040013
	rst	$38                        ; 040386 || 	rst	$38                        ; 040014
	rst	$38                        ; 040387 || 	rst	$38                        ; 040015
	rst	$38                        ; 040388 || 	rst	$38                        ; 040016
	rst	$38                        ; 040389 || 	rst	$38                        ; 040017
	rst	$38                        ; 04038A || 	rst	$38                        ; 040018
	rst	$38                        ; 04038B || 	rst	$38                        ; 040019
	rst	$38                        ; 04038C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04038D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04038E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04038F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040390 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040391 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040392 || 	rst	$38                        ; 040020
	rst	$38                        ; 040393 || 	rst	$38                        ; 040011
	rst	$38                        ; 040394 || 	rst	$38                        ; 040012
	rst	$38                        ; 040395 || 	rst	$38                        ; 040013
	rst	$38                        ; 040396 || 	rst	$38                        ; 040014
	rst	$38                        ; 040397 || 	rst	$38                        ; 040015
	rst	$38                        ; 040398 || 	rst	$38                        ; 040016
	rst	$38                        ; 040399 || 	rst	$38                        ; 040017
	rst	$38                        ; 04039A || 	rst	$38                        ; 040018
	rst	$38                        ; 04039B || 	rst	$38                        ; 040019
	rst	$38                        ; 04039C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04039D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04039E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04039F || 	rst	$38                        ; 04001D
	rst	$38                        ; 0403A0 || 	rst	$38                        ; 04001E
	rst	$38                        ; 0403A1 || 	rst	$38                        ; 04001F
	rst	$38                        ; 0403A2 || 	rst	$38                        ; 040020
	rst	$38                        ; 0403A3 || 	rst	$38                        ; 040011
	rst	$38                        ; 0403A4 || 	rst	$38                        ; 040012
	rst	$38                        ; 0403A5 || 	rst	$38                        ; 040013
	rst	$38                        ; 0403A6 || 	rst	$38                        ; 040014
	rst	$38                        ; 0403A7 || 	rst	$38                        ; 040015
	rst	$38                        ; 0403A8 || 	rst	$38                        ; 040016
	rst	$38                        ; 0403A9 || 	rst	$38                        ; 040017
	rst	$38                        ; 0403AA || 	rst	$38                        ; 040018
	rst	$38                        ; 0403AB || 	rst	$38                        ; 040019
	rst	$38                        ; 0403AC || 	rst	$38                        ; 04001A
	rst	$38                        ; 0403AD || 	rst	$38                        ; 04001B
	rst	$38                        ; 0403AE || 	rst	$38                        ; 04001C
	rst	$38                        ; 0403AF || 	rst	$38                        ; 04001D
	rst	$38                        ; 0403B0 || 	rst	$38                        ; 04001E
	rst	$38                        ; 0403B1 || 	rst	$38                        ; 04001F
	rst	$38                        ; 0403B2 || 	rst	$38                        ; 040020
	rst	$38                        ; 0403B3 || 	rst	$38                        ; 040011
	rst	$38                        ; 0403B4 || 	rst	$38                        ; 040012
	rst	$38                        ; 0403B5 || 	rst	$38                        ; 040013
	rst	$38                        ; 0403B6 || 	rst	$38                        ; 040014
	rst	$38                        ; 0403B7 || 	rst	$38                        ; 040015
	rst	$38                        ; 0403B8 || 	rst	$38                        ; 040016
	rst	$38                        ; 0403B9 || 	rst	$38                        ; 040017
	rst	$38                        ; 0403BA || 	rst	$38                        ; 040018
	rst	$38                        ; 0403BB || 	rst	$38                        ; 040019
	rst	$38                        ; 0403BC || 	rst	$38                        ; 04001A
	rst	$38                        ; 0403BD || 	rst	$38                        ; 04001B
	rst	$38                        ; 0403BE || 	rst	$38                        ; 04001C
	rst	$38                        ; 0403BF || 	rst	$38                        ; 04001D
	rst	$38                        ; 0403C0 || 	rst	$38                        ; 04001E
	rst	$38                        ; 0403C1 || 	rst	$38                        ; 04001F
	rst	$38                        ; 0403C2 || 	rst	$38                        ; 040020
	rst	$38                        ; 0403C3 || 	rst	$38                        ; 040011
	rst	$38                        ; 0403C4 || 	rst	$38                        ; 040012
	rst	$38                        ; 0403C5 || 	rst	$38                        ; 040013
	rst	$38                        ; 0403C6 || 	rst	$38                        ; 040014
	rst	$38                        ; 0403C7 || 	rst	$38                        ; 040015
	rst	$38                        ; 0403C8 || 	rst	$38                        ; 040016
	rst	$38                        ; 0403C9 || 	rst	$38                        ; 040017
	rst	$38                        ; 0403CA || 	rst	$38                        ; 040018
	rst	$38                        ; 0403CB || 	rst	$38                        ; 040019
	rst	$38                        ; 0403CC || 	rst	$38                        ; 04001A
	rst	$38                        ; 0403CD || 	rst	$38                        ; 04001B
	rst	$38                        ; 0403CE || 	rst	$38                        ; 04001C
	rst	$38                        ; 0403CF || 	rst	$38                        ; 04001D
	rst	$38                        ; 0403D0 || 	rst	$38                        ; 04001E
	rst	$38                        ; 0403D1 || 	rst	$38                        ; 04001F
	rst	$38                        ; 0403D2 || 	rst	$38                        ; 040020
	rst	$38                        ; 0403D3 || 	rst	$38                        ; 040011
	rst	$38                        ; 0403D4 || 	rst	$38                        ; 040012
	rst	$38                        ; 0403D5 || 	rst	$38                        ; 040013
	rst	$38                        ; 0403D6 || 	rst	$38                        ; 040014
	rst	$38                        ; 0403D7 || 	rst	$38                        ; 040015
	rst	$38                        ; 0403D8 || 	rst	$38                        ; 040016
	rst	$38                        ; 0403D9 || 	rst	$38                        ; 040017
	rst	$38                        ; 0403DA || 	rst	$38                        ; 040018
	rst	$38                        ; 0403DB || 	rst	$38                        ; 040019
	rst	$38                        ; 0403DC || 	rst	$38                        ; 04001A
	rst	$38                        ; 0403DD || 	rst	$38                        ; 04001B
	rst	$38                        ; 0403DE || 	rst	$38                        ; 04001C
	rst	$38                        ; 0403DF || 	rst	$38                        ; 04001D
	rst	$38                        ; 0403E0 || 	rst	$38                        ; 04001E
	rst	$38                        ; 0403E1 || 	rst	$38                        ; 04001F
	rst	$38                        ; 0403E2 || 	rst	$38                        ; 040020
	rst	$38                        ; 0403E3 || 	rst	$38                        ; 040011
	rst	$38                        ; 0403E4 || 	rst	$38                        ; 040012
	rst	$38                        ; 0403E5 || 	rst	$38                        ; 040013
	rst	$38                        ; 0403E6 || 	rst	$38                        ; 040014
	rst	$38                        ; 0403E7 || 	rst	$38                        ; 040015
	rst	$38                        ; 0403E8 || 	rst	$38                        ; 040016
	rst	$38                        ; 0403E9 || 	rst	$38                        ; 040017
	rst	$38                        ; 0403EA || 	rst	$38                        ; 040018
	rst	$38                        ; 0403EB || 	rst	$38                        ; 040019
	rst	$38                        ; 0403EC || 	rst	$38                        ; 04001A
	rst	$38                        ; 0403ED || 	rst	$38                        ; 04001B
	rst	$38                        ; 0403EE || 	rst	$38                        ; 04001C
	rst	$38                        ; 0403EF || 	rst	$38                        ; 04001D
	rst	$38                        ; 0403F0 || 	rst	$38                        ; 04001E
	rst	$38                        ; 0403F1 || 	rst	$38                        ; 04001F
	rst	$38                        ; 0403F2 || 	rst	$38                        ; 040020
	rst	$38                        ; 0403F3 || 	rst	$38                        ; 040011
	rst	$38                        ; 0403F4 || 	rst	$38                        ; 040012
	rst	$38                        ; 0403F5 || 	rst	$38                        ; 040013
	rst	$38                        ; 0403F6 || 	rst	$38                        ; 040014
	rst	$38                        ; 0403F7 || 	rst	$38                        ; 040015
	rst	$38                        ; 0403F8 || 	rst	$38                        ; 040016
	rst	$38                        ; 0403F9 || 	rst	$38                        ; 040017
	rst	$38                        ; 0403FA || 	rst	$38                        ; 040018
	rst	$38                        ; 0403FB || 	rst	$38                        ; 040019
	rst	$38                        ; 0403FC || 	rst	$38                        ; 04001A
	rst	$38                        ; 0403FD || 	rst	$38                        ; 04001B
	rst	$38                        ; 0403FE || 	rst	$38                        ; 04001C
	rst	$38                        ; 0403FF || 	rst	$38                        ; 04001D
	rst	$38                        ; 040400 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040401 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040402 || 	rst	$38                        ; 040020
	rst	$38                        ; 040403 || 	rst	$38                        ; 040011
	rst	$38                        ; 040404 || 	rst	$38                        ; 040012
	rst	$38                        ; 040405 || 	rst	$38                        ; 040013
	rst	$38                        ; 040406 || 	rst	$38                        ; 040014
	rst	$38                        ; 040407 || 	rst	$38                        ; 040015
	rst	$38                        ; 040408 || 	rst	$38                        ; 040016
	rst	$38                        ; 040409 || 	rst	$38                        ; 040017
	rst	$38                        ; 04040A || 	rst	$38                        ; 040018
	rst	$38                        ; 04040B || 	rst	$38                        ; 040019
	rst	$38                        ; 04040C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04040D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04040E || 	rst	$38                        ; 04001C || 04040E             0068*  FNPTR:  		DS    		3               ; Dynamic Function Pointers
	rst	$38                        ; 04040F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040410 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040411 || 	rst	$38                        ; 04001F || 040411             0069*  PROPTR: 		DS		3               ; Dynamic Procedure Pointers
	rst	$38                        ; 040412 || 	rst	$38                        ; 040020
	rst	$38                        ; 040413 || 	rst	$38                        ; 040011
	rst	$38                        ; 040414 || 	rst	$38                        ; 040012 || 040414             0071*  PAGE_:   		DS		3               ; Start of User Program
	rst	$38                        ; 040415 || 	rst	$38                        ; 040013
	rst	$38                        ; 040416 || 	rst	$38                        ; 040014
	rst	$38                        ; 040417 || 	rst	$38                        ; 040015 || 040417             0072*  TOP:    		DS		3               ; First Location after User Program
	rst	$38                        ; 040418 || 	rst	$38                        ; 040016
	rst	$38                        ; 040419 || 	rst	$38                        ; 040017
	rst	$38                        ; 04041A || 	rst	$38                        ; 040018 || 04041A             0073*  LOMEM:  		DS		3               ; Start of Dynamic Storage
	rst	$38                        ; 04041B || 	rst	$38                        ; 040019
	rst	$38                        ; 04041C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04041D || 	rst	$38                        ; 04001B || 04041D             0074*  FREE:   		DS		3               ; First Free Space Byte
	rst	$38                        ; 04041E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04041F || 	rst	$38                        ; 04001D
	rst	$38                        ; 040420 || 	rst	$38                        ; 04001E || 040420             0075*  HIMEM:  		DS		3               ; First Protected Byte
	rst	$38                        ; 040421 || 	rst	$38                        ; 04001F
	rst	$38                        ; 040422 || 	rst	$38                        ; 040020
	rst	$38                        ; 040423 || 	rst	$38                        ; 040011 || 040423             0077*  LINENO: 		DS		3               ; Line Number
	rst	$38                        ; 040424 || 	rst	$38                        ; 040012
	rst	$38                        ; 040425 || 	rst	$38                        ; 040013
	rst	$38                        ; 040426 || 	rst	$38                        ; 040014 || 040426             0078*  TRACEN:			DS		3               ; Trace Flag
	rst	$38                        ; 040427 || 	rst	$38                        ; 040015
	rst	$38                        ; 040428 || 	rst	$38                        ; 040016
	rst	$38                        ; 040429 || 	rst	$38                        ; 040017 || 040429             0079*  AUTONO:			DS		3               ; Auto Flag
	rst	$38                        ; 04042A || 	rst	$38                        ; 040018
	rst	$38                        ; 04042B || 	rst	$38                        ; 040019
	rst	$38                        ; 04042C || 	rst	$38                        ; 04001A || 04042C             0080*  ERRTRP:			DS		3               ; Error Trap
	rst	$38                        ; 04042D || 	rst	$38                        ; 04001B
	rst	$38                        ; 04042E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04042F || 	rst	$38                        ; 04001D || 04042F             0081*  ERRTXT:			DS		2               ; Error Message Pointer
	rst	$38                        ; 040430 || 	rst	$38                        ; 04001E
	rst	$38                        ; 040431 || 	rst	$38                        ; 04001F || 040431             0082*  DATPTR:			DS		2               ; Data Pointer
	rst	$38                        ; 040432 || 	rst	$38                        ; 040020
	rst	$38                        ; 040433 || 	rst	$38                        ; 040011 || 040433             0083*  ERL:			DS		2               ; Error Line
	rst	$38                        ; 040434 || 	rst	$38                        ; 040012
	rst	$38                        ; 040435 || 	rst	$38                        ; 040013 || 040435             0084*  ERRLIN:			DS		3               ; The "ON ERROR" Line
	rst	$38                        ; 040436 || 	rst	$38                        ; 040014
	rst	$38                        ; 040437 || 	rst	$38                        ; 040015
	rst	$38                        ; 040438 || 	rst	$38                        ; 040016 || 040438             0085*  RANDOM:			DS		5               ; Random Number
	rst	$38                        ; 040439 || 	rst	$38                        ; 040017
	rst	$38                        ; 04043A || 	rst	$38                        ; 040018
	rst	$38                        ; 04043B || 	rst	$38                        ; 040019
	rst	$38                        ; 04043C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04043D || 	rst	$38                        ; 04001B || 04043D             0086*  COUNT:			DS		1               ; Print Position
	rst	$38                        ; 04043E || 	rst	$38                        ; 04001C || 04043E             0087*  WIDTH:			DS		1               ; Print Width
	rst	$38                        ; 04043F || 	rst	$38                        ; 04001D || 04043F             0088*  ERR:			DS		1               ; Error Number
	rst	$38                        ; 040440 || 	rst	$38                        ; 04001E || 040440             0089*  LISTON:			DS		1               ; LISTO (bottom nibble)
	rst	$38                        ; 040441 || 	rst	$38                        ; 04001F || 040441             0099*  INCREM:			DS		1               ; Auto-Increment Value
	rst	$38                        ; 040442 || 	rst	$38                        ; 040020 || 040442             0103*  FLAGS:			DS		1		; Miscellaneous flags
	rst	$38                        ; 040443 || 	rst	$38                        ; 040011 || 040443             0106*  OSWRCHPT:		DS		2		; Pointer for *EDIT
	rst	$38                        ; 040444 || 	rst	$38                        ; 040012
	rst	$38                        ; 040445 || 	rst	$38                        ; 040013 || 040445             0107*  OSWRCHCH:		DS		1		; Channel of OSWRCH
	rst	$38                        ; 040446 || 	rst	$38                        ; 040014 || 040446             0110*  OSWRCHFH:		DS		1		; File handle for OSWRCHCHN
	rst	$38                        ; 040447 || 	rst	$38                        ; 040015 || 040447             0111*  KEYDOWN:		DS		1		; Keydown flag
	rst	$38                        ; 040448 || 	rst	$38                        ; 040016 || 040448             0112*  KEYASCII:		DS		1		; ASCII code of pressed key
	rst	$38                        ; 040449 || 	rst	$38                        ; 040017 || 040449             0113*  KEYCOUNT:		DS		1		; Counts every time a key is pressed
	rst	$38                        ; 04044A || 	rst	$38                        ; 040018 || 04044A             0114*  R0:			DS		3		; General purpose storage for 8/16 to 24 bit operations
	rst	$38                        ; 04044B || 	rst	$38                        ; 040019
	rst	$38                        ; 04044C || 	rst	$38                        ; 04001A
	rst	$38                        ; 04044D || 	rst	$38                        ; 04001B || 04044D             0115*  R1:			DS		3		;
	rst	$38                        ; 04044E || 	rst	$38                        ; 04001C
	rst	$38                        ; 04044F || 	rst	$38                        ; 04001D
	nop                            ; 040450                                         || 040450 00 00 04    0008   SYNTAX: DL 0x040000
	nop                            ; 040451
	inc	b                          ; 040452
	nop                            ; 040453 || 	nop                            ; 0400DA || 040453 00 00 04    0010   ADVAL: DL 0x040000
	nop                            ; 040454 || 	nop                            ; 0400DB
	inc	b                          ; 040455
	nop                            ; 040456 || 	nop                            ; 0400DD || 040456 00 00 04    0012   CHANEL: DL 0x040000
	nop                            ; 040457 || 	nop                            ; 0400DE
	inc	b                          ; 040458
	nop                            ; 040459 || 	nop                            ; 0400E0 || 040459 00 00 04    0014   CHECK: DL 0x040000
	nop                            ; 04045A || 	nop                            ; 0400E1
	inc	b                          ; 04045B
	nop                            ; 04045C || 	nop                            ; 0400E3 || 04045C 00 00 04    0016   ERROR_: DL 0x040000
	nop                            ; 04045D || 	nop                            ; 0400E4
	inc	b                          ; 04045E
	nop                            ; 04045F || 	nop                            ; 0400E6 || 04045F 00 00 04    0018   EXTERR: DL 0x040000
	nop                            ; 040460 || 	nop                            ; 0400E7
	inc	b                          ; 040461
	nop                            ; 040462 || 	nop                            ; 0400E9 || 040462 00 00 04    0020   FN_EX: DL 0x040000
	nop                            ; 040463 || 	nop                            ; 0400DA
	inc	b                          ; 040464
	nop                            ; 040465 || 	nop                            ; 0400DC || 040465 00 00 04    0022   FPP: DL 0x040000
	nop                            ; 040466 || 	nop                            ; 0400DD
	inc	b                          ; 040467
	nop                            ; 040468 || 	nop                            ; 0400DF || 040468 00 00 04    0024   GETCSR: DL 0x040000
	nop                            ; 040469 || 	nop                            ; 0400E0
	inc	b                          ; 04046A
	nop                            ; 04046B || 	nop                            ; 0400E2 || 04046B 00 00 04    0026   GETEXT: DL 0x040000
	nop                            ; 04046C || 	nop                            ; 0400E3
	inc	b                          ; 04046D
	nop                            ; 04046E || 	nop                            ; 0400E5 || 04046E 00 00 04    0028   GETIME: DL 0x040000
	nop                            ; 04046F || 	nop                            ; 0400E6
	inc	b                          ; 040470
	nop                            ; 040471 || 	nop                            ; 0400E8 || 040471 00 00 04    0030   GETIMS: DL 0x040000
	nop                            ; 040472 || 	nop                            ; 0400E9
	inc	b                          ; 040473
	nop                            ; 040474 || 	nop                            ; 0400DA || 040474 00 00 04    0032   GETPTR: DL 0x040000
	nop                            ; 040475 || 	nop                            ; 0400DB
	inc	b                          ; 040476
	nop                            ; 040477 || 	nop                            ; 0400DD || 040477 00 00 04    0034   GETSCHR: DL 0x040000
	nop                            ; 040478 || 	nop                            ; 0400DE
	inc	b                          ; 040479
	nop                            ; 04047A || 	nop                            ; 0400E0 || 04047A 00 00 04    0036   GETVAR: DL 0x040000
	nop                            ; 04047B || 	nop                            ; 0400E1
	inc	b                          ; 04047C
	nop                            ; 04047D || 	nop                            ; 0400E3 || 04047D 00 00 04    0038   LEXAN2: DL 0x040000
	nop                            ; 04047E || 	nop                            ; 0400E4
	inc	b                          ; 04047F
	nop                            ; 040480 || 	nop                            ; 0400E6 || 040480 00 00 04    0040   OSBGET: DL 0x040000
	nop                            ; 040481 || 	nop                            ; 0400E7
	inc	b                          ; 040482
	nop                            ; 040483 || 	nop                            ; 0400DA || 040483 00 00 04    0042   OSKEY: DL 0x040000
	nop                            ; 040484 || 	nop                            ; 0400DB
	inc	b                          ; 040485
	nop                            ; 040486 || 	nop                            ; 0400DD || 040486 00 00 04    0044   OSOPEN: DL 0x040000
	nop                            ; 040487 || 	nop                            ; 0400DE
	inc	b                          ; 040488
	nop                            ; 040489 || 	nop                            ; 0400E0 || 040489 00 00 04    0046   OSRDCH: DL 0x040000
	nop                            ; 04048A || 	nop                            ; 0400E1
	inc	b                          ; 04048B
	nop                            ; 04048C || 	nop                            ; 0400E3 || 04048C 00 00 04    0048   OSSTAT: DL 0x040000
	nop                            ; 04048D || 	nop                            ; 0400E4
	inc	b                          ; 04048E
	nop                            ; 04048F || 	nop                            ; 0400E6 || 04048F 00 00 04    0050   POINT: DL 0x040000
	nop                            ; 040490 || 	nop                            ; 0400E7
	inc	b                          ; 040491
	nop                            ; 040492 || 	nop                            ; 0400E9 || 040492 00 00 04    0052   RANGE: DL 0x040000
	nop                            ; 040493
	inc	b                          ; 040494
	nop                            ; 040495                                         || 040495 00 00 04    0054   STORE5: DL 0x040000
	nop                            ; 040496
	inc	b                          ; 040497
	nop                            ; 040498                                         || 040498 00 00 04    0056   USR: DL 0x040000
	nop                            ; 040499
	inc	b                          ; 04049A
	ld	a,h                         ; 04049B                                         || 04049B 7C 0C 04    0103*  FUNTBL:			DW24	DECODE			; Line number
	inc	c                          ; 04049C
	inc	b                          ; 04049D
	ld	hl,($4c0409)                ; 04049E                                         || 04049E 2A 09 04    0104*  			DW24	OPENIN			; OPENIN
	add	hl,bc                      ; 0404A2
	inc	b                          ; 0404A3
	and	$08                        ; 0404A4                                         || 0404A4 E6 08 04    0106*  			DW24	PAGEV			; PAGE
	inc	b                          ; 0404A6
	ld	d,(hl)                      ; 0404A7                                         || 0404A7 56 09 04    0107*  			DW24	TIMEV			; TIME
	add	hl,bc                      ; 0404A8
	inc	b                          ; 0404A9
	jp	nc,$dc0408                  ; 0404AA                                         || 0404AA D2 08 04    0108*  			DW24	LOMEMV			; LOMEM
	ex	af,af'                      ; 0404AE
	inc	b                          ; 0404AF
	xor	d                          ; 0404B0                                         || 0404B0 AA 09 04    0110*  			DW24	ABSV			; ABS
	add	hl,bc                      ; 0404B1
	inc	b                          ; 0404B2
	and	$09                        ; 0404B3                                         || 0404B3 E6 09 04    0111*  			DW24	ACS			; ACS
	inc	b                          ; 0404B5
	ld	d,e                         ; 0404B6                                         || 0404B6 53 04 04    0112*  			DW24	ADVAL			; ADVAL
	inc	b                          ; 0404B7
	inc	b                          ; 0404B8
	cp	e                           ; 0404B9                                         || 0404B9 BB 08 04    0113*  			DW24	ASC			; ASC
	ex	af,af'                      ; 0404BA
	inc	b                          ; 0404BB
	sbc	a,$09                      ; 0404BC                                         || 0404BC DE 09 04    0114*  			DW24	ASN			; ASN
	inc	b                          ; 0404BE
	jp	po,$840409                  ; 0404BF                                         || 0404BF E2 09 04    0115*  			DW24	ATN			; ATN
	ex	af,af'                      ; 0404C3
	inc	b                          ; 0404C4
	jp	z,$110409                   ; 0404C5                                         || 0404C5 CA 09 04    0117*  			DW24	COS			; COS
	add	hl,bc                      ; 0404C9
	inc	b                          ; 0404CA
	or	d                           ; 0404CB                                         || 0404CB B2 09 04    0119*  			DW24	DEG			; DEG
	add	hl,bc                      ; 0404CC
	inc	b                          ; 0404CD
	dec	b                          ; 0404CE                                         || 0404CE 05 09 04    0120*  			DW24	ERLV			; ERL
	add	hl,bc                      ; 0404CF
	inc	b                          ; 0404D0
	dec	bc                         ; 0404D1                                         || 0404D1 0B 09 04    0121*  			DW24	ERRV			; ERR
	add	hl,bc                      ; 0404D2
	inc	b                          ; 0404D3
	rrca                           ; 0404D4                                         || 0404D4 0F 0A 04    0122*  			DW24	EVAL_			; EVAL
	ld	a,(bc)                      ; 0404D5
	inc	b                          ; 0404D6
	jp	nc,$420409                  ; 0404D7                                         || 0404D7 D2 09 04    0123*  			DW24	EXP			; EXP
	add	hl,bc                      ; 0404DB
	inc	b                          ; 0404DC
	add	hl,hl                      ; 0404DD                                         || 0404DD 29 0D 04    0125*  			DW24	ZERO			; FALSE
	dec	c                          ; 0404DE
	inc	b                          ; 0404DF
	ld	h,d                         ; 0404E0                                         || 0404E0 62 04 04    0126*  			DW24	FN_EX			; FN
	inc	b                          ; 0404E1
	inc	b                          ; 0404E2
	and	d                          ; 0404E3                                         || 0404E3 A2 08 04    0127*  			DW24	GET			; GET
	ex	af,af'                      ; 0404E4
	inc	b                          ; 0404E5
	sub	c                          ; 0404E6                                         || 0404E6 91 08 04    0128*  			DW24	INKEY			; INKEY
	ex	af,af'                      ; 0404E7
	inc	b                          ; 0404E8
	pop	bc                         ; 0404E9                                         || 0404E9 C1 0A 04    0129*  			DW24	INSTR			; INSTR(
	ld	a,(bc)                      ; 0404EA
	inc	b                          ; 0404EB
	cp	(hl)                        ; 0404EC                                         || 0404EC BE 09 04    0130*  			DW24	INT_			; INT
	add	hl,bc                      ; 0404ED
	inc	b                          ; 0404EE
	rrc	b                          ; 0404EF                                         || 0404EF CB 08 04    0131*  			DW24	LEN			; LEN
	inc	b                          ; 0404F1
	sub	$09                        ; 0404F2                                         || 0404F2 D6 09 04    0132*  			DW24	LN			; LN
	inc	b                          ; 0404F4
	jp	c,$ae0409                   ; 0404F5                                         || 0404F5 DA 09 04    0133*  			DW24	LOG			; LOG
	add	hl,bc                      ; 0404F9
	inc	b                          ; 0404FA
	ld	h,$09                       ; 0404FB                                         || 0404FB 26 09 04    0135*  			DW24	OPENUP			; OPENUP
	inc	b                          ; 0404FD
	inc	hl                         ; 0404FE                                         || 0404FE 23 09 04    0136*  			DW24	OPENOT			; OPENOUT
	add	hl,bc                      ; 0404FF
	inc	b                          ; 040500
	and	(hl)                       ; 040501                                         || 040501 A6 09 04    0137*  			DW24	PI			; PI
	add	hl,bc                      ; 040502
	inc	b                          ; 040503
	adc	a,a                        ; 040504                                         || 040504 8F 04 04    0138*  			DW24	POINT			; POINT(
	inc	b                          ; 040505
	inc	b                          ; 040506
	ld	h,e                         ; 040507                                         || 040507 63 08 04    0139*  			DW24	POS			; POS
	ex	af,af'                      ; 040508
	inc	b                          ; 040509
	or	(hl)                        ; 04050A                                         || 04050A B6 09 04    0140*  			DW24	RAD			; RAD
	add	hl,bc                      ; 04050B
	inc	b                          ; 04050C
	ld	b,e                         ; 04050D                                         || 04050D 43 0A 04    0141*  			DW24	RND			; RND
	ld	a,(bc)                      ; 04050E
	inc	b                          ; 04050F
	cp	d                           ; 040510                                         || 040510 BA 09 04    0142*  			DW24	SGN			; SGN
	add	hl,bc                      ; 040511
	inc	b                          ; 040512
	adc	a,$09                      ; 040513                                         || 040513 CE 09 04    0143*  			DW24	SIN			; SIN
	inc	b                          ; 040515
	jp	nz,$c60409                  ; 040516                                         || 040516 C2 09 04    0144*  			DW24	SQR			; SQR
	add	hl,bc                      ; 04051A
	inc	b                          ; 04051B
	ret	p                          ; 04051C                                         || 04051C F0 08 04    0146*  			DW24	TOPV			; TO(P)
	ex	af,af'                      ; 04051D
	inc	b                          ; 04051E
	sbc	a,e                        ; 04051F                                         || 04051F 9B 09 04    0147*  			DW24	TRUE			; TRUE
	add	hl,bc                      ; 040520
	inc	b                          ; 040521
	sbc	a,b                        ; 040522                                         || 040522 98 04 04    0148*  			DW24	USR			; USR
	inc	b                          ; 040523
	inc	b                          ; 040524
	nop                            ; 040525                                         || 040525 00 0A 04    0149*  			DW24	VAL			; VAL
	ld	a,(bc)                      ; 040526
	inc	b                          ; 040527
	ld	l,h                         ; 040528                                         || 040528 6C 08 04    0150*  			DW24	VPOS			; VPOS
	ex	af,af'                      ; 040529
	inc	b                          ; 04052A
	ld	d,l                         ; 04052B                                         || 04052B 55 0B 04    0151*  			DW24	CHRS			; CHRS
	dec	bc                         ; 04052C
	inc	b                          ; 04052D
	ld	e,l                         ; 04052E                                         || 04052E 5D 0B 04    0152*  			DW24	GETS			; GETS
	dec	bc                         ; 04052F
	inc	b                          ; 040530
	ld	l,(hl)                      ; 040531                                         || 040531 6E 0B 04    0153*  			DW24	INKEYS			; INKEYS
	dec	bc                         ; 040532
	inc	b                          ; 040533
	di                             ; 040534                                         || 040534 F3 0B 04    0154*  			DW24	LEFTS			; LEFTS(
	dec	bc                         ; 040535
	inc	b                          ; 040536
	cp	e                           ; 040537                                         || 040537 BB 0B 04    0155*  			DW24	MIDS			; MIDS(
	dec	bc                         ; 040538
	inc	b                          ; 040539
	inc	de                         ; 04053A                                         || 04053A 13 0C 04    0156*  			DW24	RIGHTS			; RIGHTS(
	inc	c                          ; 04053B
	inc	b                          ; 04053C
	ret	po                         ; 04053D                                         || 04053D E0 0C 04    0157*  			DW24	STRS			; STR$
	inc	c                          ; 04053E
	inc	b                          ; 04053F
	inc	(hl)                       ; 040540                                         || 040540 34 0C 04    0158*  			DW24	STRING_			; STRINGS(
	inc	c                          ; 040541
	inc	b                          ; 040542
	ld	(hl),h                      ; 040543                                         || 040543 74 08 04    0159*  			DW24	EOF			; EOF
	ex	af,af'                      ; 040544
	inc	b                          ; 040545
	add	a,(hl)                     ; 040546                                         || 040546 86 09 04    0171*  SOPTBL:			DW24	SLE			; <= (STRING)
	add	hl,bc                      ; 040547
	inc	b                          ; 040548
	adc	a,a                        ; 040549                                         || 040549 8F 09 04    0172*  			DW24	SNE			; <>
	add	hl,bc                      ; 04054A
	inc	b                          ; 04054B
	ld	a,a                         ; 04054C                                         || 04054C 7F 09 04    0173*  			DW24	SGE			; >=
	add	hl,bc                      ; 04054D
	inc	b                          ; 04054E
	ld	(hl),b                      ; 04054F                                         || 04054F 70 09 04    0174*  			DW24	SLT			; <
	add	hl,bc                      ; 040550
	inc	b                          ; 040551
	sub	(hl)                       ; 040552                                         || 040552 96 09 04    0175*  			DW24	SEQ			; =
	add	hl,bc                      ; 040553
	inc	b                          ; 040554
	ld	(hl),a                      ; 040555                                         || 040555 77 09 04    0176*  			DW24	SGT			; >
	add	hl,bc                      ; 040556
	inc	b                          ; 040557
	call	$040571                   ; 040558                                         || 040558 CD 71 05 04 0197*  EXPR:			CALL    EXPR1			; Get first operator by calling Level 6
	cp	$82                         ; 04055C                                         || 04055C FE 82       0198*  EXPR0A:			CP      EORK            	; Is operator EOR?
	jr	z,$+$05                     ; 04055E                                         || 04055E 28 03       0199*  			JR      Z,EXPR0B		; Yes, so skip to next bit
	cp	$84                         ; 040560                                         || 040560 FE 84       0200*  			CP      ORK			; Is operator OR
	ret	nz                         ; 040562                                         || 040562 C0          0201*  			RET     NZ			; No, so return
	call	$040dd7                   ; 040563                                         || 040563 CD D7 0D 04 0203*  EXPR0B:			CALL    SAVE_EV            	; Save first operand
	call	$040571                   ; 040567                                         || 040567 CD 71 05 04 0204*  			CALL    EXPR1           	; Get second operand
	call	$040de6                   ; 04056B || 	call	$040a4d                   ; 0401DA || 04056B CD E6 0D 04 0205*  			CALL    DOIT            	; Do the operation
	jr	$-$13                       ; 04056F || 	jr	$-$13                       ; 0401DE || 04056F 18 EB       0206*  			JR      EXPR0A          	; And continue
	call	$040586                   ; 040571 || 	call	$0401f5                   ; 0401E0 || 040571 CD 86 05 04 0210*  EXPR1:			CALL    EXPR2			; Get first operator by calling Level 5
	cp	$80                         ; 040575 || 	cp	$80                         ; 0401E4 || 040575 FE 80       0211*  EXPR1A:			CP      ANDK			; Is operator AND?
	ret	nz                         ; 040577 || 	ret	nz                         ; 0401E6 || 040577 C0          0212*  			RET     NZ			; No, so return
	call	$040dd7                   ; 040578 || 	call	$040a3e                   ; 0401E7 || 040578 CD D7 0D 04 0213*  			CALL    SAVE_EV			; Save first operand
	call	$040586                   ; 04057C || 	call	$0401f5                   ; 0401EB || 04057C CD 86 05 04 0214*  			CALL    EXPR2			; Get second operand
	call	$040de6                   ; 040580 || 	call	$040a4d                   ; 0401EF || 040580 CD E6 0D 04 0215*  			CALL    DOIT			; Do the operation
	jr	$-$0f                       ; 040584 || 	jr	$-$0f                       ; 0401F3 || 040584 18 EF       0216*  			JR      EXPR1A			; And continue
	call	$0405f8                   ; 040586 || 	call	$040267                   ; 0401F5 || 040586 CD F8 05 04 0220*  EXPR2:			CALL    EXPR3			; Get first operator by calling Level 4
	call	$040dae                   ; 04058A || 	call	$040a15                   ; 0401F9 || 04058A CD AE 0D 04 0221*  			CALL    RELOP?			; Is it ">", "=" or "<"?
	ret	nz                         ; 04058E || 	ret	nz                         ; 0401FD || 04058E C0          0222*  			RET     NZ			; No, so return
	ld	b,a                         ; 04058F || 	ld	b,a                         ; 0401FE || 04058F 47          0223*  			LD      B,A			; Store the first operator in B
	inc	iy                         ; 040590 || 	inc	iy                         ; 0401FF || 040590 FD 23       0224*  			INC     IY              	; Bump over operator
	call	$040e09                   ; 040592 || 	call	$040a70                   ; 040201 || 040592 CD 09 0E 04 0225*  			CALL    NXT			;
	call	$040dae                   ; 040596 || 	call	$040a15                   ; 040205 || 040596 CD AE 0D 04 0226*  			CALL    RELOP?          	; Is it a compound operator?
	jr	nz,$+$0b                    ; 04059A || 	jr	nz,$+$0b                    ; 040209 || 04059A 20 09       0227*  			JR      NZ,EXPR2B		; No, so skip next bit
	inc	iy                         ; 04059C || 	inc	iy                         ; 04020B || 04059C FD 23       0228*  			INC     IY			; Bump over operator
	cp	b                           ; 04059E || 	cp	b                           ; 04020D || 04059E B8          0229*  			CP      B			; Compare with first
	jp	z,$040450                   ; 04059F || 	jp	z,$040c97                   ; 04020E || 04059F CA 50 04 04 0230*  			JP      Z,SYNTAX        	; Trap illegal combinations ">>", "==", "<<" (but not "><", "=>", "=<")
	add	a,b                        ; 0405A3 || 	add	a,b                        ; 040212 || 0405A3 80          0231*  			ADD     A,B
	ld	b,a                         ; 0405A4 || 	ld	b,a                         ; 040213 || 0405A4 47          0232*  			LD      B,A			; B: Unique code for the compound operator
	ld	a,b                         ; 0405A5 || 	ld	a,b                         ; 040214 || 0405A5 78          0233*  EXPR2B:			LD      A,B			; A: Code for the operator/compound operator
	ex	af,af'                      ; 0405A6 || 	ex	af,af'                      ; 040215 || 0405A6 08          0234*  			EX      AF,AF'
	jp	m,$0405c1                   ; 0405A7 || 	jp	m,$040230                   ; 040216 || 0405A7 FA C1 05 04 0235*  			JP      M,EXPR2S		; If it is a string, then branch here to handle it
	ex	af,af'                      ; 0405AB || 	ex	af,af'                      ; 04021A || 0405AB 08          0236*  			EX      AF,AF'
	sub	$04                        ; 0405AC || 	sub	$04                        ; 04021B || 0405AC D6 04       0237*  			SUB     4
	cp	$3a                         ; 0405AE || 	cp	$3a                         ; 04021D || 0405AE FE 3A       0238*  			CP      '>'-4
	jr	nz,$+$04                    ; 0405B0 || 	jr	nz,$+$04                    ; 04021F || 0405B0 20 02       0239*  			JR      NZ,EXPR2C
	add	a,$02                      ; 0405B2 || 	add	a,$02                      ; 040221 || 0405B2 C6 02       0240*  			ADD     A,2
	call	$040dd9                   ; 0405B4 || 	call	$040a40                   ; 040223 || 0405B4 CD D9 0D 04 0241*  EXPR2C:			CALL    SAVE1
	call	$0405f8                   ; 0405B8 || 	call	$040267                   ; 040227 || 0405B8 CD F8 05 04 0242*  			CALL    EXPR3
	call	$040de6                   ; 0405BC || 	call	$040a4d                   ; 04022B || 0405BC CD E6 0D 04 0243*  			CALL    DOIT            	; NB: Must NOT be "JP DOIT"
	ret                            ; 0405C0 || 	ret                            ; 04022F || 0405C0 C9          0244*  			RET
	ex	af,af'                      ; 0405C1 || 	ex	af,af'                      ; 040230 || 0405C1 08          0246*  EXPR2S:			EX      AF,AF'			; Handle string comparisons
	dec	a                          ; 0405C2 || 	dec	a                          ; 040231 || 0405C2 3D          0247*  			DEC     A
	and	$07                        ; 0405C3 || 	and	$07                        ; 040232 || 0405C3 E6 07       0248*  			AND     7
	call	$040d4a                   ; 0405C5 || 	call	$0409b4                   ; 040234 || 0405C5 CD 4A 0D 04 0249*  			CALL    PUSHS           	; Save string on the stack
	push	af                        ; 0405C9 || 	push	af                        ; 040238 || 0405C9 F5          0250*  			PUSH    AF              	; Save the operator
	call	$0405f8                   ; 0405CA || 	call	$040267                   ; 040239 || 0405CA CD F8 05 04 0251*  			CALL    EXPR3           	; Get the second string
	ex	af,af'                      ; 0405CE || 	ex	af,af'                      ; 04023D || 0405CE 08          0252*  			EX      AF,AF'
	jp	p,$0406cc                   ; 0405CF || 	jp	p,$040336                   ; 04023E || 0405CF F2 CC 06 04 0253*  			JP      P,TYPE_EV_
	pop	af                         ; 0405D3 || 	pop	af                         ; 040242 || 0405D3 F1          0254*  			POP     AF
	ld	c,e                         ; 0405D4 || 	ld	c,e                         ; 040243 || 0405D4 4B          0255*  			LD      C,E             	; Length of string #2
	pop	de                         ; 0405D5 || 	pop	de                         ; 040244 || 0405D5 D1          0256*  			POP     DE
	ld	hl,$000000                  ; 0405D6 || 	ld	hl,$000000                  ; 040245 || 0405D6 21 00 00 00 0257*  			LD      HL,0
	add	hl,sp                      ; 0405DA || 	add	hl,sp                      ; 040249 || 0405DA 39          0258*  			ADD     HL,SP
	ld	b,e                         ; 0405DB || 	ld	b,e                         ; 04024A || 0405DB 43          0259*  			LD      B,E             	; Length of string #1
	push	de                        ; 0405DC || 	push	de                        ; 04024B || 0405DC D5          0260*  			PUSH    DE
	ld	de,$040100                  ; 0405DD || 	ld	de,$044a00                  ; 04024C || 0405DD 11 00 01 04 0261*  			LD      DE,ACCS
	ex	de,hl                       ; 0405E1 || 	ex	de,hl                       ; 040250 || 0405E1 EB          0262*  			EX      DE,HL
	call	$040e15                   ; 0405E2 || 	call	$040a7c                   ; 040251 || 0405E2 CD 15 0E 04 0263*  			CALL    DISPT2
	pop	de                         ; 0405E6 || 	pop	de                         ; 040255 || 0405E6 D1          0264*  			POP     DE
	ex	de,hl                       ; 0405E7 || 	ex	de,hl                       ; 040256 || 0405E7 EB          0265*  			EX      DE,HL
	ld	a,l                         ; 0405E8 || 	ld	a,l                         ; 040257 || 0405E8 7D          0266*  			LD	A,L
	ld	hl,$000000                  ; 0405E9 || 	ld	hl,$000000                  ; 040258 || 0405E9 21 00 00 00 0267*  			LD	HL,0
	ld	l,a                         ; 0405ED || 	ld	l,a                         ; 04025C || 0405ED 6F          0268*  			LD	L,A
	add	hl,sp                      ; 0405EE || 	add	hl,sp                      ; 04025D || 0405EE 39          0269*  			ADD     HL,SP
	ld	sp,hl                       ; 0405EF || 	ld	sp,hl                       ; 04025E || 0405EF F9          0270*  			LD      SP,HL
	ex	de,hl                       ; 0405F0 || 	ex	de,hl                       ; 04025F || 0405F0 EB          0271*  			EX      DE,HL
	xor	a                          ; 0405F1 || 	xor	a                          ; 040260 || 0405F1 AF          0272*  			XOR     A               	; Numeric marker
	ld	c,a                         ; 0405F2 || 	ld	c,a                         ; 040261 || 0405F2 4F          0273*  			LD      C,A             	; Integer marker
	ex	af,af'                      ; 0405F3 || 	ex	af,af'                      ; 040262 || 0405F3 08          0274*  			EX      AF,AF'
	ld	a,(iy)                      ; 0405F4 || 	ld	a,(iy)                      ; 040263 || 0405F4 FD 7E 00    0275*  			LD      A,(IY)
	ret                            ; 0405F7 || 	ret                            ; 040266 || 0405F7 C9          0276*  			RET
	call	$04065a                   ; 0405F8 || 	call	$0402c4                   ; 040267 || 0405F8 CD 5A 06 04 0280*  EXPR3:			CALL    EXPR4			; Get first operator by calling Level 3
	cp	$2d                         ; 0405FC || 	cp	$2d                         ; 04026B || 0405FC FE 2D       0281*  EXPR3A:			CP      '-'			; Is it "-"?
	jr	z,$+$0b                     ; 0405FE || 	jr	z,$+$0b                     ; 04026D || 0405FE 28 09       0282*  			JR      Z,EXPR3B		; Yes, so skip the next bit
	cp	$2b                         ; 040600 || 	cp	$2b                         ; 04026F || 040600 FE 2B       0283*  			CP      '+'			; Is it "+"?
	ret	nz                         ; 040602 || 	ret	nz                         ; 040271 || 040602 C0          0284*  			RET     NZ			; No, so return
	ex	af,af'                      ; 040603 || 	ex	af,af'                      ; 040272 || 040603 08          0285*  			EX      AF,AF'			; Get the type
	jp	m,$040617                   ; 040604 || 	jp	m,$040286                   ; 040273 || 040604 FA 17 06 04 0286*  			JP      M,EXPR3S		; Branch here if string
	ex	af,af'                      ; 040608 || 	ex	af,af'                      ; 040277 || 040608 08          0287*  			EX      AF,AF'
	call	$040dd7                   ; 040609 || 	call	$040a3e                   ; 040278 || 040609 CD D7 0D 04 0288*  EXPR3B:			CALL    SAVE_EV			; Save the first operator
	call	$04065a                   ; 04060D || 	call	$0402c4                   ; 04027C || 04060D CD 5A 06 04 0289*  			CALL    EXPR4			; Fetch the second operator
	call	$040de6                   ; 040611 || 	call	$040a4d                   ; 040280 || 040611 CD E6 0D 04 0290*  			CALL    DOIT			; Do the operation
	jr	$-$19                       ; 040615 || 	jr	$-$19                       ; 040284 || 040615 18 E5       0291*  			JR      EXPR3A			; And continue
	ex	af,af'                      ; 040617 || 	ex	af,af'                      ; 040286 || 040617 08          0293*  EXPR3S:			EX      AF,AF'			; Handle string concatenation
	inc	iy                         ; 040618 || 	inc	iy                         ; 040287 || 040618 FD 23       0294*  			INC     IY              	; Bump past the "+"
	call	$040d4a                   ; 04061A || 	call	$0409b4                   ; 040289 || 04061A CD 4A 0D 04 0295*  			CALL    PUSHS           	; Save the string on the stack
	call	$04065a                   ; 04061E                                         || 04061E CD 5A 06 04 0296*  			CALL    EXPR4           	; Fetch the second operator
	ex	af,af'                      ; 040622                                         || 040622 08          0297*  			EX      AF,AF'
	jp	p,$0406cc                   ; 040623                                         || 040623 F2 CC 06 04 0298*  			JP      P,TYPE_EV_			; If it is not a string, then Error: "Type mismatch"
	ld	bc,$000000                  ; 040627                                         || 040627 01 00 00 00 0299*  			LD	BC, 0			; Clear BC
	ld	c,e                         ; 04062B                                         || 04062B 4B          0300*  			LD      C,E             	; C: Length of the second string
	pop	de                         ; 04062C                                         || 04062C D1          0301*  			POP     DE
	push	de                        ; 04062D                                         || 04062D D5          0302*  			PUSH    DE
	ld	hl,$040100                  ; 04062E                                         || 04062E 21 00 01 04 0303*  			LD      HL,ACCS
	ld	a,e                         ; 040632                                         || 040632 7B          0304*  			LD	A,E			;  E: Length of the first string
	ld	de,$040100                  ; 040633                                         || 040633 11 00 01 04 0305*  			LD      DE,ACCS
	ld	e,a                         ; 040637                                         || 040637 5F          0306*  			LD	E,A 			; DE: Pointer to the end of the first string
	ld	a,c                         ; 040638                                         || 040638 79          0307*  			LD      A,C
	or	a                           ; 040639                                         || 040639 B7          0308*  			OR      A
	jr	z,$+$11                     ; 04063A                                         || 04063A 28 0F       0309*  			JR      Z,EXP3S3
	ld	l,a                         ; 04063C                                         || 04063C 6F          0310*  			LD      L,A             	; Source
	add	a,e                        ; 04063D                                         || 04063D 83          0311*  			ADD     A,E
	ld	e,a                         ; 04063E || 	ld	e,a                         ; 0402A8 || 04063E 5F          0312*  			LD      E,A             	; Destination
	ld	a,$13                       ; 04063F || 	ld	a,$13                       ; 0402A9 || 04063F 3E 13       0313*  			LD      A,19
	jp	c,$04045c                   ; 040641 || 	jp	c,$043760                   ; 0402AB || 040641 DA 5C 04 04 0314*  			JP      C,ERROR_         	; A carry indicates string > 255 bytes, so Error: "String too long"
	push	de                        ; 040645 || 	push	de                        ; 0402AF || 040645 D5          0315*  			PUSH    DE
	dec	e                          ; 040646 || 	dec	e                          ; 0402B0 || 040646 1D          0316*  			DEC     E
	dec	l                          ; 040647 || 	dec	l                          ; 0402B1 || 040647 2D          0317*  			DEC     L
	lddr                           ; 040648 || 	lddr                           ; 0402B2 || 040648 ED B8       0318*  			LDDR                    	; Copy
	pop	de                         ; 04064A || 	pop	de                         ; 0402B4 || 04064A D1          0319*  			POP     DE
	exx                            ; 04064B || 	exx                            ; 0402B5 || 04064B D9          0320*  EXP3S3:			EXX
	pop	bc                         ; 04064C || 	pop	bc                         ; 0402B6 || 04064C C1          0321*  			POP     BC
	call	$040d77                   ; 04064D || 	call	$0409de                   ; 0402B7 || 04064D CD 77 0D 04 0322*  			CALL    POPS            	; Restore from stack
	exx                            ; 040651 || 	exx                            ; 0402BB || 040651 D9          0323*  			EXX
	or	$80                         ; 040652 || 	or	$80                         ; 0402BC || 040652 F6 80       0324*  			OR      80H             	; Flag as a string
	ex	af,af'                      ; 040654 || 	ex	af,af'                      ; 0402BE || 040654 08          0325*  			EX      AF,AF'
	ld	a,(iy)                      ; 040655 || 	ld	a,(iy)                      ; 0402BF || 040655 FD 7E 00    0326*  			LD      A,(IY)			; Fetch the next character
	jr	$-$5c                       ; 040658 || 	jr	$-$57                       ; 0402C2 || 040658 18 A2       0327*  			JR      EXPR3A			; And continue
	call	$04067b                   ; 04065A || 	call	$0402e5                   ; 0402C4 || 04065A CD 7B 06 04 0331*  EXPR4:			CALL    EXPR5			; Get first operator by calling Level 2
	cp	$2a                         ; 04065E || 	cp	$2a                         ; 0402C8 || 04065E FE 2A       0332*  EXPR4A:			CP      '*'			; "*" is valid
	jr	z,$+$0d                     ; 040660 || 	jr	z,$+$0d                     ; 0402CA || 040660 28 0B       0333*  			JR      Z,EXPR4B
	cp	$2f                         ; 040662 || 	cp	$2f                         ; 0402CC || 040662 FE 2F       0334*  			CP      '/'			; "/" is valid
	jr	z,$+$09                     ; 040664 || 	jr	z,$+$09                     ; 0402CE || 040664 28 07       0335*  			JR      Z,EXPR4B
	cp	$83                         ; 040666 || 	cp	$83                         ; 0402D0 || 040666 FE 83       0336*  			CP      MODK			; MOD token is valid
	jr	z,$+$05                     ; 040668 || 	jr	z,$+$05                     ; 0402D2 || 040668 28 03       0337*  			JR      Z,EXPR4B
	cp	$81                         ; 04066A || 	cp	$81                         ; 0402D4 || 04066A FE 81       0338*  			CP      DIVK			; DIV token is valid
	ret	nz                         ; 04066C || 	ret	nz                         ; 0402D6 || 04066C C0          0339*  			RET     NZ			; And return if it is anything else
	call	$040dd7                   ; 04066D || 	call	$040a3e                   ; 0402D7 || 04066D CD D7 0D 04 0340*  EXPR4B:			CALL    SAVE_EV
	call	$04067b                   ; 040671 || 	call	$0402e5                   ; 0402DB || 040671 CD 7B 06 04 0341*  			CALL    EXPR5
	call	$040de6                   ; 040675 || 	call	$040a4d                   ; 0402DF || 040675 CD E6 0D 04 0342*  			CALL    DOIT
	jr	$-$1b                       ; 040679 || 	jr	$-$1b                       ; 0402E3 || 040679 18 E3       0343*  			JR      EXPR4A
	call	$04075b                   ; 04067B || 	call	$0403c5                   ; 0402E5 || 04067B CD 5B 07 04 0347*  EXPR5:			CALL    ITEM			; Get variable
	or	a                           ; 04067F || 	or	a                           ; 0402E9 || 04067F B7          0348*  			OR      A               	; Test type
	ex	af,af'                      ; 040680 || 	ex	af,af'                      ; 0402EA || 040680 08          0349*  			EX      AF,AF'          	; Save type
	call	$040e09                   ; 040681 || 	call	$040a70                   ; 0402EB || 040681 CD 09 0E 04 0350*  EXPR5A:			CALL    NXT			; Skip spaces
	cp	$5e                         ; 040685 || 	cp	$5e                         ; 0402EF || 040685 FE 5E       0351*  			CP      '^'			; Is the operator "^"?
	ret	nz                         ; 040687 || 	ret	nz                         ; 0402F1 || 040687 C0          0352*  			RET     NZ			; No, so return
	call	$040dd7                   ; 040688 || 	call	$040a3e                   ; 0402F2 || 040688 CD D7 0D 04 0353*  			CALL    SAVE_EV			; Save first operand
	call	$04075b                   ; 04068C || 	call	$0403c5                   ; 0402F6 || 04068C CD 5B 07 04 0354*  			CALL    ITEM			; Get second operand
	or	a                           ; 040690 || 	or	a                           ; 0402FA || 040690 B7          0355*  			OR      A			; Test type
	ex	af,af'                      ; 040691 || 	ex	af,af'                      ; 0402FB || 040691 08          0356*  			EX      AF,AF'			; Save type
	call	$040de6                   ; 040692 || 	call	$040a4d                   ; 0402FC || 040692 CD E6 0D 04 0357*  			CALL    DOIT			; Do the operation
	jr	$-$15                       ; 040696 || 	jr	$-$15                       ; 040300 || 040696 18 E9       0358*  			JR      EXPR5A			; And continue
	call	$040558                   ; 040698 || 	call	$0401c7                   ; 040302 || 040698 CD 58 05 04 0362*  EXPRN:			CALL    EXPR			; Evaluate expression
	ex	af,af'                      ; 04069C || 	ex	af,af'                      ; 040306 || 04069C 08          0363*  			EX      AF,AF'			; Get the type
	ret	p                          ; 04069D || 	ret	p                          ; 040307 || 04069D F0          0364*  			RET     P			; And return if it is a number
	jr	$+$2e                       ; 04069E || 	jr	$+$2e                       ; 040308 || 04069E 18 2C       0365*  			JR      TYPE_EV_			; Otherwise Error: "Type mismatch"
	call	$040558                   ; 0406A0 || 	call	$0401c7                   ; 04030A || 0406A0 CD 58 05 04 0369*  EXPRI:			CALL    EXPR			; Evaluate the expression
	ex	af,af'                      ; 0406A4 || 	ex	af,af'                      ; 04030E || 0406A4 08          0370*  			EX      AF,AF'			; Get the type
	jp	p,$0409f8                   ; 0406A5 || 	jp	p,$040662                   ; 04030F || 0406A5 F2 F8 09 04 0371*  			JP      P,SFIX			; If it is numeric, then convert to fixed-point notation
	jr	$+$23                       ; 0406A9 || 	jr	$+$23                       ; 040313 || 0406A9 18 21       0372*  			JR      TYPE_EV_			; Otherwise Error: "Type mismatch"
	call	$040558                   ; 0406AB || 	call	$0401c7                   ; 040315 || 0406AB CD 58 05 04 0376*  EXPRS:			CALL    EXPR			; Evaluate the expression
	ex	af,af'                      ; 0406AF || 	ex	af,af'                      ; 040319 || 0406AF 08          0377*  			EX      AF,AF'			; Get the type
	ret	m                          ; 0406B0 || 	ret	m                          ; 04031A || 0406B0 F8          0378*  			RET     M			; And return if it is a string
	jr	$+$1b                       ; 0406B1 || 	jr	$+$1b                       ; 04031B || 0406B1 18 19       0379*  			JR      TYPE_EV_			; Otherwise Error: "Type mismatch"
	call	$04075b                   ; 0406B3 || 	call	$0403c5                   ; 04031D || 0406B3 CD 5B 07 04 0383*  ITEMN:			CALL    ITEM			; Get the variable
	or	a                           ; 0406B7 || 	or	a                           ; 040321 || 0406B7 B7          0384*  			OR      A			; Test the type
	ret	p                          ; 0406B8 || 	ret	p                          ; 040322 || 0406B8 F0          0385*  			RET     P			; And return if it is a number
	jr	$+$13                       ; 0406B9 || 	jr	$+$13                       ; 040323 || 0406B9 18 11       0386*  			JR      TYPE_EV_			; Otherwise Error: "Type mismatch"
	call	$04075b                   ; 0406BB || 	call	$0403c5                   ; 040325 || 0406BB CD 5B 07 04 0390*  ITEMI:			CALL    ITEM			; Get the variable
	or	a                           ; 0406BF || 	or	a                           ; 040329 || 0406BF B7          0391*  			OR      A			; Test the type
	jp	p,$0409f8                   ; 0406C0 || 	jp	p,$040662                   ; 04032A || 0406C0 F2 F8 09 04 0392*  			JP      P,SFIX			; If it is numeric, then convert to fixed-point notation
	jr	$+$08                       ; 0406C4 || 	jr	$+$08                       ; 04032E || 0406C4 18 06       0393*  			JR      TYPE_EV_			; Otherwise Error: "Type mismatch"
	call	$04075b                   ; 0406C6 || 	call	$0403c5                   ; 040330 || 0406C6 CD 5B 07 04 0397*  ITEMS:			CALL    ITEM			; Get the variable
	or	a                           ; 0406CA || 	or	a                           ; 040334 || 0406CA B7          0398*  			OR      A			; Test the type
	ret	m                          ; 0406CB || 	ret	m                          ; 040335 || 0406CB F8          0399*  			RET     M			; If it is a string, then return
	ld	a,$06                       ; 0406CC || 	ld	a,$06                       ; 040336 || 0406CC 3E 06       0401*  TYPE_EV_:			LD      A,6			; Error: "Type mismatch"
	jp	$04045c                     ; 0406CE || 	jp	$043760                     ; 040338 || 0406CE C3 5C 04 04 0402*  			JP      ERROR_
	call	$040558                   ; 0406D2 || 	call	$0401c7                   ; 04033C || 0406D2 CD 58 05 04 0406*  ITEM1:			CALL    EXPR            	; Evaluate the expression
	call	$040dc8                   ; 0406D6 || 	call	$040a2f                   ; 040340 || 0406D6 CD C8 0D 04 0407*  			CALL    BRAKET			; Check for closing bracket
	ex	af,af'                      ; 0406DA || 	ex	af,af'                      ; 040344 || 0406DA 08          0408*  			EX      AF,AF'
	ret                            ; 0406DB || 	ret                            ; 040345 || 0406DB C9          0409*  			RET
	call	$040d29                   ; 0406DC || 	call	$040993                   ; 040346 || 0406DC CD 29 0D 04 0416*  HEX:			CALL    ZERO			; Set result to 0
	call	$040d91                   ; 0406E0 || 	call	$0409f8                   ; 04034A || 0406E0 CD 91 0D 04 0417*  			CALL    HEXDIG			; Fetch the character from IY
	jr	c,$+$1d                     ; 0406E4 || 	jr	c,$+$1d                     ; 04034E || 0406E4 38 1B       0418*  			JR      C,BADHEX		; If invalid HEX character, then Error: "Bad HEX"
	inc	iy                         ; 0406E6 || 	inc	iy                         ; 040350 || 0406E6 FD 23       0419*  HEX1:			INC     IY			; Move pointer to next character
	and	$0f                        ; 0406E8 || 	and	$0f                        ; 040352 || 0406E8 E6 0F       0420*  			AND     0FH			; Clear the top nibble
	ld	b,$04                       ; 0406EA || 	ld	b,$04                       ; 040354 || 0406EA 06 04       0421*  			LD      B,4			; Loop counter
	exx                            ; 0406EC || 	exx                            ; 040356 || 0406EC D9          0423*  HEX2:			EXX				; Shift the result left B (4) times. This makes
	add.sil	hl,hl                  ; 0406ED || 	add.sil	hl,hl                  ; 040357 || 0406ED 52 29       0424*  			ADD.S   HL,HL			; space for the incoming nibble in the least significant 4 bits
	exx                            ; 0406EF || 	exx                            ; 040359 || 0406EF D9          0425*  			EXX				; .
	adc.sil	hl,hl                  ; 0406F0 || 	adc.sil	hl,hl                  ; 04035A || 0406F0 52 ED 6A    0426*  			ADC.S   HL,HL			; .
	djnz	$-$07                     ; 0406F3 || 	djnz	$-$07                     ; 04035D || 0406F3 10 F7       0427*  			DJNZ    HEX2			; And loop
	exx                            ; 0406F5 || 	exx                            ; 04035F || 0406F5 D9          0428*  			EXX
	or	l                           ; 0406F6 || 	or	l                           ; 040360 || 0406F6 B5          0429*  			OR      L			; OR in the digit
	ld	l,a                         ; 0406F7 || 	ld	l,a                         ; 040361 || 0406F7 6F          0430*  			LD      L,A
	exx                            ; 0406F8 || 	exx                            ; 040362 || 0406F8 D9          0431*  			EXX
	call	$040d91                   ; 0406F9 || 	call	$0409f8                   ; 040363 || 0406F9 CD 91 0D 04 0433*  			CALL    HEXDIG			; Fetch the next character
	jr	nc,$-$17                    ; 0406FD || 	jr	nc,$-$17                    ; 040367 || 0406FD 30 E7       0434*  			JR      NC,HEX1			; If it is a HEX digit then loop
	xor	a                          ; 0406FF || 	xor	a                          ; 040369 || 0406FF AF          0435*  			XOR     A			; Clear A
	ret                            ; 040700 || 	ret                            ; 04036A || 040700 C9          0436*  			RET
	ld	a,$1c                       ; 040701 || 	ld	a,$1c                       ; 04036B || 040701 3E 1C       0438*  BADHEX:			LD      A,28
	jp	$04045c                     ; 040703 || 	jp	$043760                     ; 04036D || 040703 C3 5C 04 04 0439*  			JP      ERROR_          	; Error: "Bad HEX"
	call	$040d29                   ; 040707 || 	call	$040993                   ; 040371 || 040707 CD 29 0D 04 0446*  BIN:			CALL    ZERO			; Set result to 0
	call	$040da4                   ; 04070B || 	call	$040a0b                   ; 040375 || 04070B CD A4 0D 04 0447*  			CALL	BINDIG			; Fetch the character from IY
	jr	c,$+$15                     ; 04070F || 	jr	c,$+$15                     ; 040379 || 04070F 38 13       0448*  			JR	C,BADBIN		; If invalid BIN character then Error: "Bad Binary"
	inc	iy                         ; 040711 || 	inc	iy                         ; 04037B || 040711 FD 23       0449*  BIN1:			INC	IY			; Move pointer to next character
	rrca                           ; 040713 || 	rrca                           ; 04037D || 040713 0F          0450*  			RRCA				; Bit 0 of ASCII '0' is 0, and ASCII '1' is 1, so shift that bit into carry
	exx                            ; 040714 || 	exx                            ; 04037E || 040714 D9          0451*  			EXX				;
	adc.sil	hl,hl                  ; 040715 || 	adc.sil	hl,hl                  ; 04037F || 040715 52 ED 6A    0452*  			ADC.S	HL,HL			; And shift back into into H'L'HL (note the ADC)
	exx                            ; 040718 || 	exx                            ; 040382 || 040718 D9          0453*  			EXX
	adc.sil	hl,hl                  ; 040719 || 	adc.sil	hl,hl                  ; 040383 || 040719 52 ED 6A    0454*  			ADC.S	HL,HL
	call	$040da4                   ; 04071C || 	call	$040a0b                   ; 040386 || 04071C CD A4 0D 04 0455*  			CALL	BINDIG			; Fetch the next character
	jr	nc,$-$0f                    ; 040720 || 	jr	nc,$-$0f                    ; 04038A || 040720 30 EF       0456*  			JR	NC,BIN1
	xor	a                          ; 040722 || 	xor	a                          ; 04038C || 040722 AF          0457*  			XOR	A			; Clear A
	ret                            ; 040723 || 	ret                            ; 04038D || 040723 C9          0458*  			RET
	ld	a,$1c                       ; 040724 || 	ld	a,$1c                       ; 04038E || 040724 3E 1C       0460*  BADBIN:			LD	A, 28			; Error: "Bad Binary" - reuses same error code as Bad HEX
	call	$04045f                   ; 040726 || 	call	$043777                   ; 040390 || 040726 CD 5F 04 04 0461*  			CALL	EXTERR
	ld	b,d                         ; 04072A || 	ld	b,d                         ; 040394 || 04072A 42 61 64 20 0462*  			DB	"Bad Binary", 0
	ld	h,c                         ; 04072B || 	ld	h,c                         ; 040395
	ld	h,h                         ; 04072C || 	ld	h,h                         ; 040396
	jr	nz,$+$44                    ; 04072D || 	jr	nz,$+$44                    ; 040397
	ld	l,c                         ; 04072F || 	ld	l,c                         ; 040399
	ld	l,(hl)                      ; 040730 || 	ld	l,(hl)                      ; 04039A
	ld	h,c                         ; 040731 || 	ld	h,c                         ; 04039B
	ld	(hl),d                      ; 040732 || 	ld	(hl),d                      ; 04039C
	ld	a,c                         ; 040733 || 	ld	a,c                         ; 04039D
	nop                            ; 040734 || 	nop                            ; 04039E
	call	$0406b3                   ; 040735 || 	call	$04031d                   ; 04039F || 040735 CD B3 06 04 0469*  MINUS:			CALL    ITEMN			; Get the numeric argument
	dec	c                          ; 040739 || 	dec	c                          ; 0403A3 || 040739 0D          0470*  MINUS0:			DEC     C			; Check exponent (C)
	inc	c                          ; 04073A || 	inc	c                          ; 0403A4 || 04073A 0C          0471*  			INC     C			; If it is zero, then it's either a FP zero or an integer
	jr	z,$+$08                     ; 04073B || 	jr	z,$+$08                     ; 0403A5 || 04073B 28 06       0472*  			JR      Z,NEGATE_EV        	; So do an integer negation
	ld	a,h                         ; 04073D || 	ld	a,h                         ; 0403A7 || 04073D 7C          0474*  			LD      A,H			; Do a FP negation by
	xor	$80                        ; 04073E || 	xor	$80                        ; 0403A8 || 04073E EE 80       0475*  			XOR     80H             	; Toggling the sign bit (H)
	ld	h,a                         ; 040740 || 	ld	h,a                         ; 0403AA || 040740 67          0476*  			LD      H,A
	xor	a                          ; 040741 || 	xor	a                          ; 0403AB || 040741 AF          0477*  			XOR     A               	; Numeric marker
	ret                            ; 040742 || 	ret                            ; 0403AC || 040742 C9          0478*  			RET
	exx                            ; 040743 || 	exx                            ; 0403AD || 040743 D9          0480*  NEGATE_EV:			EXX				; This section does a two's complement negation on H'L'HLC
	ld	a,h                         ; 040744 || 	ld	a,h                         ; 0403AE || 040744 7C          0481*  			LD      A,H			; First do a one's complement by negating all the bytes
	cpl                            ; 040745 || 	cpl                            ; 0403AF || 040745 2F          0482*  			CPL
	ld	h,a                         ; 040746 || 	ld	h,a                         ; 0403B0 || 040746 67          0483*  			LD      H,A
	ld	a,l                         ; 040747 || 	ld	a,l                         ; 0403B1 || 040747 7D          0484*  			LD      A,L
	cpl                            ; 040748 || 	cpl                            ; 0403B2 || 040748 2F          0485*  			CPL
	ld	l,a                         ; 040749 || 	ld	l,a                         ; 0403B3 || 040749 6F          0486*  			LD      L,A
	exx                            ; 04074A || 	exx                            ; 0403B4 || 04074A D9          0487*  			EXX
	ld	a,h                         ; 04074B || 	ld	a,h                         ; 0403B5 || 04074B 7C          0488*  			LD      A,H
	cpl                            ; 04074C || 	cpl                            ; 0403B6 || 04074C 2F          0489*  			CPL
	ld	h,a                         ; 04074D || 	ld	h,a                         ; 0403B7 || 04074D 67          0490*  			LD      H,A
	ld	a,l                         ; 04074E || 	ld	a,l                         ; 0403B8 || 04074E 7D          0491*  			LD      A,L
	cpl                            ; 04074F || 	cpl                            ; 0403B9 || 04074F 2F          0492*  			CPL
	ld	l,a                         ; 040750 || 	ld	l,a                         ; 0403BA || 040750 6F          0493*  			LD      L,A
	exx                            ; 040751 || 	exx                            ; 0403BB || 040751 D9          0494*  ADD1:			EXX				; Then add 1
	inc	hl                         ; 040752 || 	inc	hl                         ; 0403BC || 040752 23          0495*  			INC     HL
	ld	a,h                         ; 040753 || 	ld	a,h                         ; 0403BD || 040753 7C          0496*  			LD      A,H
	or	l                           ; 040754 || 	or	l                           ; 0403BE || 040754 B5          0497*  			OR      L
	exx                            ; 040755 || 	exx                            ; 0403BF || 040755 D9          0498*  			EXX
	ld	a,$00                       ; 040756 || 	ld	a,$00                       ; 0403C0 || 040756 3E 00       0499*  			LD      A,0             	; Numeric marker
	ret	nz                         ; 040758 || 	ret	nz                         ; 0403C2 || 040758 C0          0500*  			RET     NZ
	inc	hl                         ; 040759 || 	inc	hl                         ; 0403C3 || 040759 23          0501*  			INC     HL
	ret                            ; 04075A || 	ret                            ; 0403C4 || 04075A C9          0502*  			RET
	call	$040459                   ; 04075B || 	call	$04164f                   ; 0403C5 || 04075B CD 59 04 04 0511*  ITEM:			CALL    CHECK			; Check there's at least a page of free memory left and Error: "No room" if not
	call	$040e09                   ; 04075F || 	call	$040a70                   ; 0403C9 || 04075F CD 09 0E 04 0512*  			CALL    NXT			; Skip spaces
	inc	iy                         ; 040763 || 	inc	iy                         ; 0403CD || 040763 FD 23       0513*  			INC     IY			; Move to the prefix character
	cp	$26                         ; 040765 || 	cp	$26                         ; 0403CF || 040765 FE 26       0514*  			CP      '&'			; If `&`
	jp	z,$0406dc                   ; 040767 || 	jp	z,$040346                   ; 0403D1 || 040767 CA DC 06 04 0515*  			JP      Z,HEX           	; Then get a HEX constant
	cp	$25                         ; 04076B || 	cp	$25                         ; 0403D5 || 04076B FE 25       0516*  			CP	'%'			; If '%'
	jr	z,$-$66                     ; 04076D || 	jr	z,$-$66                     ; 0403D7 || 04076D 28 98       0517*  			JR	Z,BIN			; Then get a BINARY constant
	cp	$2d                         ; 04076F || 	cp	$2d                         ; 0403D9 || 04076F FE 2D       0518*  			CP      '-'			; If `-`
	jr	z,$-$3c                     ; 040771 || 	jr	z,$-$3c                     ; 0403DB || 040771 28 C2       0519*  			JR      Z,MINUS         	; Then get a negative number
	cp	$2b                         ; 040773 || 	cp	$2b                         ; 0403DD || 040773 FE 2B       0520*  			CP      '+'			; If `+`
	jp	z,$0406b3                   ; 040775 || 	jp	z,$04031d                   ; 0403DF || 040775 CA B3 06 04 0521*  			JP      Z,ITEMN         	; Then just fetch the number (unary plus)
	cp	$28                         ; 040779 || 	cp	$28                         ; 0403E3 || 040779 FE 28       0522*  			CP      '('			; If `(`
	jp	z,$0406d2                   ; 04077B || 	jp	z,$04033c                   ; 0403E5 || 04077B CA D2 06 04 0523*  			JP      Z,ITEM1         	; Start of a bracketed expression
	cp	$22                         ; 04077F || 	cp	$22                         ; 0403E9 || 04077F FE 22       0524*  			CP      34			; If `"`
	jr	z,$+$7c                     ; 040781 || 	jr	z,$+$7c                     ; 0403EB || 040781 28 7A       0525*  			JR      Z,CONS          	; Start of a string constant
	cp	$c6                         ; 040783 || 	cp	$c6                         ; 0403ED || 040783 FE C6       0526*  			CP      TCMD			; Is it out of range of the function table?
	jp	nc,$040450                  ; 040785 || 	jp	nc,$040c97                  ; 0403EF || 040785 D2 50 04 04 0527*  			JP      NC,SYNTAX       	; Error: "Syntax Error"
	cp	$8d                         ; 040789 || 	cp	$8d                         ; 0403F3 || 040789 FE 8D       0528*  			CP      FUNTOK			; If it is in range, then
	jp	nc,$040e1c                  ; 04078B || 	jp	nc,$040a83                  ; 0403F5 || 04078B D2 1C 0E 04 0529*  			JP      NC,DISPAT       	; It's a function
	dec	iy                         ; 04078F || 	dec	iy                         ; 0403F9 || 04078F FD 2B       0530*  			DEC     IY
	cp	$3a                         ; 040791 || 	cp	$3a                         ; 0403FB || 040791 FE 3A       0531*  			CP      ':'
	jr	nc,$+$0e                    ; 040793 || 	jr	nc,$+$0e                    ; 0403FD || 040793 30 0C       0532*  			JR      NC,ITEM2		; VARIABLE?
	cp	$30                         ; 040795 || 	cp	$30                         ; 0403FF || 040795 FE 30       0533*  			CP      '0'
	jp	nc,$040824                  ; 040797 || 	jp	nc,$04048e                  ; 040401 || 040797 D2 24 08 04 0534*  			JP      NC,CON			; NUMERIC CONSTANT
	cp	$2e                         ; 04079B || 	cp	$2e                         ; 040405 || 04079B FE 2E       0535*  			CP      '.'
	jp	z,$040824                   ; 04079D || 	jp	z,$04048e                   ; 040407 || 04079D CA 24 08 04 0536*  			JP      Z,CON			; NUMERIC CONSTANT
	call	$04047a                   ; 0407A1 || 	call	$043a3a                   ; 04040B || 0407A1 CD 7A 04 04 0537*  ITEM2:			CALL    GETVAR			; VARIABLE
	jr	nz,$+$39                    ; 0407A5 || 	jr	nz,$+$39                    ; 04040F || 0407A5 20 37       0538*  			JR      NZ,NOSUCH
	or	a                           ; 0407A7 || 	or	a                           ; 040411 || 0407A7 B7          0539*  			OR      A
	jp	m,$040836                   ; 0407A8 || 	jp	m,$0404a0                   ; 040412 || 0407A8 FA 36 08 04 0540*  			JP      M,LOADS			; STRING VARIABLE
	or	a                           ; 0407AC || 	or	a                           ; 040416 || 0407AC B7          0541*  LOADN:			OR      A
	jr	z,$+$22                     ; 0407AD || 	jr	z,$+$22                     ; 040417 || 0407AD 28 20       0542*  			JR      Z,LOAD1			; BYTE VARIABLE
	ld	c,$00                       ; 0407AF || 	ld	c,$00                       ; 040419 || 0407AF 0E 00       0543*  			LD      C,0
	bit	0,a                        ; 0407B1 || 	bit	0,a                        ; 04041B || 0407B1 CB 47       0544*  			BIT     0,A
	jr	z,$+$05                     ; 0407B3 || 	jr	z,$+$05                     ; 04041D || 0407B3 28 03       0545*  			JR      Z,LOAD4			; INTEGER VARIABLE
	ld	c,(ix+$04)                  ; 0407B5 || 	ld	c,(ix+$04)                  ; 04041F || 0407B5 DD 4E 04    0546*  LOAD5:			LD      C,(IX+4)
	exx                            ; 0407B8 || 	exx                            ; 040422 || 0407B8 D9          0547*  LOAD4:			EXX
	ld	hl,$000000                  ; 0407B9 || 	ld	hl,$000000                  ; 040423 || 0407B9 21 00 00 00 0548*  			LD	HL, 0			; TODO: Optimise
	ld	l,(ix)                      ; 0407BD || 	ld	l,(ix)                      ; 040427 || 0407BD DD 6E 00    0549*  			LD      L,(IX+0)
	ld	h,(ix+$01)                  ; 0407C0 || 	ld	h,(ix+$01)                  ; 04042A || 0407C0 DD 66 01    0550*  			LD      H,(IX+1)
	exx                            ; 0407C3 || 	exx                            ; 04042D || 0407C3 D9          0551*  			EXX
	ld	hl,$000000                  ; 0407C4 || 	ld	hl,$000000                  ; 04042E || 0407C4 21 00 00 00 0552*  			LD	HL, 0			; TODO: Optimise
	ld	l,(ix+$02)                  ; 0407C8 || 	ld	l,(ix+$02)                  ; 040432 || 0407C8 DD 6E 02    0553*  			LD      L,(IX+2)
	ld	h,(ix+$03)                  ; 0407CB || 	ld	h,(ix+$03)                  ; 040435 || 0407CB DD 66 03    0554*  			LD      H,(IX+3)
	ret                            ; 0407CE || 	ret                            ; 040438 || 0407CE C9          0555*  			RET
	ld	hl,$000000                  ; 0407CF || 	ld	hl,$000000                  ; 040439 || 0407CF 21 00 00 00 0557*  LOAD1:			LD      HL,0
	exx                            ; 0407D3 || 	exx                            ; 04043D || 0407D3 D9          0558*  			EXX
	ld	hl,$000000                  ; 0407D4 || 	ld	hl,$000000                  ; 04043E || 0407D4 21 00 00 00 0559*  			LD      HL,0			; TODO: Optimise
	ld	l,(ix)                      ; 0407D8 || 	ld	l,(ix)                      ; 040442 || 0407D8 DD 6E 00    0560*  			LD      L,(IX+0)
	exx                            ; 0407DB || 	exx                            ; 040445 || 0407DB D9          0561*  			EXX
	ld	c,h                         ; 0407DC || 	ld	c,h                         ; 040446 || 0407DC 4C          0562*  			LD      C,H
	ret                            ; 0407DD || 	ret                            ; 040447 || 0407DD C9          0563*  			RET
	jp	c,$040450                   ; 0407DE || 	jp	c,$040c97                   ; 040448 || 0407DE DA 50 04 04 0565*  NOSUCH:			JP      C,SYNTAX
	ld	a,($040440)                 ; 0407E2 || 	ld	a,($044d40)                 ; 04044C || 0407E2 3A 40 04 04 0566*  			LD      A,(LISTON)
	bit	5,a                        ; 0407E6 || 	bit	5,a                        ; 040450 || 0407E6 CB 6F       0567*  			BIT     5,A
	ld	a,$1a                       ; 0407E8 || 	ld	a,$1a                       ; 040452 || 0407E8 3E 1A       0568*  			LD      A,26
	jr	nz,$+$28                    ; 0407EA || 	jr	nz,$+$28                    ; 040454 || 0407EA 20 26       0569*  			JR      NZ,ERROR0_EV		; Throw "No such variable"
	inc	iy                         ; 0407EC || 	inc	iy                         ; 040456 || 0407EC FD 23       0570*  NOS1:			INC     IY
	call	$040492                   ; 0407EE || 	call	$043c6f                   ; 040458 || 0407EE CD 92 04 04 0571*  			CALL    RANGE
	jr	nc,$-$06                    ; 0407F2 || 	jr	nc,$-$06                    ; 04045C || 0407F2 30 F8       0572*  			JR      NC,NOS1
	ld	ix,$100c40                  ; 0407F4 || 	ld	ix,$044c40                  ; 04045E || 0407F4 DD 21 40 0C 0573*  			LD      IX,PC
	xor	a                          ; 0407F9 || 	xor	a                          ; 040463 || 0407F9 AF          0574*  			XOR     A
	ld	c,a                         ; 0407FA || 	ld	c,a                         ; 040464 || 0407FA 4F          0575*  			LD      C,A
	jr	$-$43                       ; 0407FB || 	jr	$-$43                       ; 040465 || 0407FB 18 BB       0576*  			JR      LOAD4
	ld	de,$040100                  ; 0407FD || 	ld	de,$044a00                  ; 040467 || 0407FD 11 00 01 04 0585*  CONS:			LD      DE,ACCS			; DE: Pointer to the string accumulator
	ld	a,(iy)                      ; 040801 || 	ld	a,(iy)                      ; 04046B || 040801 FD 7E 00    0586*  CONS3:			LD      A,(IY)			; Fetch the first character and
	inc	iy                         ; 040804 || 	inc	iy                         ; 04046E || 040804 FD 23       0587*  			INC     IY			; Increment the pointer
	cp	$22                         ; 040806 || 	cp	$22                         ; 040470 || 040806 FE 22       0588*  			CP      '"'			; Check for start quote
	jr	z,$+$0e                     ; 040808 || 	jr	z,$+$0e                     ; 040472 || 040808 28 0C       0589*  			JR      Z,CONS2			; Yes, so jump to the bit that parses the string
	ld	(de),a                      ; 04080A || 	ld	(de),a                      ; 040474 || 04080A 12          0591*  CONS1:			LD      (DE),A			; Store the character in the string accumulator
	inc	e                          ; 04080B || 	inc	e                          ; 040475 || 04080B 1C          0592*  			INC     E			; Increment the string accumulator pointer
	cp	$0d                         ; 04080C || 	cp	$0d                         ; 040476 || 04080C FE 0D       0593*  			CP      CR			; Is it CR
	jr	nz,$-$0d                    ; 04080E || 	jr	nz,$-$0d                    ; 040478 || 04080E 20 F1       0594*  			JR      NZ,CONS3		; No, so keep looping
	ld	a,$09                       ; 040810 || 	ld	a,$09                       ; 04047A || 040810 3E 09       0596*  			LD      A,9
	jp	$04045c                     ; 040812 || 	jp	$043760                     ; 04047C || 040812 C3 5C 04 04 0597*  ERROR0_EV:			JP      ERROR_           	; Throw error "Missing '"'
	ld	a,(iy)                      ; 040816 || 	ld	a,(iy)                      ; 040480 || 040816 FD 7E 00    0599*  CONS2:			LD      A,(IY)			; Fetch the next character
	cp	$22                         ; 040819 || 	cp	$22                         ; 040483 || 040819 FE 22       0600*  			CP      '"'			; Check for end quote?
	inc	iy                         ; 04081B || 	inc	iy                         ; 040485 || 04081B FD 23       0601*  			INC     IY			; Increment the pointer
	jr	z,$-$13                     ; 04081D || 	jr	z,$-$13                     ; 040487 || 04081D 28 EB       0602*  			JR      Z,CONS1			; It is the end of string marker so jump to the end routine
	dec	iy                         ; 04081F || 	dec	iy                         ; 040489 || 04081F FD 2B       0603*  			DEC     IY			;
	ld	a,$80                       ; 040821 || 	ld	a,$80                       ; 04048B || 040821 3E 80       0604*  			LD      A,80H           	; String marker
	ret                            ; 040823 || 	ret                            ; 04048D || 040823 C9          0605*  			RET
	push	iy                        ; 040824 || 	push	iy                        ; 04048E || 040824 FD E5       0613*  CON:			PUSH    IY
	pop	ix                         ; 040826 || 	pop	ix                         ; 040490 || 040826 DD E1       0614*  			POP     IX
	ld	a,$24                       ; 040828 || 	ld	a,$24                       ; 040492 || 040828 3E 24       0615*  			LD      A,36
	call	$040465                   ; 04082A || 	call	$04206a                   ; 040494 || 04082A CD 65 04 04 0616*  			CALL    FPP
	jr	c,$-$1c                     ; 04082E || 	jr	c,$-$1c                     ; 040498 || 04082E 38 E2       0617*  			JR      C,ERROR0_EV
	push	ix                        ; 040830 || 	push	ix                        ; 04049A || 040830 DD E5       0618*  			PUSH    IX
	pop	iy                         ; 040832 || 	pop	iy                         ; 04049C || 040832 FD E1       0619*  			POP     IY
	xor	a                          ; 040834 || 	xor	a                          ; 04049E || 040834 AF          0620*  			XOR     A
	ret                            ; 040835 || 	ret                            ; 04049F || 040835 C9          0621*  			RET
	ld	de,$040100                  ; 040836 || 	ld	de,$044a00                  ; 0404A0 || 040836 11 00 01 04 0623*  LOADS:			LD      DE,ACCS			; Where to store the string
	rra                            ; 04083A || 	rra                            ; 0404A4 || 04083A 1F          0624*  			RRA
	jr	nc,$+$1c                    ; 04083B || 	jr	nc,$+$1c                    ; 0404A5 || 04083B 30 1A       0625*  			JR      NC,LOADS2       	; Skip if it is a fixed string
	exx                            ; 04083D || 	exx                            ; 0404A7 || 04083D D9          0627*  			EXX				; This block was a call to LOAD4
	ld	l,(ix)                      ; 04083E || 	ld	l,(ix)                      ; 0404A8 || 04083E DD 6E 00    0628*  			LD      L,(IX+0)		; The length of the string currently stored in the allocated space
	ld	h,(ix+$01)                  ; 040841 || 	ld	h,(ix+$01)                  ; 0404AB || 040841 DD 66 01    0629*  			LD      H,(IX+1)		; The maximum original string length
	exx                            ; 040844 || 	exx                            ; 0404AE || 040844 D9          0630*  			EXX
	ld	hl,(ix+$02)                 ; 040845 || 	ld	hl,(ix+$02)                 ; 0404AF || 040845 DD 27 02    0631*  			LD	HL,(IX+2)		; Address of the string (24-bit)
	exx                            ; 040848 || 	exx                            ; 0404B2 || 040848 D9          0633*  			EXX
	ld	a,l                         ; 040849 || 	ld	a,l                         ; 0404B3 || 040849 7D          0634*  			LD      A,L
	exx                            ; 04084A || 	exx                            ; 0404B4 || 04084A D9          0635*  			EXX
	or	a                           ; 04084B || 	or	a                           ; 0404B5 || 04084B B7          0636*  			OR      A
	ld	bc,$000000                  ; 04084C || 	ld	bc,$000000                  ; 0404B6 || 04084C 01 00 00 00 0637*  			LD	BC,0			; BC: Number of bytes to copy
	ld	c,a                         ; 040850 || 	ld	c,a                         ; 0404BA || 040850 4F          0638*  			LD      C,A
	ld	a,$80                       ; 040851 || 	ld	a,$80                       ; 0404BB || 040851 3E 80       0639*  			LD      A,80H           	; String marker
	ret	z                          ; 040853 || 	ret	z                          ; 0404BD || 040853 C8          0640*  			RET     Z
	ldir                           ; 040854 || 	ldir                           ; 0404BE || 040854 ED B0       0641*  			LDIR
	ret                            ; 040856 || 	ret                            ; 0404C0 || 040856 C9          0642*  			RET
	ld	a,(hl)                      ; 040857 || 	ld	a,(hl)                      ; 0404C1 || 040857 7E          0643*  LOADS2:			LD      A,(HL)
	ld	(de),a                      ; 040858 || 	ld	(de),a                      ; 0404C2 || 040858 12          0644*  			LD      (DE),A
	inc	hl                         ; 040859 || 	inc	hl                         ; 0404C3 || 040859 23          0645*  			INC     HL
	cp	$0d                         ; 04085A || 	cp	$0d                         ; 0404C4 || 04085A FE 0D       0646*  			CP      CR
	ld	a,$80                       ; 04085C || 	ld	a,$80                       ; 0404C6 || 04085C 3E 80       0647*  			LD      A,80H           	; String marker
	ret	z                          ; 04085E || 	ret	z                          ; 0404C8 || 04085E C8          0648*  			RET     Z
	inc	e                          ; 04085F || 	inc	e                          ; 0404C9 || 04085F 1C          0649*  			INC     E
	jr	nz,$-$09                    ; 040860 || 	jr	nz,$-$09                    ; 0404CA || 040860 20 F5       0650*  			JR      NZ,LOADS2
	ret                            ; 040862 || 	ret                            ; 0404CC || 040862 C9          0651*  			RET                     	; Return null string
	call	$040468                   ; 040863 || 	call	$043ecc                   ; 0404CD || 040863 CD 68 04 04 0680*  POS:			CALL    GETCSR			; Return the horizontal cursor position
	ex	de,hl                       ; 040867 || 	ex	de,hl                       ; 0404D1 || 040867 EB          0681*  			EX      DE,HL			;  L: The X cursor position
	jp	$040917                     ; 040868 || 	jp	$040581                     ; 0404D2 || 040868 C3 17 09 04 0682*  			JP      COUNT1			; Return an 8-bit value
	call	$040468                   ; 04086C || 	call	$043ecc                   ; 0404D6 || 04086C CD 68 04 04 0684*  VPOS:			CALL    GETCSR			; Return the vertical cursor position
	jp	$040917                     ; 040870 || 	jp	$040581                     ; 0404DA || 040870 C3 17 09 04 0685*  			JP      COUNT1			; Return an 8-bit value
	call	$040456                   ; 040874 || 	call	$041886                   ; 0404DE || 040874 CD 56 04 04 0687*  EOF:			CALL    CHANEL			; Check for EOF
	call	$04048c                   ; 040878 || 	call	$044344                   ; 0404E2 || 040878 CD 8C 04 04 0688*  			CALL    OSSTAT
	jp	z,$04099b                   ; 04087C || 	jp	z,$040605                   ; 0404E6 || 04087C CA 9B 09 04 0689*  			JP      Z,TRUE			; Yes, so return true
	jp	$040d29                     ; 040880 || 	jp	$040993                     ; 0404EA || 040880 C3 29 0D 04 0690*  			JP      ZERO			; Otherwise return false (zero)
	call	$040456                   ; 040884 || 	call	$041886                   ; 0404EE || 040884 CD 56 04 04 0692*  BGET:			CALL    CHANEL          	; Channel number
	call	$040480                   ; 040888 || 	call	$044333                   ; 0404F2 || 040888 CD 80 04 04 0693*  			CALL    OSBGET
	ld	l,a                         ; 04088C || 	ld	l,a                         ; 0404F6 || 04088C 6F          0694*  			LD      L,A
	jp	$040915                     ; 04088D || 	jp	$04057f                     ; 0404F7 || 04088D C3 15 09 04 0695*  			JP      COUNT0			; Return an 8-bit value
	call	$0406bb                   ; 040891 || 	call	$040325                   ; 0404FB || 040891 CD BB 06 04 0697*  INKEY:			CALL    ITEMI			; Get the argument
	bit	7,h                        ; 040895 || 	bit	7,h                        ; 0404FF || 040895 CB 7C       0698*  			BIT	7, H			; Check the sign
	exx                            ; 040897 || 	exx                            ; 040501 || 040897 D9          0699*  			EXX				; HL: The argument
	jp	nz,$040b81                  ; 040898 || 	jp	nz,$0407eb                  ; 040502 || 040898 C2 81 0B 04 0700*  			JP	NZ, INKEYM		; It's negative, so do INKEY(-n)
	call	$040b73                   ; 04089C || 	call	$0407dd                   ; 040506 || 04089C CD 73 0B 04 0701*  			CALL	INKEY0 			; Do INKEY(n)
	jr	$+$1f                       ; 0408A0 || 	jr	$+$1f                       ; 04050A || 0408A0 18 1D       0702*  			JR      ASC0			; Return a numeric value
	call	$040e09                   ; 0408A2 || 	call	$040a70                   ; 04050C || 0408A2 CD 09 0E 04 0704*  GET:			CALL    NXT			; Skip whitespace
	cp	$28                         ; 0408A6 || 	cp	$28                         ; 040510 || 0408A6 FE 28       0705*  			CP      '('			; Is it GET(
	jr	nz,$+$0d                    ; 0408A8 || 	jr	nz,$+$0d                    ; 040512 || 0408A8 20 0B       0706*  			JR      NZ,GET0			; No, so get a keyboard character
	call	$0406bb                   ; 0408AA || 	call	$040325                   ; 040514 || 0408AA CD BB 06 04 0707*  			CALL    ITEMI           	; Yes, so fetch the port address
	exx                            ; 0408AE || 	exx                            ; 040518 || 0408AE D9          0708*  			EXX
	ld	b,h                         ; 0408AF || 	ld	b,h                         ; 040519 || 0408AF 44          0709*  			LD      B,H			; BC: The port address
	ld	c,l                         ; 0408B0 || 	ld	c,l                         ; 04051A || 0408B0 4D          0710*  			LD      C,L
	in	l,(bc)                      ; 0408B1 || 	in	l,(bc)                      ; 04051B || 0408B1 ED 68       0711*  			IN      L,(C)           	;  L: Input from port BC
	jr	$+$62                       ; 0408B3 || 	jr	$+$62                       ; 04051D || 0408B3 18 60       0712*  			JR      COUNT0			; Return an 8-bit value
	call	$040b5d                   ; 0408B5 || 	call	$0407c7                   ; 04051F || 0408B5 CD 5D 0B 04 0714*  GET0:			CALL    GETS			; Read the keyboard character
	jr	$+$0c                       ; 0408B9 || 	jr	$+$0c                       ; 040523 || 0408B9 18 0A       0715*  			JR      ASC1			; And return the value
	call	$0406c6                   ; 0408BB || 	call	$040330                   ; 040525 || 0408BB CD C6 06 04 0717*  ASC:			CALL    ITEMS			; Get the string argument argument
	xor	a                          ; 0408BF || 	xor	a                          ; 040529 || 0408BF AF          0718*  ASC0:			XOR     A			; Quickly check the length of the string in ACCS
	cp	e                           ; 0408C0 || 	cp	e                           ; 04052A || 0408C0 BB          0719*  			CP      E			; Is the pointer 0
	jp	z,$04099b                   ; 0408C1 || 	jp	z,$040605                   ; 04052B || 0408C1 CA 9B 09 04 0720*  			JP      Z,TRUE          	; Yes, so return -1 as it is a null string
	ld	hl,($040100)                ; 0408C5 || 	ld	hl,($044a00)                ; 04052F || 0408C5 2A 00 01 04 0721*  ASC1:			LD      HL,(ACCS)		;  L: The first character (H will be discarded in COUNT0
	jr	$+$4c                       ; 0408C9 || 	jr	$+$4c                       ; 040533 || 0408C9 18 4A       0722*  			JR      COUNT0			; An 8-bit value
	call	$0406c6                   ; 0408CB || 	call	$040330                   ; 040535 || 0408CB CD C6 06 04 0724*  LEN:			CALL    ITEMS			; Get the string argument
	ex	de,hl                       ; 0408CF || 	ex	de,hl                       ; 040539 || 0408CF EB          0725*  			EX      DE,HL			; HL: Pointer into ACCS
	jr	$+$45                       ; 0408D0 || 	jr	$+$45                       ; 04053A || 0408D0 18 43       0726*  			JR      COUNT0			; Return L
	ld	hl,($04041a)                ; 0408D2 || 	ld	hl,($044d1a)                ; 04053C || 0408D2 2A 1A 04 04 0728*  LOMEMV:			LD      HL,(LOMEM)		; Return the LOMEM system variable
	ld	a,($04041c)                 ; 0408D6 || 	ld	a,($044d1c)                 ; 040540 || 0408D6 3A 1C 04 04 0729*  			LD	A, (LOMEM+2)
	jr	$+$43                       ; 0408DA || 	jr	$+$43                       ; 040544 || 0408DA 18 41       0730*  			JR      COUNT2			; A 24-bit value
	ld	hl,($040420)                ; 0408DC || 	ld	hl,($044d20)                ; 040546 || 0408DC 2A 20 04 04 0732*  HIMEMV:			LD      HL,(HIMEM)		; Return the HIMEM system variable
	ld	a,($040422)                 ; 0408E0 || 	ld	a,($044d22)                 ; 04054A || 0408E0 3A 22 04 04 0733*  			LD	A, (HIMEM+2)
	jr	$+$39                       ; 0408E4 || 	jr	$+$39                       ; 04054E || 0408E4 18 37       0734*  			JR      COUNT2			; A 24-bit value
	ld	hl,($040414)                ; 0408E6 || 	ld	hl,($044d14)                ; 040550 || 0408E6 2A 14 04 04 0736*  PAGEV:			LD    	HL,(PAGE_)		; Return the PAGE system variable
	ld	a,($040416)                 ; 0408EA || 	ld	a,($044d16)                 ; 040554 || 0408EA 3A 16 04 04 0737*  			LD	A, (PAGE_+2)		; A 24-bit value
	jr	$+$2f                       ; 0408EE || 	jr	$+$2f                       ; 040558 || 0408EE 18 2D       0738*  			JR      COUNT2
	ld	a,(iy)                      ; 0408F0 || 	ld	a,(iy)                      ; 04055A || 0408F0 FD 7E 00    0740*  TOPV:			LD      A,(IY)			; Return the TOP system variable
	inc	iy                         ; 0408F3 || 	inc	iy                         ; 04055D || 0408F3 FD 23       0741*  			INC     IY              	; Skip "P"
	cp	$50                         ; 0408F5 || 	cp	$50                         ; 04055F || 0408F5 FE 50       0742*  			CP      'P'
	jp	nz,$040450                  ; 0408F7 || 	jp	nz,$040c97                  ; 040561 || 0408F7 C2 50 04 04 0743*  			JP      NZ,SYNTAX       	; Throw "Syntax Error"
	ld	hl,($040417)                ; 0408FB || 	ld	hl,($044d17)                ; 040565 || 0408FB 2A 17 04 04 0744*  			LD      HL,(TOP)
	ld	a,($040419)                 ; 0408FF || 	ld	a,($044d19)                 ; 040569 || 0408FF 3A 19 04 04 0745*  			LD	A, (TOP+2)
	jr	$+$1a                       ; 040903 || 	jr	$+$1a                       ; 04056D || 040903 18 18       0746*  			JR      COUNT2
	ld	hl,($040433)                ; 040905 || 	ld	hl,($044d33)                ; 04056F || 040905 2A 33 04 04 0748*  ERLV:			LD      HL,(ERL)		; Return the error line
	jr	$+$0e                       ; 040909 || 	jr	$+$0e                       ; 040573 || 040909 18 0C       0749*  			JR      COUNT1			; A 16-bit value
	ld	hl,($04043f)                ; 04090B || 	ld	hl,($044d3f)                ; 040575 || 04090B 2A 3F 04 04 0751*  ERRV:			LD      HL,(ERR)		; Return the error value
	jr	$+$06                       ; 04090F || 	jr	$+$06                       ; 040579 || 04090F 18 04       0752*  			JR      COUNT0			; An 8-bit value
	ld	hl,($04043d)                ; 040911 || 	ld	hl,($044d3d)                ; 04057B || 040911 2A 3D 04 04 0754*  COUNTV:			LD      HL,(COUNT)		; Return the print position sysvar
	ld	h,$00                       ; 040915 || 	ld	h,$00                       ; 04057F || 040915 26 00       0756*  COUNT0:			LD      H,0			; Return L
	exx                            ; 040917 || 	exx                            ; 040581 || 040917 D9          0757*  COUNT1:			EXX				; Return HL
	xor	a                          ; 040918 || 	xor	a                          ; 040582 || 040918 AF          0758*  			XOR     A
	ld	c,a                         ; 040919 || 	ld	c,a                         ; 040583 || 040919 4F          0759*  			LD      C,A             	; Integer marker
	ld	h,a                         ; 04091A || 	ld	h,a                         ; 040584 || 04091A 67          0760*  			LD      H,A
	ld	l,a                         ; 04091B || 	ld	l,a                         ; 040585 || 04091B 6F          0761*  			LD      L,A
	ret                            ; 04091C || 	ret                            ; 040586 || 04091C C9          0762*  			RET
	exx                            ; 04091D || 	exx                            ; 040587 || 04091D D9          0763*  COUNT2:			EXX
	ld	l,a                         ; 04091E || 	ld	l,a                         ; 040588 || 04091E 6F          0764*  			LD	L,A
	xor	a                          ; 04091F || 	xor	a                          ; 040589 || 04091F AF          0765*  			XOR	A
	ld	c,a                         ; 040920 || 	ld	c,a                         ; 04058A || 040920 4F          0766*  			LD	C,A			; Integer marker
	ld	h,a                         ; 040921 || 	ld	h,a                         ; 04058B || 040921 67          0767*  			LD	H,A
	ret                            ; 040922 || 	ret                            ; 04058C || 040922 C9          0768*  			RET
	xor	a                          ; 040923 || 	xor	a                          ; 04058D || 040923 AF          0775*  OPENOT:			XOR     A			; Open for writing
	jr	$+$08                       ; 040924 || 	jr	$+$08                       ; 04058E || 040924 18 06       0776*  			JR	OPENIN_1
	ld	a,$02                       ; 040926 || 	ld	a,$02                       ; 040590 || 040926 3E 02       0778*  OPENUP:			LD      A,2			; Open for reading / writing
	jr	$+$04                       ; 040928 || 	jr	$+$04                       ; 040592 || 040928 18 02       0779*  			JR	OPENIN_1
	ld	a,$01                       ; 04092A || 	ld	a,$01                       ; 040594 || 04092A 3E 01       0781*  OPENIN:			LD      A,1			; Open for reading
	push	af                        ; 04092C || 	push	af                        ; 040596 || 04092C F5          0783*  OPENIN_1:		PUSH    AF              	; Save OPEN type
	call	$0406c6                   ; 04092D || 	call	$040330                   ; 040597 || 04092D CD C6 06 04 0784*  			CALL    ITEMS           	; Fetch the filename
	ld	a,$0d                       ; 040931 || 	ld	a,$0d                       ; 04059B || 040931 3E 0D       0785*  			LD      A,CR
	ld	(de),a                      ; 040933 || 	ld	(de),a                      ; 04059D || 040933 12          0786*  			LD      (DE),A
	pop	af                         ; 040934 || 	pop	af                         ; 04059E || 040934 F1          0787*  			POP     AF              	; Restore the OPEN type
	add	a,$ff                      ; 040935 || 	add	a,$ff                      ; 04059F || 040935 C6 FF       0788*  			ADD     A,-1            	; Affect the flags
	ld	hl,$040100                  ; 040937 || 	ld	hl,$044a00                  ; 0405A1 || 040937 21 00 01 04 0789*  			LD      HL,ACCS
	call	$040486                   ; 04093B || 	call	$04431c                   ; 0405A5 || 04093B CD 86 04 04 0790*  			CALL    OSOPEN			; Call the OS specific OPEN routine in patch.asm
	ld	l,a                         ; 04093F || 	ld	l,a                         ; 0405A9 || 04093F 6F          0791*  			LD      L,A			; L: Channel number
	jr	$-$2b                       ; 040940 || 	jr	$-$2b                       ; 0405AA || 040940 18 D3       0792*  			JR      COUNT0			; Return channel number to BASIC
	call	$040456                   ; 040942 || 	call	$041886                   ; 0405AC || 040942 CD 56 04 04 0798*  EXT:			CALL    CHANEL
	call	$04046b                   ; 040946 || 	call	$04437a                   ; 0405B0 || 040946 CD 6B 04 04 0799*  			CALL    GETEXT
	jr	$+$17                       ; 04094A || 	jr	$+$17                       ; 0405B4 || 04094A 18 15       0800*  			JR      TIME0
	call	$040456                   ; 04094C || 	call	$041886                   ; 0405B6 || 04094C CD 56 04 04 0802*  PTR_EV:			CALL    CHANEL
	call	$040474                   ; 040950 || 	call	$04434e                   ; 0405BA || 040950 CD 74 04 04 0803*  			CALL    GETPTR
	jr	$+$0d                       ; 040954 || 	jr	$+$0d                       ; 0405BE || 040954 18 0B       0804*  			JR      TIME0
	ld	a,(iy)                      ; 040956 || 	ld	a,(iy)                      ; 0405C0 || 040956 FD 7E 00    0809*  TIMEV:			LD      A,(IY)
	cp	$24                         ; 040959 || 	cp	$24                         ; 0405C3 || 040959 FE 24       0810*  			CP      '$'
	jr	z,$+$0c                     ; 04095B || 	jr	z,$+$0c                     ; 0405C5 || 04095B 28 0A       0811*  			JR      Z,TIMEVS
	call	$04046e                   ; 04095D || 	call	$043eac                   ; 0405C7 || 04095D CD 6E 04 04 0812*  			CALL    GETIME
	push	de                        ; 040961 || 	push	de                        ; 0405CB || 040961 D5          0813*  TIME0:			PUSH    DE
	exx                            ; 040962 || 	exx                            ; 0405CC || 040962 D9          0814*  			EXX
	pop	hl                         ; 040963 || 	pop	hl                         ; 0405CD || 040963 E1          0815*  			POP     HL
	xor	a                          ; 040964 || 	xor	a                          ; 0405CE || 040964 AF          0816*  			XOR     A
	ld	c,a                         ; 040965 || 	ld	c,a                         ; 0405CF || 040965 4F          0817*  			LD      C,A
	ret                            ; 040966 || 	ret                            ; 0405D0 || 040966 C9          0818*  			RET
	inc	iy                         ; 040967 || 	inc	iy                         ; 0405D1 || 040967 FD 23       0823*  TIMEVS:			INC     IY              ;SKIP $
	call	$040471                   ; 040969 || 	call	$044393                   ; 0405D3 || 040969 CD 71 04 04 0824*  			CALL    GETIMS
	ld	a,$80                       ; 04096D || 	ld	a,$80                       ; 0405D7 || 04096D 3E 80       0825*  			LD      A,80H           ;MARK STRING
	ret                            ; 04096F || 	ret                            ; 0405D9 || 04096F C9          0826*  			RET
	call	$040d25                   ; 040970 || 	call	$04098f                   ; 0405DA || 040970 CD 25 0D 04 0830*  SLT:			CALL    SCP
	ret	nc                         ; 040974 || 	ret	nc                         ; 0405DE || 040974 D0          0831*  			RET     NC
	jr	$+$26                       ; 040975 || 	jr	$+$26                       ; 0405DF || 040975 18 24       0832*  			JR      TRUE
	call	$040d25                   ; 040977 || 	call	$04098f                   ; 0405E1 || 040977 CD 25 0D 04 0834*  SGT:			CALL    SCP
	ret	z                          ; 04097B || 	ret	z                          ; 0405E5 || 04097B C8          0835*  			RET     Z
	ret	c                          ; 04097C || 	ret	c                          ; 0405E6 || 04097C D8          0836*  			RET     C
	jr	$+$1e                       ; 04097D || 	jr	$+$1e                       ; 0405E7 || 04097D 18 1C       0837*  			JR      TRUE
	call	$040d25                   ; 04097F || 	call	$04098f                   ; 0405E9 || 04097F CD 25 0D 04 0839*  SGE:			CALL    SCP
	ret	c                          ; 040983 || 	ret	c                          ; 0405ED || 040983 D8          0840*  			RET     C
	jr	$+$17                       ; 040984 || 	jr	$+$17                       ; 0405EE || 040984 18 15       0841*  			JR      TRUE
	call	$040d25                   ; 040986 || 	call	$04098f                   ; 0405F0 || 040986 CD 25 0D 04 0843*  SLE:			CALL    SCP
	jr	z,$+$11                     ; 04098A || 	jr	z,$+$11                     ; 0405F4 || 04098A 28 0F       0844*  			JR      Z,TRUE
	ret	nc                         ; 04098C || 	ret	nc                         ; 0405F6 || 04098C D0          0845*  			RET     NC
	jr	$+$0e                       ; 04098D || 	jr	$+$0e                       ; 0405F7 || 04098D 18 0C       0846*  			JR      TRUE
	call	$040d25                   ; 04098F || 	call	$04098f                   ; 0405F9 || 04098F CD 25 0D 04 0848*  SNE:			CALL    SCP
	ret	z                          ; 040993 || 	ret	z                          ; 0405FD || 040993 C8          0849*  			RET     Z
	jr	$+$07                       ; 040994 || 	jr	$+$07                       ; 0405FE || 040994 18 05       0850*  			JR      TRUE
	call	$040d25                   ; 040996 || 	call	$04098f                   ; 040600 || 040996 CD 25 0D 04 0852*  SEQ:			CALL    SCP
	ret	nz                         ; 04099A || 	ret	nz                         ; 040604 || 04099A C0          0853*  			RET     NZ
	ld	a,$ff                       ; 04099B || 	ld	a,$ff                       ; 040605 || 04099B 3E FF       0854*  TRUE:			LD      A,-1
	exx                            ; 04099D || 	exx                            ; 040607 || 04099D D9          0855*  			EXX
	ld	h,a                         ; 04099E || 	ld	h,a                         ; 040608 || 04099E 67          0856*  			LD      H,A
	ld	l,a                         ; 04099F || 	ld	l,a                         ; 040609 || 04099F 6F          0857*  			LD      L,A
	exx                            ; 0409A0 || 	exx                            ; 04060A || 0409A0 D9          0858*  			EXX
	ld	h,a                         ; 0409A1 || 	ld	h,a                         ; 04060B || 0409A1 67          0859*  			LD      H,A
	ld	l,a                         ; 0409A2 || 	ld	l,a                         ; 04060C || 0409A2 6F          0860*  			LD      L,A
	inc	a                          ; 0409A3 || 	inc	a                          ; 04060D || 0409A3 3C          0861*  			INC     A
	ld	c,a                         ; 0409A4 || 	ld	c,a                         ; 04060E || 0409A4 4F          0862*  			LD      C,A
	ret                            ; 0409A5 || 	ret                            ; 04060F || 0409A5 C9          0863*  			RET
	ld	a,$23                       ; 0409A6 || 	ld	a,$23                       ; 040610 || 0409A6 3E 23       0868*  PI:			LD      A,35
	jr	$+$46                       ; 0409A8 || 	jr	$+$46                       ; 040612 || 0409A8 18 44       0869*  			JR      FPP1
	ld	a,$10                       ; 0409AA || 	ld	a,$10                       ; 040614 || 0409AA 3E 10       0874*  ABSV:			LD      A,16
	jr	$+$3c                       ; 0409AC || 	jr	$+$3c                       ; 040616 || 0409AC 18 3A       0875*  			JR      FPPN
	ld	a,$1a                       ; 0409AE || 	ld	a,$1a                       ; 040618 || 0409AE 3E 1A       0880*  NOTK:			LD      A,26
	jr	$+$38                       ; 0409B0 || 	jr	$+$38                       ; 04061A || 0409B0 18 36       0881*  			JR      FPPN
	ld	a,$15                       ; 0409B2 || 	ld	a,$15                       ; 04061C || 0409B2 3E 15       0886*  DEG:			LD      A,21
	jr	$+$34                       ; 0409B4 || 	jr	$+$34                       ; 04061E || 0409B4 18 32       0887*  			JR      FPPN
	ld	a,$1b                       ; 0409B6 || 	ld	a,$1b                       ; 040620 || 0409B6 3E 1B       0892*  RAD:			LD      A,27
	jr	$+$30                       ; 0409B8 || 	jr	$+$30                       ; 040622 || 0409B8 18 2E       0893*  			JR      FPPN
	ld	a,$1c                       ; 0409BA || 	ld	a,$1c                       ; 040624 || 0409BA 3E 1C       0898*  SGN:			LD      A,28
	jr	$+$2c                       ; 0409BC || 	jr	$+$2c                       ; 040626 || 0409BC 18 2A       0899*  			JR      FPPN
	ld	a,$17                       ; 0409BE || 	ld	a,$17                       ; 040628 || 0409BE 3E 17       0904*  INT_:			LD      A,23
	jr	$+$28                       ; 0409C0 || 	jr	$+$46                       ; 040612 || 0409C0 18 26       0905*  			JR      FPPN
	ld	a,$1e                       ; 0409C2 || 	ld	a,$10                       ; 040614 || 0409C2 3E 1E       0910*  SQR:			LD      A,30
	jr	$+$24                       ; 0409C4 || 	jr	$+$3c                       ; 040616 || 0409C4 18 22       0911*  			JR      FPPN
	ld	a,$1f                       ; 0409C6 || 	ld	a,$1a                       ; 040618 || 0409C6 3E 1F       0916*  TAN:			LD      A,31
	jr	$+$20                       ; 0409C8 || 	jr	$+$38                       ; 04061A || 0409C8 18 1E       0917*  			JR      FPPN
	ld	a,$14                       ; 0409CA || 	ld	a,$15                       ; 04061C || 0409CA 3E 14       0922*  COS:			LD      A,20
	jr	$+$1c                       ; 0409CC || 	jr	$+$34                       ; 04061E || 0409CC 18 1A       0923*  			JR      FPPN
	ld	a,$1d                       ; 0409CE || 	ld	a,$1b                       ; 040620 || 0409CE 3E 1D       0928*  SIN:			LD      A,29
	jr	$+$18                       ; 0409D0 || 	jr	$+$30                       ; 040622 || 0409D0 18 16       0929*  			JR      FPPN
	ld	a,$16                       ; 0409D2 || 	ld	a,$1c                       ; 040624 || 0409D2 3E 16       0934*  EXP:			LD      A,22
	jr	$+$14                       ; 0409D4 || 	jr	$+$2c                       ; 040626 || 0409D4 18 12       0935*  			JR      FPPN
	ld	a,$18                       ; 0409D6 || 	ld	a,$17                       ; 040628 || 0409D6 3E 18       0940*  LN:			LD      A,24
	jr	$+$10                       ; 0409D8 || 	jr	$+$28                       ; 04062A || 0409D8 18 0E       0941*  			JR      FPPN
	ld	a,$19                       ; 0409DA || 	ld	a,$1e                       ; 04062C || 0409DA 3E 19       0946*  LOG:			LD      A,25
	jr	$+$0c                       ; 0409DC || 	jr	$+$24                       ; 04062E || 0409DC 18 0A       0947*  			JR      FPPN
	ld	a,$12                       ; 0409DE || 	ld	a,$1f                       ; 040630 || 0409DE 3E 12       0952*  ASN:			LD      A,18
	jr	$+$08                       ; 0409E0 || 	jr	$+$08                       ; 04064A || 0409E0 18 06       0953*  			JR      FPPN
	ld	a,$13                       ; 0409E2 || 	ld	a,$13                       ; 04064C || 0409E2 3E 13       0958*  ATN:			LD      A,19
	jr	$+$04                       ; 0409E4 || 	jr	$+$04                       ; 04064E || 0409E4 18 02       0959*  			JR      FPPN
	ld	a,$11                       ; 0409E6 || 	ld	a,$11                       ; 040650 || 0409E6 3E 11       0964*  ACS:			LD      A,17
	push	af                        ; 0409E8 || 	push	af                        ; 040652 || 0409E8 F5          0965*  FPPN:			PUSH    AF
	call	$0406b3                   ; 0409E9 || 	call	$04031d                   ; 040653 || 0409E9 CD B3 06 04 0966*  			CALL    ITEMN
	pop	af                         ; 0409ED || 	pop	af                         ; 040657 || 0409ED F1          0967*  			POP     AF
	call	$040465                   ; 0409EE || 	call	$04206a                   ; 040658 || 0409EE CD 65 04 04 0968*  FPP1:			CALL    FPP
	jp	c,$04045c                   ; 0409F2 || 	jp	c,$043760                   ; 04065C || 0409F2 DA 5C 04 04 0969*  			JP      C,ERROR_
	xor	a                          ; 0409F6 || 	xor	a                          ; 040660 || 0409F6 AF          0970*  			XOR     A
	ret                            ; 0409F7 || 	ret                            ; 040661 || 0409F7 C9          0971*  			RET
	ld	a,$26                       ; 0409F8 || 	ld	a,$26                       ; 040662 || 0409F8 3E 26       0975*  SFIX:			LD      A,38
	jr	$-$0c                       ; 0409FA || 	jr	$-$0c                       ; 040664 || 0409FA 18 F2       0976*  			JR      FPP1
	ld	a,$27                       ; 0409FC || 	ld	a,$27                       ; 040666 || 0409FC 3E 27       0980*  SFLOAT:			LD      A,39
	jr	$-$10                       ; 0409FE || 	jr	$-$10                       ; 040668 || 0409FE 18 EE       0981*  			JR      FPP1
	call	$0406c6                   ; 040A00 || 	call	$040330                   ; 04066A || 040A00 CD C6 06 04 0986*  VAL:			CALL    ITEMS
	xor	a                          ; 040A04 || 	xor	a                          ; 04066E || 040A04 AF          0987*  VAL0:			XOR     A
	ld	(de),a                      ; 040A05 || 	ld	(de),a                      ; 04066F || 040A05 12          0988*  			LD      (DE),A
	ld	ix,$040100                  ; 040A06 || 	ld	ix,$044a00                  ; 040670 || 040A06 DD 21 00 01 0989*  			LD      IX,ACCS
	ld	a,$24                       ; 040A0B || 	ld	a,$24                       ; 040675 || 040A0B 3E 24       0990*  			LD      A,36
	jr	$-$1f                       ; 040A0D || 	jr	$-$1f                       ; 040677 || 040A0D 18 DF       0991*  			JR      FPP1
	call	$0406c6                   ; 040A0F || 	call	$040330                   ; 040679 || 040A0F CD C6 06 04 0996*  EVAL_:			CALL    ITEMS
	ld	a,$0d                       ; 040A13 || 	ld	a,$0d                       ; 04067D || 040A13 3E 0D       0997*  			LD      A,CR
	ld	(de),a                      ; 040A15 || 	ld	(de),a                      ; 04067F || 040A15 12          0998*  			LD      (DE),A
	push	iy                        ; 040A16 || 	push	iy                        ; 040680 || 040A16 FD E5       0999*  			PUSH    IY
	ld	de,$040100                  ; 040A18 || 	ld	de,$044a00                  ; 040682 || 040A18 11 00 01 04 1000*  			LD      DE,ACCS
	ld	iy,$040100                  ; 040A1C || 	ld	iy,$044a00                  ; 040686 || 040A1C FD 21 00 01 1001*  			LD      IY,ACCS
	ld	c,$00                       ; 040A21 || 	ld	c,$00                       ; 04068B || 040A21 0E 00       1002*  			LD      C,0
	call	$04047d                   ; 040A23 || 	call	$043c9f                   ; 04068D || 040A23 CD 7D 04 04 1003*  			CALL    LEXAN2          ;TOKENISE
	ld	(de),a                      ; 040A27 || 	ld	(de),a                      ; 040691 || 040A27 12          1004*  			LD      (DE),A
	inc	de                         ; 040A28 || 	inc	de                         ; 040692 || 040A28 13          1005*  			INC     DE
	xor	a                          ; 040A29 || 	xor	a                          ; 040693 || 040A29 AF          1006*  			XOR     A
	call	$040d4a                   ; 040A2A || 	call	$0409b4                   ; 040694 || 040A2A CD 4A 0D 04 1007*  			CALL    PUSHS           ;PUT ON STACK
	ld	iy,$000003                  ; 040A2E || 	ld	iy,$000003                  ; 040698 || 040A2E FD 21 03 00 1008*  			LD      IY,SIZEW	;WAS 2
	add	iy,sp                      ; 040A33 || 	add	iy,sp                      ; 04069D || 040A33 FD 39       1009*  			ADD     IY,SP
	call	$040558                   ; 040A35 || 	call	$0401c7                   ; 04069F || 040A35 CD 58 05 04 1010*  			CALL    EXPR
	pop	iy                         ; 040A39 || 	pop	iy                         ; 0406A3 || 040A39 FD E1       1011*  			POP     IY
	add	iy,sp                      ; 040A3B || 	add	iy,sp                      ; 0406A5 || 040A3B FD 39       1012*  			ADD     IY,SP
	ld	sp,iy                       ; 040A3D || 	ld	sp,iy                       ; 0406A7 || 040A3D FD F9       1013*  			LD      SP,IY           ;ADJUST STACK POINTER
	pop	iy                         ; 040A3F || 	pop	iy                         ; 0406A9 || 040A3F FD E1       1014*  			POP     IY
	ex	af,af'                      ; 040A41 || 	ex	af,af'                      ; 0406AB || 040A41 08          1015*  			EX      AF,AF'
	ret                            ; 040A42 || 	ret                            ; 0406AC || 040A42 C9          1016*  			RET
	ld	ix,$040438                  ; 040A43 || 	ld	ix,$044d38                  ; 0406AD || 040A43 DD 21 38 04 1025*  RND:			LD      IX,RANDOM
	call	$040e09                   ; 040A48 || 	call	$040a70                   ; 0406B2 || 040A48 CD 09 0E 04 1026*  			CALL    NXT
	cp	$28                         ; 040A4C || 	cp	$28                         ; 0406B6 || 040A4C FE 28       1027*  			CP      '('
	jr	z,$+$22                     ; 040A4E || 	jr	z,$+$22                     ; 0406B8 || 040A4E 28 20       1028*  			JR      Z,RND5          ;ARGUMENT FOLLOWS
	call	$0407b5                   ; 040A50 || 	call	$04041f                   ; 0406BA || 040A50 CD B5 07 04 1029*  			CALL    LOAD5
	rr	c                           ; 040A54 || 	rr	c                           ; 0406BE || 040A54 CB 19       1030*  RND1:			RR      C
	ld	b,$20                       ; 040A56 || 	ld	b,$20                       ; 0406C0 || 040A56 06 20       1031*  			LD      B,32
	exx                            ; 040A58 || 	exx                            ; 0406C2 || 040A58 D9          1032*  RND2:			EXX                     ;CALCULATE NEXT
	adc.sil	hl,hl                  ; 040A59 || 	adc.sil	hl,hl                  ; 0406C3 || 040A59 52 ED 6A    1033*  			ADC.S   HL,HL
	exx                            ; 040A5C || 	exx                            ; 0406C6 || 040A5C D9          1034*  			EXX
	adc.sil	hl,hl                  ; 040A5D || 	adc.sil	hl,hl                  ; 0406C7 || 040A5D 52 ED 6A    1035*  			ADC.S   HL,HL
	bit	3,l                        ; 040A60 || 	bit	3,l                        ; 0406CA || 040A60 CB 5D       1036*  			BIT     3,L
	jr	z,$+$03                     ; 040A62 || 	jr	z,$+$03                     ; 0406CC || 040A62 28 01       1037*  			JR      Z,RND3
	ccf                            ; 040A64 || 	ccf                            ; 0406CE || 040A64 3F          1038*  			CCF
	djnz	$-$0d                     ; 040A65 || 	djnz	$-$0d                     ; 0406CF || 040A65 10 F1       1039*  RND3:			DJNZ    RND2
	rl	c                           ; 040A67 || 	rl	c                           ; 0406D1 || 040A67 CB 11       1040*  RND4:			RL      C               ;SAVE CARRY
	call	$040495                   ; 040A69 || 	call	$0415db                   ; 0406D3 || 040A69 CD 95 04 04 1041*  			CALL    STORE5          ;STORE NEW NUMBER
	xor	a                          ; 040A6D || 	xor	a                          ; 0406D7 || 040A6D AF          1042*  			XOR     A
	ld	c,a                         ; 040A6E || 	ld	c,a                         ; 0406D8 || 040A6E 4F          1043*  			LD      C,A
	ret                            ; 040A6F || 	ret                            ; 0406D9 || 040A6F C9          1044*  			RET
	call	$0406bb                   ; 040A70 || 	call	$040325                   ; 0406DA || 040A70 CD BB 06 04 1045*  RND5:			CALL    ITEMI
	ld	ix,$040438                  ; 040A74 || 	ld	ix,$044d38                  ; 0406DE || 040A74 DD 21 38 04 1046*  			LD      IX,RANDOM
	bit	7,h                        ; 040A79 || 	bit	7,h                        ; 0406E3 || 040A79 CB 7C       1047*  			BIT     7,H             ;NEGATIVE?
	scf                            ; 040A7B || 	scf                            ; 0406E5 || 040A7B 37          1048*  			SCF
	jr	nz,$-$15                    ; 040A7C || 	jr	nz,$-$15                    ; 0406E6 || 040A7C 20 E9       1049*  			JR      NZ,RND4         ;SEED
	call	$040c75                   ; 040A7E || 	call	$0408df                   ; 0406E8 || 040A7E CD 75 0C 04 1050*  			CALL    TEST
	push	af                        ; 040A82 || 	push	af                        ; 0406EC || 040A82 F5          1051*  			PUSH    AF
	call	$040c6d                   ; 040A83 || 	call	$0408d7                   ; 0406ED || 040A83 CD 6D 0C 04 1052*  			CALL    SWAP
	exx                            ; 040A87 || 	exx                            ; 0406F1 || 040A87 D9          1053*  			EXX
	call	$0407b5                   ; 040A88 || 	call	$04041f                   ; 0406F2 || 040A88 CD B5 07 04 1054*  			CALL    LOAD5
	call	nz,$040a54                ; 040A8C || 	call	nz,$0406be                ; 0406F6 || 040A8C C4 54 0A 04 1055*  			CALL    NZ,RND1         ;NEXT IF NON-ZERO
	exx                            ; 040A90 || 	exx                            ; 0406FA || 040A90 D9          1056*  			EXX                     ;SCRAMBLE (CARE!)
	ld	c,$7f                       ; 040A91 || 	ld	c,$7f                       ; 0406FB || 040A91 0E 7F       1057*  			LD      C,7FH
	bit	7,h                        ; 040A93 || 	bit	7,h                        ; 0406FD || 040A93 CB 7C       1058*  RND6:			BIT     7,H             ;FLOAT
	jr	nz,$+$0c                    ; 040A95 || 	jr	nz,$+$0c                    ; 0406FF || 040A95 20 0A       1059*  			JR      NZ,RND7
	exx                            ; 040A97 || 	exx                            ; 040701 || 040A97 D9          1060*  			EXX
	add.sil	hl,hl                  ; 040A98 || 	add.sil	hl,hl                  ; 040702 || 040A98 52 29       1061*  			ADD.S   HL,HL
	exx                            ; 040A9A || 	exx                            ; 040704 || 040A9A D9          1062*  			EXX
	adc.sil	hl,hl                  ; 040A9B || 	adc.sil	hl,hl                  ; 040705 || 040A9B 52 ED 6A    1063*  			ADC.S   HL,HL
	dec	c                          ; 040A9E || 	dec	c                          ; 040708 || 040A9E 0D          1064*  			DEC     C
	jr	nz,$-$0c                    ; 040A9F || 	jr	nz,$-$0c                    ; 040709 || 040A9F 20 F2       1065*  			JR      NZ,RND6
	res	7,h                        ; 040AA1 || 	res	7,h                        ; 04070B || 040AA1 CB BC       1066*  RND7:			RES     7,H             ;POSITIVE 0-0.999999
	pop	af                         ; 040AA3 || 	pop	af                         ; 04070D || 040AA3 F1          1067*  			POP     AF
	ret	z                          ; 040AA4 || 	ret	z                          ; 04070E || 040AA4 C8          1068*  			RET     Z               ;ZERO ARGUMENT
	exx                            ; 040AA5 || 	exx                            ; 04070F || 040AA5 D9          1069*  			EXX
	ld	a,e                         ; 040AA6 || 	ld	a,e                         ; 040710 || 040AA6 7B          1070*  			LD      A,E
	dec	a                          ; 040AA7 || 	dec	a                          ; 040711 || 040AA7 3D          1071*  			DEC     A
	or	d                           ; 040AA8 || 	or	d                           ; 040712 || 040AA8 B2          1072*  			OR      D
	exx                            ; 040AA9 || 	exx                            ; 040713 || 040AA9 D9          1073*  			EXX
	or	e                           ; 040AAA || 	or	e                           ; 040714 || 040AAA B3          1074*  			OR      E
	or	d                           ; 040AAB || 	or	d                           ; 040715 || 040AAB B2          1075*  			OR      D
	ret	z                          ; 040AAC || 	ret	z                          ; 040716 || 040AAC C8          1076*  			RET     Z               ;ARGUMENT=1
	ld	b,$00                       ; 040AAD || 	ld	b,$00                       ; 040717 || 040AAD 06 00       1077*  			LD      B,0             ;INTEGER MARKER
	ld	a,$0a                       ; 040AAF || 	ld	a,$0a                       ; 040719 || 040AAF 3E 0A       1078*  			LD      A,10
	call	$040465                   ; 040AB1 || 	call	$04206a                   ; 04071B || 040AB1 CD 65 04 04 1079*  			CALL    FPP             ;MULTIPLY
	jp	c,$04045c                   ; 040AB5 || 	jp	c,$043760                   ; 04071F || 040AB5 DA 5C 04 04 1080*  			JP      C,ERROR_
	call	$0409f8                   ; 040AB9 || 	call	$040662                   ; 040723 || 040AB9 CD F8 09 04 1081*  			CALL    SFIX
	jp	$040751                     ; 040ABD || 	jp	$0403bb                     ; 040727 || 040ABD C3 51 07 04 1082*  			JP      ADD1
	call	$040db7                   ; 040AC1 || 	call	$040a1e                   ; 04072B || 040AC1 CD B7 0D 04 1087*  INSTR:			CALL    EXPRSC			; Get the first string expression
	call	$040d4a                   ; 040AC5 || 	call	$0409b4                   ; 04072F || 040AC5 CD 4A 0D 04 1088*  			CALL    PUSHS           	; Push the string onto the stack
	call	$0406ab                   ; 040AC9 || 	call	$040315                   ; 040733 || 040AC9 CD AB 06 04 1089*  			CALL    EXPRS           	; Get the second string expression
	pop	bc                         ; 040ACD || 	pop	bc                         ; 040737 || 040ACD C1          1090*  			POP     BC			;  C: String length, B: Value of A before PUSHS was called
	ld	hl,$000000                  ; 040ACE || 	ld	hl,$000000                  ; 040738 || 040ACE 21 00 00 00 1091*  			LD      HL,0
	add	hl,sp                      ; 040AD2 || 	add	hl,sp                      ; 04073C || 040AD2 39          1092*  			ADD     HL,SP           	; HL: Pointer to main string
	push	bc                        ; 040AD3 || 	push	bc                        ; 04073D || 040AD3 C5          1093*  			PUSH    BC              	;  C: Main string length
	ld	b,e                         ; 040AD4 || 	ld	b,e                         ; 04073E || 040AD4 43          1094*  			LD      B,E             	;  B: Sub-string length
	call	$040e09                   ; 040AD5 || 	call	$040a70                   ; 04073F || 040AD5 CD 09 0E 04 1095*  			CALL    NXT			; Skip whitespace
	cp	$2c                         ; 040AD9 || 	cp	$2c                         ; 040743 || 040AD9 FE 2C       1096*  			CP      ','			; Check if there is a comma for the third parameter
	ld	a,$00                       ; 040ADB || 	ld	a,$00                       ; 040745 || 040ADB 3E 00       1097*  			LD      A,0			;  A: Default start position in string
	jr	nz,$+$1c                    ; 040ADD || 	jr	nz,$+$1c                    ; 040747 || 040ADD 20 1A       1098*  			JR      NZ,INSTR1		; No, so skip the next bit
	inc	iy                         ; 040ADF || 	inc	iy                         ; 040749 || 040ADF FD 23       1099*  			INC     IY              	; Skip the comma
	push	bc                        ; 040AE1 || 	push	bc                        ; 04074B || 040AE1 C5          1100*  			PUSH    BC              	; Save the lengths
	push	hl                        ; 040AE2 || 	push	hl                        ; 04074C || 040AE2 E5          1101*  			PUSH    HL              	; Save the pointer to the main string
	call	$040d4a                   ; 040AE3 || 	call	$0409b4                   ; 04074D || 040AE3 CD 4A 0D 04 1102*  			CALL    PUSHS			; Push the string onto the stack
	call	$0406a0                   ; 040AE7 || 	call	$04030a                   ; 040751 || 040AE7 CD A0 06 04 1103*  			CALL    EXPRI			; Get the third (numeric) parameter - the starting position
	pop	bc                         ; 040AEB || 	pop	bc                         ; 040755 || 040AEB C1          1104*  			POP     BC			;  C: String length, B: Value of A before PUSHS was called (discarded)
	call	$040d77                   ; 040AEC || 	call	$0409de                   ; 040756 || 040AEC CD 77 0D 04 1105*  			CALL    POPS			; Pop the string off the stack
	pop	hl                         ; 040AF0 || 	pop	hl                         ; 04075A || 040AF0 E1          1106*  			POP     HL              	; Restore the pointer to the main string
	pop	bc                         ; 040AF1 || 	pop	bc                         ; 04075B || 040AF1 C1          1107*  			POP     BC              	; Restore the lengths
	exx                            ; 040AF2 || 	exx                            ; 04075C || 040AF2 D9          1108*  			EXX
	ld	a,l                         ; 040AF3 || 	ld	a,l                         ; 04075D || 040AF3 7D          1109*  			LD      A,L			; A: The start position in the  string
	exx                            ; 040AF4 || 	exx                            ; 04075E || 040AF4 D9          1110*  			EXX
	or	a                           ; 040AF5 || 	or	a                           ; 04075F || 040AF5 B7          1111*  			OR      A			; Set the flags
	jr	z,$+$03                     ; 040AF6 || 	jr	z,$+$03                     ; 040760 || 040AF6 28 01       1112*  			JR      Z,INSTR1		; If it is zero, then skip
	dec	a                          ; 040AF8 || 	dec	a                          ; 040762 || 040AF8 3D          1113*  			DEC     A
	ld	de,$040100                  ; 040AF9 || 	ld	de,$044a00                  ; 040763 || 040AF9 11 00 01 04 1114*  INSTR1:			LD      DE,ACCS         	; DE: Pointer to the sub string
	call	$040b1b                   ; 040AFD || 	call	$040785                   ; 040767 || 040AFD CD 1B 0B 04 1115*  			CALL    SEARCH			; Do the search
	pop	de                         ; 040B01 || 	pop	de                         ; 04076B || 040B01 D1          1116*  			POP     DE
	jr	z,$+$05                     ; 040B02 || 	jr	z,$+$05                     ; 04076C || 040B02 28 03       1117*  			JR      Z,INSTR2        	; NB: Carry cleared
	sbc	hl,hl                      ; 040B04 || 	sbc	hl,hl                      ; 04076E || 040B04 ED 62       1118*  			SBC     HL,HL
	add	hl,sp                      ; 040B06 || 	add	hl,sp                      ; 040770 || 040B06 39          1119*  			ADD     HL,SP
	sbc	hl,sp                      ; 040B07 || 	sbc	hl,sp                      ; 040771 || 040B07 ED 72       1120*  INSTR2:			SBC     HL,SP
	ex	de,hl                       ; 040B09 || 	ex	de,hl                       ; 040773 || 040B09 EB          1121*  			EX      DE,HL
	ld	a,l                         ; 040B0A || 	ld	a,l                         ; 040774 || 040B0A 7D          1122*  			LD	A,L
	ld	hl,$000000                  ; 040B0B || 	ld	hl,$000000                  ; 040775 || 040B0B 21 00 00 00 1123*  			LD      HL,0
	ld	l,a                         ; 040B0F || 	ld	l,a                         ; 040779 || 040B0F 6F          1124*  			LD	L,A
	add	hl,sp                      ; 040B10 || 	add	hl,sp                      ; 04077A || 040B10 39          1125*  			ADD     HL,SP
	ld	sp,hl                       ; 040B11 || 	ld	sp,hl                       ; 04077B || 040B11 F9          1126*  			LD      SP,HL
	ex	de,hl                       ; 040B12 || 	ex	de,hl                       ; 04077C || 040B12 EB          1127*  			EX      DE,HL
	call	$040dc8                   ; 040B13 || 	call	$040a2f                   ; 04077D || 040B13 CD C8 0D 04 1128*  			CALL    BRAKET			; Check for closing bracket
	jp	$040917                     ; 040B17 || 	jp	$040581                     ; 040781 || 040B17 C3 17 09 04 1129*  			JP      COUNT1			; Return a numeric integer
	push	bc                        ; 040B1B || 	push	bc                        ; 040785 || 040B1B C5          1139*  SEARCH:			PUSH    BC			; Add the starting offset to HL
	ld	bc,$000000                  ; 040B1C || 	ld	bc,$000000                  ; 040786 || 040B1C 01 00 00 00 1140*  			LD      BC,0
	ld	c,a                         ; 040B20 || 	ld	c,a                         ; 04078A || 040B20 4F          1141*  			LD      C,A
	add	hl,bc                      ; 040B21 || 	add	hl,bc                      ; 04078B || 040B21 09          1142*  			ADD     HL,BC           	; New start address
	pop	bc                         ; 040B22 || 	pop	bc                         ; 04078C || 040B22 C1          1143*  			POP     BC
	sub	c                          ; 040B23 || 	sub	c                          ; 04078D || 040B23 91          1144*  			SUB     C			; If the starting offset > main string length, then do nothing
	jr	nc,$+$2e                    ; 040B24 || 	jr	nc,$+$2e                    ; 04078E || 040B24 30 2C       1145*  			JR      NC,SRCH4
	neg                            ; 040B26 || 	neg                            ; 040790 || 040B26 ED 44       1146*  			NEG
	ld	c,a                         ; 040B28 || 	ld	c,a                         ; 040792 || 040B28 4F          1147*  			LD      C,A             	; Remaining length
	push	bc                        ; 040B29 || 	push	bc                        ; 040793 || 040B29 C5          1149*  SRCH1:			PUSH    BC
	ld	a,c                         ; 040B2A || 	ld	a,c                         ; 040794 || 040B2A 79          1150*  			LD	A,C
	ld	bc,$000000                  ; 040B2B || 	ld	bc,$000000                  ; 040795 || 040B2B 01 00 00 00 1151*  			LD	BC,0
	ld	c,a                         ; 040B2F || 	ld	c,a                         ; 040799 || 040B2F 4F          1152*  			LD	C,A
	ld	a,(de)                      ; 040B30 || 	ld	a,(de)                      ; 04079A || 040B30 1A          1153*  			LD      A,(DE)
	cpir                           ; 040B31 || 	cpir                           ; 04079B || 040B31 ED B1       1154*  			CPIR                    	; Find the first character
	ld	a,c                         ; 040B33 || 	ld	a,c                         ; 04079D || 040B33 79          1155*  			LD      A,C
	pop	bc                         ; 040B34 || 	pop	bc                         ; 04079E || 040B34 C1          1156*  			POP     BC
	jr	nz,$+$1d                    ; 040B35 || 	jr	nz,$+$1d                    ; 04079F || 040B35 20 1B       1157*  			JR      NZ,SRCH4
	ld	c,a                         ; 040B37 || 	ld	c,a                         ; 0407A1 || 040B37 4F          1158*  			LD      C,A
	dec	b                          ; 040B38 || 	dec	b                          ; 0407A2 || 040B38 05          1162*  			DEC     B			; Bug fix
	cp	b                           ; 040B39 || 	cp	b                           ; 0407A3 || 040B39 B8          1163*  			CP      B			; Bug fix
	inc	b                          ; 040B3A || 	inc	b                          ; 0407A4 || 040B3A 04          1164*  			INC     B			; Bug fix
	jr	c,$+$17                     ; 040B3B || 	jr	c,$+$17                     ; 0407A5 || 040B3B 38 15       1165*  			JR      C,SRCH4			; Bug fix
	push	bc                        ; 040B3D || 	push	bc                        ; 0407A7 || 040B3D C5          1167*  			PUSH    BC
	push	de                        ; 040B3E || 	push	de                        ; 0407A8 || 040B3E D5          1168*  			PUSH    DE
	push	hl                        ; 040B3F || 	push	hl                        ; 0407A9 || 040B3F E5          1169*  			PUSH    HL
	dec	b                          ; 040B40 || 	dec	b                          ; 0407AA || 040B40 05          1170*  			DEC     B
	jr	z,$+$0a                     ; 040B41 || 	jr	z,$+$0a                     ; 0407AB || 040B41 28 08       1171*  			JR      Z,SRCH3         	; Found!
	inc	de                         ; 040B43 || 	inc	de                         ; 0407AD || 040B43 13          1172*  SRCH2:			INC     DE
	ld	a,(de)                      ; 040B44 || 	ld	a,(de)                      ; 0407AE || 040B44 1A          1173*  			LD      A,(DE)
	cp	(hl)                        ; 040B45 || 	cp	(hl)                        ; 0407AF || 040B45 BE          1174*  			CP      (HL)
	jr	nz,$+$05                    ; 040B46 || 	jr	nz,$+$05                    ; 0407B0 || 040B46 20 03       1175*  			JR      NZ,SRCH3
	inc	hl                         ; 040B48 || 	inc	hl                         ; 0407B2 || 040B48 23          1176*  			INC     HL
	djnz	$-$06                     ; 040B49 || 	djnz	$-$06                     ; 0407B3 || 040B49 10 F8       1177*  			DJNZ    SRCH2
	pop	hl                         ; 040B4B || 	pop	hl                         ; 0407B5 || 040B4B E1          1178*  SRCH3:			POP     HL
	pop	de                         ; 040B4C || 	pop	de                         ; 0407B6 || 040B4C D1          1179*  			POP     DE
	pop	bc                         ; 040B4D || 	pop	bc                         ; 0407B7 || 040B4D C1          1180*  			POP     BC
	jr	nz,$-$25                    ; 040B4E || 	jr	nz,$-$25                    ; 0407B8 || 040B4E 20 D9       1181*  			JR      NZ,SRCH1
	xor	a                          ; 040B50 || 	xor	a                          ; 0407BA || 040B50 AF          1182*  			XOR     A               	; Flags: Z, NC
	ret                            ; 040B51 || 	ret                            ; 0407BB || 040B51 C9          1183*  			RET                     	; Found
	or	$ff                         ; 040B52 || 	or	$ff                         ; 0407BC || 040B52 F6 FF       1185*  SRCH4:			OR      0FFH            	; Flags: NZ, NC
	ret                            ; 040B54 || 	ret                            ; 0407BE || 040B54 C9          1186*  			RET                     	; Not found
	call	$0406bb                   ; 040B55 || 	call	$040325                   ; 0407BF || 040B55 CD BB 06 04 1191*  CHRS:			CALL    ITEMI
	exx                            ; 040B59 || 	exx                            ; 0407C3 || 040B59 D9          1192*  			EXX
	ld	a,l                         ; 040B5A || 	ld	a,l                         ; 0407C4 || 040B5A 7D          1193*  			LD      A,L
	jr	$+$10                       ; 040B5B || 	jr	$+$10                       ; 0407C5 || 040B5B 18 0E       1194*  			JR      GET1
	call	$040e09                   ; 040B5D || 	call	$040a70                   ; 0407C7 || 040B5D CD 09 0E 04 1199*  GETS:			CALL	NXT		;NEW CODE FOR GET$(X,Y)
	cp	$28                         ; 040B61 || 	cp	$28                         ; 0407CB || 040B61 FE 28       1200*  			CP	'('
	jp	z,$040477                   ; 040B63 || 	jp	z,$0443fc                   ; 0407CD || 040B63 CA 77 04 04 1201*  			JP	Z, GETSCHR	;CALL FUNCTION IN PATCH.Z80
	call	$040489                   ; 040B67 || 	call	$043f29                   ; 0407D1 || 040B67 CD 89 04 04 1202*  			CALL    OSRDCH
	scf                            ; 040B6B || 	scf                            ; 0407D5 || 040B6B 37          1203*  GET1:			SCF
	jr	$+$0b                       ; 040B6C || 	jr	$+$0b                       ; 0407D6 || 040B6C 18 09       1204*  			JR      INKEY1
	call	$0406bb                   ; 040B6E || 	call	$040325                   ; 0407D8 || 040B6E CD BB 06 04 1211*  INKEYS:			CALL    ITEMI			; Fetch the argument
	exx                            ; 040B72 || 	exx                            ; 0407DC || 040B72 D9          1212*  			EXX
	call	$040483                   ; 040B73 || 	call	$043f32                   ; 0407DD || 040B73 CD 83 04 04 1213*  INKEY0:			CALL    OSKEY			; This is the entry point for INKEY(n)
	ld	de,$040100                  ; 040B77 || 	ld	de,$044a00                  ; 0407E1 || 040B77 11 00 01 04 1214*  INKEY1:			LD      DE,ACCS			; Store the result in the string accumulator
	ld	(de),a                      ; 040B7B || 	ld	(de),a                      ; 0407E5 || 040B7B 12          1215*  			LD      (DE),A
	ld	a,$80                       ; 040B7C || 	ld	a,$80                       ; 0407E6 || 040B7C 3E 80       1216*  			LD      A,80H
	ret	nc                         ; 040B7E || 	ret	nc                         ; 0407E8 || 040B7E D0          1217*  			RET     NC
	inc	e                          ; 040B7F || 	inc	e                          ; 0407E9 || 040B7F 1C          1218*  			INC     E
	ret                            ; 040B80 || 	ret                            ; 0407EA || 040B80 C9          1219*  			RET
	ld	a,$1e                       ; 040B81 || 	ld	a,$1e                       ; 0407EB || 040B81 3E 1E       0001*M 			LD	A, function
	rst.lis	$08                    ; 040B83 || 	rst.lis	$08                    ; 0407ED || 040B83 49 CF       0002*M 			RST.LIS	08h
	inc	hl                         ; 040B85 || 	inc	hl                         ; 0407EF || 040B85 23          1225*  			INC	HL			; Index from 0
	ld	a,l                         ; 040B86 || 	ld	a,l                         ; 0407F0 || 040B86 7D          1226*  			LD	A, L			; Negate the LSB of the answer
	neg                            ; 040B87 || 	neg                            ; 0407F1 || 040B87 ED 44       1227*  			NEG
	ld	c,a                         ; 040B89 || 	ld	c,a                         ; 0407F3 || 040B89 4F          1228*  			LD	C, A			;  E: The positive keycode value
	ld	a,$01                       ; 040B8A || 	ld	a,$01                       ; 0407F4 || 040B8A 3E 01       1229*  			LD	A, 1			; Throw an "Out of range" error
	jp	m,$04045c                   ; 040B8C || 	jp	m,$043760                   ; 0407F6 || 040B8C FA 5C 04 04 1230*  			JP	M, ERROR_		; if the argument < - 128
	ld	hl,$040bb3                  ; 040B90 || 	ld	hl,$04081d                  ; 0407FA || 040B90 21 B3 0B 04 1232*  			LD	HL, BITLOOKUP		; HL: The bit lookup table
	ld	de,$000000                  ; 040B94 || 	ld	de,$000000                  ; 0407FE || 040B94 11 00 00 00 1233*  			LD	DE, 0
	ld	a,c                         ; 040B98 || 	ld	a,c                         ; 040802 || 040B98 79          1234*  			LD	A, C
	and	$07                        ; 040B99 || 	and	$07                        ; 040803 || 040B99 E6 07       1235*  			AND	00000111b		; Just need the first three bits
	ld	e,a                         ; 040B9B || 	ld	e,a                         ; 040805 || 040B9B 5F          1236*  			LD	E, A			; DE: The bit number
	add	hl,de                      ; 040B9C || 	add	hl,de                      ; 040806 || 040B9C 19          1237*  			ADD	HL, DE
	ld	b,(hl)                      ; 040B9D || 	ld	b,(hl)                      ; 040807 || 040B9D 46          1238*  			LD	B, (HL)			;  B: The mask
	ld	a,c                         ; 040B9E || 	ld	a,c                         ; 040808 || 040B9E 79          1240*  			LD	A, C			; Fetch the keycode again
	and	$78                        ; 040B9F || 	and	$78                        ; 040809 || 040B9F E6 78       1241*  			AND	01111000b		; And divide by 8
	rrca                           ; 040BA1 || 	rrca                           ; 04080B || 040BA1 0F          1242*  			RRCA
	rrca                           ; 040BA2 || 	rrca                           ; 04080C || 040BA2 0F          1243*  			RRCA
	rrca                           ; 040BA3 || 	rrca                           ; 04080D || 040BA3 0F          1244*  			RRCA
	ld	e,a                         ; 040BA4 || 	ld	e,a                         ; 04080E || 040BA4 5F          1245*  			LD	E, A			; DE: The offset (the MSW has already been cleared previously)
	add	ix,de                      ; 040BA5 || 	add	ix,de                      ; 04080F || 040BA5 DD 19       1246*  			ADD	IX, DE			; IX: The address
	ld	a,b                         ; 040BA7 || 	ld	a,b                         ; 040811 || 040BA7 78          1247*  			LD	A, B			;  B: The mask
	and	(ix)                       ; 040BA8 || 	and	(ix)                       ; 040812 || 040BA8 DD A6 00    1248*  			AND	(IX+0)			; Check whether the bit is set
	jp	z,$040d29                   ; 040BAB || 	jp	z,$040993                   ; 040815 || 040BAB CA 29 0D 04 1249*  			JP	Z, ZERO			; No, so return 0
	jp	$04099b                     ; 040BAF || 	jp	$040605                     ; 040819 || 040BAF C3 9B 09 04 1250*  			JP	TRUE			; Otherwise return -1
	ld	bc,$080402                  ; 040BB3 || 	ld	bc,$080402                  ; 04081D || 040BB3 01 02 04 08 1254*  BITLOOKUP:		DB	01h, 02h, 04h, 08h
	djnz	$+$22                     ; 040BB7 || 	djnz	$+$22                     ; 040821 || 040BB7 10 20 40 80 1255*  			DB	10h, 20h, 40h, 80h
	add.sis	a,b                    ; 040BB9 || 	add.sis	a,b                    ; 040823
	call	$040db7                   ; 040BBB || 	call	$040a1e                   ; 040825 || 040BBB CD B7 0D 04 1260*  MIDS:			CALL    EXPRSC			; Get the first string expression
	call	$040d4a                   ; 040BBF || 	call	$0409b4                   ; 040829 || 040BBF CD 4A 0D 04 1261*  			CALL    PUSHS           	; Push the string onto the stack from the string accumulator (ACCS)
	call	$0406a0                   ; 040BC3 || 	call	$04030a                   ; 04082D || 040BC3 CD A0 06 04 1262*  			CALL    EXPRI			; Get the second expression
	pop	bc                         ; 040BC7 || 	pop	bc                         ; 040831 || 040BC7 C1          1263*  			POP     BC			; C: String length, B: Value of A before PUSHS was called
	call	$040d77                   ; 040BC8 || 	call	$0409de                   ; 040832 || 040BC8 CD 77 0D 04 1264*  			CALL    POPS			; Pop the string back off the stack to the string accumulator
	exx                            ; 040BCC || 	exx                            ; 040836 || 040BCC D9          1265*  			EXX
	ld	a,l                         ; 040BCD || 	ld	a,l                         ; 040837 || 040BCD 7D          1266*  			LD      A,L			; A: The start index
	exx                            ; 040BCE || 	exx                            ; 040838 || 040BCE D9          1267*  			EXX
	or	a                           ; 040BCF || 	or	a                           ; 040839 || 040BCF B7          1268*  			OR      A			; If the start index is 0, then we don't need to do the next bit
	jr	z,$+$10                     ; 040BD0 || 	jr	z,$+$10                     ; 04083A || 040BD0 28 0E       1269*  			JR      Z,MIDS1
	dec	a                          ; 040BD2 || 	dec	a                          ; 04083C || 040BD2 3D          1270*  			DEC     A
	ld	l,a                         ; 040BD3 || 	ld	l,a                         ; 04083D || 040BD3 6F          1271*  			LD      L,A			; L: The start index - 1
	sub	e                          ; 040BD4 || 	sub	e                          ; 04083E || 040BD4 93          1272*  			SUB     E			; Subtract from the string length
	ld	e,$00                       ; 040BD5 || 	ld	e,$00                       ; 04083F || 040BD5 1E 00       1273*  			LD      E,0			; Preemptively set the string length to 0
	jr	nc,$+$09                    ; 040BD7 || 	jr	nc,$+$09                    ; 040841 || 040BD7 30 07       1274*  			JR      NC,MIDS1		; If the first parameter is greater than the string length, then do nothing
	neg                            ; 040BD9 || 	neg                            ; 040843 || 040BD9 ED 44       1275*  			NEG				; Negate the answer and
	ld	c,a                         ; 040BDB || 	ld	c,a                         ; 040845 || 040BDB 4F          1276*  			LD      C,A			; C: Number of bytes to copy
	call	$040c1f                   ; 040BDC || 	call	$040889                   ; 040846 || 040BDC CD 1F 0C 04 1277*  			CALL    RIGHT1			; We can do a RIGHT$ at this point with the result
	call	$040e09                   ; 040BE0 || 	call	$040a70                   ; 04084A || 040BE0 CD 09 0E 04 1278*  MIDS1:			CALL    NXT			; Skip whitespace
	cp	$2c                         ; 040BE4 || 	cp	$2c                         ; 04084E || 040BE4 FE 2C       1279*  			CP      ','			; Check for a comma
	inc	iy                         ; 040BE6 || 	inc	iy                         ; 040850 || 040BE6 FD 23       1280*  			INC     IY			; Advance to the next character in the BASIC line
	jr	z,$+$0f                     ; 040BE8 || 	jr	z,$+$0f                     ; 040852 || 040BE8 28 0D       1281*  			JR      Z,LEFT1			; If there is a comma then we do a LEFT$ on the remainder
	dec	iy                         ; 040BEA || 	dec	iy                         ; 040854 || 040BEA FD 2B       1282*  			DEC     IY			; Restore the BASIC program pointer
	call	$040dc8                   ; 040BEC || 	call	$040a2f                   ; 040856 || 040BEC CD C8 0D 04 1283*  			CALL    BRAKET			; Check for a bracket
	ld	a,$80                       ; 040BF0 || 	ld	a,$80                       ; 04085A || 040BF0 3E 80       1284*  			LD      A,80H			; String marker
	ret                            ; 040BF2 || 	ret                            ; 04085C || 040BF2 C9          1285*  			RET
	call	$040db7                   ; 040BF3 || 	call	$040a1e                   ; 04085D || 040BF3 CD B7 0D 04 1291*  LEFTS:			CALL    EXPRSC			; Get the first string expression
	call	$040d4a                   ; 040BF7 || 	call	$0409b4                   ; 040861 || 040BF7 CD 4A 0D 04 1292*  LEFT1:			CALL    PUSHS           	; Push the string onto the stack from the string accumulator (ACCS)
	call	$0406a0                   ; 040BFB || 	call	$04030a                   ; 040865 || 040BFB CD A0 06 04 1293*  			CALL    EXPRI			; Get the second expression
	pop	bc                         ; 040BFF || 	pop	bc                         ; 040869 || 040BFF C1          1294*  			POP     BC			; C: String length, B: Value of A before PUSHS was called
	call	$040d77                   ; 040C00 || 	call	$0409de                   ; 04086A || 040C00 CD 77 0D 04 1295*  			CALL    POPS			; Pop the string back off the stack to the string accumulator (ACCS)
	call	$040dc8                   ; 040C04 || 	call	$040a2f                   ; 04086E || 040C04 CD C8 0D 04 1296*  			CALL    BRAKET			; Check for closing bracket
	exx                            ; 040C08 || 	exx                            ; 040872 || 040C08 D9          1297*  			EXX
	ld	a,l                         ; 040C09 || 	ld	a,l                         ; 040873 || 040C09 7D          1298*  			LD      A,L			; L: The second parameter
	exx                            ; 040C0A || 	exx                            ; 040874 || 040C0A D9          1299*  			EXX
	cp	e                           ; 040C0B || 	cp	e                           ; 040875 || 040C0B BB          1300*  			CP      E			; Compare with the string length
	jr	nc,$+$04                    ; 040C0C || 	jr	nc,$+$04                    ; 040876 || 040C0C 30 02       1301*  			JR      NC,LEFT3		; If it is greater than or equal then do nothing
	ld	l,e                         ; 040C0E || 	ld	l,e                         ; 040878 || 040C0E 6B          1302*  			LD      L,E             	; For RIGHTS, no effect in LEFTS
	ld	e,a                         ; 040C0F || 	ld	e,a                         ; 040879 || 040C0F 5F          1303*  LEFT2:			LD      E,A			; E: The new length of string
	ld	a,$80                       ; 040C10 || 	ld	a,$80                       ; 04087A || 040C10 3E 80       1304*  LEFT3:			LD      A,80H           	; String marker
	ret                            ; 040C12 || 	ret                            ; 04087C || 040C12 C9          1305*  			RET
	call	$040bf3                   ; 040C13 || 	call	$04085d                   ; 04087D || 040C13 CD F3 0B 04 1310*  RIGHTS:			CALL    LEFTS			; Call LEFTS to get the string
	ret	nc                         ; 040C17 || 	ret	nc                         ; 040881 || 040C17 D0          1311*  			RET     NC			; Do nothing if the second parameter is >= string length
	inc	e                          ; 040C18 || 	inc	e                          ; 040882 || 040C18 1C          1312*  			INC     E			; Check for a zero length string
	dec	e                          ; 040C19 || 	dec	e                          ; 040883 || 040C19 1D          1313*  			DEC     E
	ret	z                          ; 040C1A || 	ret	z                          ; 040884 || 040C1A C8          1314*  			RET     Z			; Yes, so do nothing
	ld	c,e                         ; 040C1B || 	ld	c,e                         ; 040885 || 040C1B 4B          1315*  			LD      C,E			;  C: Number of bytes to copy
	ld	a,l                         ; 040C1C || 	ld	a,l                         ; 040886 || 040C1C 7D          1316*  			LD      A,L
	sub	e                          ; 040C1D || 	sub	e                          ; 040887 || 040C1D 93          1317*  			SUB     E
	ld	l,a                         ; 040C1E || 	ld	l,a                         ; 040888 || 040C1E 6F          1318*  			LD      L,A			;  L: Index into the string
	ld	a,c                         ; 040C1F || 	ld	a,c                         ; 040889 || 040C1F 79          1319*  RIGHT1:			LD	A,C
	ld	bc,$000000                  ; 040C20 || 	ld	bc,$000000                  ; 04088A || 040C20 01 00 00 00 1320*  			LD	BC,0
	ld	c,a                         ; 040C24 || 	ld	c,a                         ; 04088E || 040C24 4F          1321*  			LD	C,A			; BC: Number of bytes to copy (with top word cleared)
	ld	a,l                         ; 040C25 || 	ld	a,l                         ; 04088F || 040C25 7D          1322*  			LD	A,L
	ld	hl,$040100                  ; 040C26 || 	ld	hl,$044a00                  ; 040890 || 040C26 21 00 01 04 1323*  			LD	HL,ACCS
	ld	l,a                         ; 040C2A || 	ld	l,a                         ; 040894 || 040C2A 6F          1324*  			LD	L,A			; HL: Source (in ACCS)
	ld	de,$040100                  ; 040C2B || 	ld	de,$044a00                  ; 040895 || 040C2B 11 00 01 04 1325*  			LD      DE,ACCS			; DE: Destination (start of ACCS)
	ldir                           ; 040C2F || 	ldir                           ; 040899 || 040C2F ED B0       1326*  			LDIR                    	; Copy
	ld	a,$80                       ; 040C31 || 	ld	a,$80                       ; 04089B || 040C31 3E 80       1327*  			LD      A,80H			; String marker
	ret                            ; 040C33 || 	ret                            ; 04089D || 040C33 C9          1328*  			RET
	call	$0406a0                   ; 040C34 || 	call	$04030a                   ; 04089E || 040C34 CD A0 06 04 1333*  STRING_:		CALL    EXPRI			; Get number of times to replicate
	call	$040dbb                   ; 040C38 || 	call	$040a22                   ; 0408A2 || 040C38 CD BB 0D 04 1334*  			CALL    COMMA			; Check for comma
	exx                            ; 040C3C || 	exx                            ; 0408A6 || 040C3C D9          1335*  			EXX
	ld	a,l                         ; 040C3D || 	ld	a,l                         ; 0408A7 || 040C3D 7D          1336*  			LD      A,L			; L: Number of iterations of string
	exx                            ; 040C3E || 	exx                            ; 0408A8 || 040C3E D9          1337*  			EXX
	push	af                        ; 040C3F || 	push	af                        ; 0408A9 || 040C3F F5          1338*  			PUSH    AF
	call	$0406ab                   ; 040C40 || 	call	$040315                   ; 0408AA || 040C40 CD AB 06 04 1339*  			CALL    EXPRS			; Get the string
	call	$040dc8                   ; 040C44 || 	call	$040a2f                   ; 0408AE || 040C44 CD C8 0D 04 1340*  			CALL    BRAKET			; Check for closing bracket
	pop	af                         ; 040C48 || 	pop	af                         ; 0408B2 || 040C48 F1          1341*  			POP     AF			; A: Number of iterations of string
	or	a                           ; 040C49 || 	or	a                           ; 0408B3 || 040C49 B7          1342*  			OR      A			; Set flags
	jr	z,$-$3b                     ; 040C4A || 	jr	z,$-$3b                     ; 0408B4 || 040C4A 28 C3       1343*  			JR      Z,LEFT2         	; If iterations is 0, then this will return an empty string
	dec	a                          ; 040C4C || 	dec	a                          ; 0408B6 || 040C4C 3D          1344*  			DEC     A
	ld	c,a                         ; 040C4D || 	ld	c,a                         ; 0408B7 || 040C4D 4F          1345*  			LD      C,A			; C: Loop counter
	ld	a,$80                       ; 040C4E || 	ld	a,$80                       ; 0408B8 || 040C4E 3E 80       1346*  			LD      A,80H			; String marker
	ret	z                          ; 040C50 || 	ret	z                          ; 0408BA || 040C50 C8          1347*  			RET     Z
	inc	e                          ; 040C51 || 	inc	e                          ; 0408BB || 040C51 1C          1348*  			INC     E			; Check for empty string
	dec	e                          ; 040C52 || 	dec	e                          ; 0408BC || 040C52 1D          1349*  			DEC     E
	ret	z                          ; 040C53 || 	ret	z                          ; 0408BD || 040C53 C8          1350*  			RET     Z              		; And return
	ld	b,e                         ; 040C54 || 	ld	b,e                         ; 0408BE || 040C54 43          1351*  			LD      B,E			; B: String length tally
	ld	hl,$040100                  ; 040C55 || 	ld	hl,$044a00                  ; 0408BF || 040C55 21 00 01 04 1352*  			LD	HL,ACCS
	push	bc                        ; 040C59 || 	push	bc                        ; 0408C3 || 040C59 C5          1353*  STRIN1:			PUSH    BC
	ld	a,(hl)                      ; 040C5A || 	ld	a,(hl)                      ; 0408C4 || 040C5A 7E          1354*  STRIN2:			LD      A,(HL)
	inc	hl                         ; 040C5B || 	inc	hl                         ; 0408C5 || 040C5B 23          1355*  			INC     HL
	ld	(de),a                      ; 040C5C || 	ld	(de),a                      ; 0408C6 || 040C5C 12          1356*  			LD      (DE),A
	inc	e                          ; 040C5D || 	inc	e                          ; 0408C7 || 040C5D 1C          1357*  			INC     E
	ld	a,$13                       ; 040C5E || 	ld	a,$13                       ; 0408C8 || 040C5E 3E 13       1358*  			LD      A,19
	jp	z,$04045c                   ; 040C60 || 	jp	z,$043760                   ; 0408CA || 040C60 CA 5C 04 04 1359*  			JP      Z,ERROR_         	; Throw a "String too long" error
	djnz	$-$0a                     ; 040C64 || 	djnz	$-$0a                     ; 0408CE || 040C64 10 F4       1360*  			DJNZ    STRIN2
	pop	bc                         ; 040C66 || 	pop	bc                         ; 0408D0 || 040C66 C1          1361*  			POP     BC
	dec	c                          ; 040C67 || 	dec	c                          ; 0408D1 || 040C67 0D          1362*  			DEC     C
	jr	nz,$-$0f                    ; 040C68 || 	jr	nz,$-$0f                    ; 0408D2 || 040C68 20 EF       1363*  			JR      NZ,STRIN1
	ld	a,$80                       ; 040C6A || 	ld	a,$80                       ; 0408D4 || 040C6A 3E 80       1364*  			LD      A,80H
	ret                            ; 040C6C || 	ret                            ; 0408D6 || 040C6C C9          1365*  			RET
	ld	a,c                         ; 040C6D || 	ld	a,c                         ; 0408D7 || 040C6D 79          1373*  SWAP:			LD      A,C
	ld	c,b                         ; 040C6E || 	ld	c,b                         ; 0408D8 || 040C6E 48          1374*  			LD      C,B
	ld	b,a                         ; 040C6F || 	ld	b,a                         ; 0408D9 || 040C6F 47          1375*  			LD      B,A
	ex	de,hl                       ; 040C70 || 	ex	de,hl                       ; 0408DA || 040C70 EB          1376*  			EX      DE,HL
	exx                            ; 040C71 || 	exx                            ; 0408DB || 040C71 D9          1377*  			EXX
	ex	de,hl                       ; 040C72 || 	ex	de,hl                       ; 0408DC || 040C72 EB          1378*  			EX      DE,HL
	exx                            ; 040C73 || 	exx                            ; 0408DD || 040C73 D9          1379*  			EXX
	ret                            ; 040C74 || 	ret                            ; 0408DE || 040C74 C9          1380*  			RET
	ld	a,h                         ; 040C75 || 	ld	a,h                         ; 0408DF || 040C75 7C          1386*  TEST:			LD      A,H
	or	l                           ; 040C76 || 	or	l                           ; 0408E0 || 040C76 B5          1387*  			OR      L
	exx                            ; 040C77 || 	exx                            ; 0408E1 || 040C77 D9          1388*  			EXX
	or	h                           ; 040C78 || 	or	h                           ; 0408E2 || 040C78 B4          1389*  			OR      H
	or	l                           ; 040C79 || 	or	l                           ; 0408E3 || 040C79 B5          1390*  			OR      L
	exx                            ; 040C7A || 	exx                            ; 0408E4 || 040C7A D9          1391*  			EXX
	ret                            ; 040C7B || 	ret                            ; 0408E5 || 040C7B C9          1392*  			RET
	exx                            ; 040C7C || 	exx                            ; 0408E6 || 040C7C D9          1399*  DECODE:			EXX
	ld	hl,$000000                  ; 040C7D || 	ld	hl,$000000                  ; 0408E7 || 040C7D 21 00 00 00 1400*  			LD	HL, 0
	ld	a,(iy)                      ; 040C81 || 	ld	a,(iy)                      ; 0408EB || 040C81 FD 7E 00    1401*  			LD      A,(IY)
	inc	iy                         ; 040C84 || 	inc	iy                         ; 0408EE || 040C84 FD 23       1402*  			INC     IY
	rla                            ; 040C86 || 	rla                            ; 0408F0 || 040C86 17          1403*  			RLA
	rla                            ; 040C87 || 	rla                            ; 0408F1 || 040C87 17          1404*  			RLA
	ld	h,a                         ; 040C88 || 	ld	h,a                         ; 0408F2 || 040C88 67          1405*  			LD      H,A
	and	$c0                        ; 040C89 || 	and	$c0                        ; 0408F3 || 040C89 E6 C0       1406*  			AND     0C0H
	xor	(iy)                       ; 040C8B || 	xor	(iy)                       ; 0408F5 || 040C8B FD AE 00    1407*  			XOR     (IY)
	inc	iy                         ; 040C8E || 	inc	iy                         ; 0408F8 || 040C8E FD 23       1408*  			INC     IY
	ld	l,a                         ; 040C90 || 	ld	l,a                         ; 0408FA || 040C90 6F          1409*  			LD      L,A
	ld	a,h                         ; 040C91 || 	ld	a,h                         ; 0408FB || 040C91 7C          1410*  			LD      A,H
	rla                            ; 040C92 || 	rla                            ; 0408FC || 040C92 17          1411*  			RLA
	rla                            ; 040C93 || 	rla                            ; 0408FD || 040C93 17          1412*  			RLA
	and	$c0                        ; 040C94 || 	and	$c0                        ; 0408FE || 040C94 E6 C0       1413*  			AND     0C0H
	xor	(iy)                       ; 040C96 || 	xor	(iy)                       ; 040900 || 040C96 FD AE 00    1414*  			XOR     (IY)
	inc	iy                         ; 040C99 || 	inc	iy                         ; 040903 || 040C99 FD 23       1415*  			INC     IY
	ld	h,a                         ; 040C9B || 	ld	h,a                         ; 040905 || 040C9B 67          1416*  			LD      H,A
	exx                            ; 040C9C || 	exx                            ; 040906 || 040C9C D9          1417*  			EXX
	ld	hl,$000000                  ; 040C9D || 	ld	hl,$000000                  ; 040907 || 040C9D 21 00 00 00 1422*  			LD	HL, 0
	ld	c,l                         ; 040CA1 || 	ld	c,l                         ; 04090B || 040CA1 4D          1423*  			LD	C, L
	ret                            ; 040CA2 || 	ret                            ; 04090C || 040CA2 C9          1424*  			RET
	inc	iy                         ; 040CA3 || 	inc	iy                         ; 04090D || 040CA3 FD 23       1431*  HEXSTS:			INC     IY              ;SKIP TILDE
	call	$0406b3                   ; 040CA5 || 	call	$04031d                   ; 04090F || 040CA5 CD B3 06 04 1432*  			CALL    ITEMN
	call	$040cb0                   ; 040CA9 || 	call	$04091a                   ; 040913 || 040CA9 CD B0 0C 04 1433*  			CALL    HEXSTR
	ld	a,$80                       ; 040CAD || 	ld	a,$80                       ; 040917 || 040CAD 3E 80       1434*  			LD      A,80H
	ret                            ; 040CAF || 	ret                            ; 040919 || 040CAF C9          1435*  			RET
	call	$0409f8                   ; 040CB0 || 	call	$040662                   ; 04091A || 040CB0 CD F8 09 04 1437*  HEXSTR:			CALL    SFIX
	ld	bc,$000008                  ; 040CB4 || 	ld	bc,$000008                  ; 04091E || 040CB4 01 08 00 00 1438*  			LD      BC,8
	ld	de,$040100                  ; 040CB8 || 	ld	de,$044a00                  ; 040922 || 040CB8 11 00 01 04 1439*  			LD      DE,ACCS
	push	bc                        ; 040CBC || 	push	bc                        ; 040926 || 040CBC C5          1440*  HEXST1:			PUSH    BC
	ld	b,$04                       ; 040CBD || 	ld	b,$04                       ; 040927 || 040CBD 06 04       1441*  			LD      B,4
	xor	a                          ; 040CBF || 	xor	a                          ; 040929 || 040CBF AF          1442*  			XOR     A
	exx                            ; 040CC0 || 	exx                            ; 04092A || 040CC0 D9          1443*  HEXST2:			EXX
	add.sil	hl,hl                  ; 040CC1 || 	add.sil	hl,hl                  ; 04092B || 040CC1 52 29       1444*  			ADD.S	HL,HL
	exx                            ; 040CC3 || 	exx                            ; 04092D || 040CC3 D9          1445*  			EXX
	adc.sil	hl,hl                  ; 040CC4 || 	adc.sil	hl,hl                  ; 04092E || 040CC4 52 ED 6A    1446*  			ADC.S	HL,HL
	rla                            ; 040CC7 || 	rla                            ; 040931 || 040CC7 17          1447*  			RLA
	djnz	$-$08                     ; 040CC8 || 	djnz	$-$08                     ; 040932 || 040CC8 10 F6       1448*  			DJNZ    HEXST2
	pop	bc                         ; 040CCA || 	pop	bc                         ; 040934 || 040CCA C1          1449*  			POP     BC
	dec	c                          ; 040CCB || 	dec	c                          ; 040935 || 040CCB 0D          1450*  			DEC     C
	ret	m                          ; 040CCC || 	ret	m                          ; 040936 || 040CCC F8          1451*  			RET     M
	jr	z,$+$08                     ; 040CCD || 	jr	z,$+$08                     ; 040937 || 040CCD 28 06       1452*  			JR      Z,HEXST3
	or	a                           ; 040CCF || 	or	a                           ; 040939 || 040CCF B7          1453*  			OR      A
	jr	nz,$+$05                    ; 040CD0 || 	jr	nz,$+$05                    ; 04093A || 040CD0 20 03       1454*  			JR      NZ,HEXST3
	cp	b                           ; 040CD2 || 	cp	b                           ; 04093C || 040CD2 B8          1455*  			CP      B
	jr	z,$-$17                     ; 040CD3 || 	jr	z,$-$17                     ; 04093D || 040CD3 28 E7       1456*  			JR      Z,HEXST1
	add	a,$90                      ; 040CD5 || 	add	a,$90                      ; 04093F || 040CD5 C6 90       1457*  HEXST3:			ADD     A,90H
	daa                            ; 040CD7 || 	daa                            ; 040941 || 040CD7 27          1458*  			DAA
	adc	a,$40                      ; 040CD8 || 	adc	a,$40                      ; 040942 || 040CD8 CE 40       1459*  			ADC     A,40H
	daa                            ; 040CDA || 	daa                            ; 040944 || 040CDA 27          1460*  			DAA
	ld	(de),a                      ; 040CDB || 	ld	(de),a                      ; 040945 || 040CDB 12          1461*  			LD      (DE),A
	inc	de                         ; 040CDC || 	inc	de                         ; 040946 || 040CDC 13          1462*  			INC     DE
	ld	b,a                         ; 040CDD || 	ld	b,a                         ; 040947 || 040CDD 47          1463*  			LD      B,A
	jr	$-$22                       ; 040CDE || 	jr	$-$22                       ; 040948 || 040CDE 18 DC       1464*  			JR      HEXST1
	call	$040e09                   ; 040CE0 || 	call	$040a70                   ; 04094A || 040CE0 CD 09 0E 04 1474*  STRS:			CALL    NXT
	cp	$7e                         ; 040CE4 || 	cp	$7e                         ; 04094E || 040CE4 FE 7E       1475*  			CP      '~'
	jr	z,$-$43                     ; 040CE6 || 	jr	z,$-$43                     ; 040950 || 040CE6 28 BB       1476*  			JR      Z,HEXSTS
	call	$0406b3                   ; 040CE8 || 	call	$04031d                   ; 040952 || 040CE8 CD B3 06 04 1477*  			CALL    ITEMN
	ld	ix,$040300                  ; 040CEC || 	ld	ix,$044c00                  ; 040956 || 040CEC DD 21 00 03 1478*  			LD      IX,STAVAR
	ld	a,(ix+$03)                  ; 040CF1 || 	ld	a,(ix+$03)                  ; 04095B || 040CF1 DD 7E 03    1479*  			LD      A,(IX+3)
	or	a                           ; 040CF4 || 	or	a                           ; 04095E || 040CF4 B7          1480*  			OR      A
	ld	ix,$040d22                  ; 040CF5 || 	ld	ix,$04098c                  ; 04095F || 040CF5 DD 21 22 0D 1481*  			LD      IX,G9-1         ;G9 FORMAT
	jr	z,$+$07                     ; 040CFA || 	jr	z,$+$07                     ; 040964 || 040CFA 28 05       1482*  			JR      Z,STR0
	ld	ix,$040300                  ; 040CFC || 	ld	ix,$044c00                  ; 040966 || 040CFC DD 21 00 03 1483*  STR:			LD      IX,STAVAR
	ld	de,$040100                  ; 040D01 || 	ld	de,$044a00                  ; 04096B || 040D01 11 00 01 04 1484*  STR0:			LD      DE,ACCS
	ld	a,$25                       ; 040D05 || 	ld	a,$25                       ; 04096F || 040D05 3E 25       1485*  			LD      A,37
	call	$040465                   ; 040D07 || 	call	$04206a                   ; 040971 || 040D07 CD 65 04 04 1486*  			CALL    FPP
	jp	c,$04045c                   ; 040D0B || 	jp	c,$043760                   ; 040975 || 040D0B DA 5C 04 04 1487*  			JP      C,ERROR_
	bit	0,(ix+$02)                 ; 040D0F || 	bit	0,(ix+$02)                 ; 040979 || 040D0F DD CB 02 46 1488*  			BIT     0,(IX+2)
	ld	a,$80                       ; 040D13 || 	ld	a,$80                       ; 04097D || 040D13 3E 80       1489*  STR1:			LD      A,80H           ;STRING MARKER
	ret	z                          ; 040D15 || 	ret	z                          ; 04097F || 040D15 C8          1490*  			RET     Z
	ld	a,c                         ; 040D16 || 	ld	a,c                         ; 040980 || 040D16 79          1491*  			LD      A,C
	add	a,$04                      ; 040D17 || 	add	a,$04                      ; 040981 || 040D17 C6 04       1492*  			ADD     A,4
	cp	e                           ; 040D19 || 	cp	e                           ; 040983 || 040D19 BB          1493*  STR2:			CP      E
	jr	z,$-$07                     ; 040D1A || 	jr	z,$-$07                     ; 040984 || 040D1A 28 F7       1494*  			JR      Z,STR1
	ex	de,hl                       ; 040D1C || 	ex	de,hl                       ; 040986 || 040D1C EB          1495*  			EX      DE,HL
	ld	(hl),$20                    ; 040D1D || 	ld	(hl),$20                    ; 040987 || 040D1D 36 20       1496*  			LD      (HL),' '        ;TRAILING SPACE
	inc	hl                         ; 040D1F || 	inc	hl                         ; 040989 || 040D1F 23          1497*  			INC     HL
	ex	de,hl                       ; 040D20 || 	ex	de,hl                       ; 04098A || 040D20 EB          1498*  			EX      DE,HL
	jr	$-$08                       ; 040D21 || 	jr	$-$08                       ; 04098B || 040D21 18 F6       1499*  			JR      STR2
	add	hl,bc                      ; 040D23 || 	add	hl,bc                      ; 04098D || 040D23 09 00       1501*  G9:			DW    9
	nop                            ; 040D24 || 	nop                            ; 04098E
	call	$040d33                   ; 040D25 || 	call	$04099d                   ; 04098F || 040D25 CD 33 0D 04 1507*  SCP:			CALL	SCP0
	ld	a,$00                       ; 040D29 || 	ld	a,$00                       ; 040993 || 040D29 3E 00       1509*  ZERO:			LD      A,0
	exx                            ; 040D2B || 	exx                            ; 040995 || 040D2B D9          1510*  			EXX
	ld	h,a                         ; 040D2C || 	ld	h,a                         ; 040996 || 040D2C 67          1511*  			LD      H,A
	ld	l,a                         ; 040D2D || 	ld	l,a                         ; 040997 || 040D2D 6F          1512*  			LD      L,A
	exx                            ; 040D2E || 	exx                            ; 040998 || 040D2E D9          1513*  			EXX
	ld	h,a                         ; 040D2F || 	ld	h,a                         ; 040999 || 040D2F 67          1514*  			LD      H,A
	ld	l,a                         ; 040D30 || 	ld	l,a                         ; 04099A || 040D30 6F          1515*  			LD      L,A
	ld	c,a                         ; 040D31 || 	ld	c,a                         ; 04099B || 040D31 4F          1516*  			LD      C,A
	ret                            ; 040D32 || 	ret                            ; 04099C || 040D32 C9          1517*  			RET
	inc	b                          ; 040D33 || 	inc	b                          ; 04099D || 040D33 04          1519*  SCP0:			INC     B
	inc	c                          ; 040D34 || 	inc	c                          ; 04099E || 040D34 0C          1520*  			INC     C
	dec	b                          ; 040D35 || 	dec	b                          ; 04099F || 040D35 05          1521*  SCP1:			DEC     B
	jr	z,$+$0c                     ; 040D36 || 	jr	z,$+$0c                     ; 0409A0 || 040D36 28 0A       1522*  			JR      Z,SCP2
	dec	c                          ; 040D38 || 	dec	c                          ; 0409A2 || 040D38 0D          1523*  			DEC     C
	jr	z,$+$0e                     ; 040D39 || 	jr	z,$+$0e                     ; 0409A3 || 040D39 28 0C       1524*  			JR      Z,SCP3
	ld	a,(de)                      ; 040D3B || 	ld	a,(de)                      ; 0409A5 || 040D3B 1A          1525*  			LD      A,(DE)
	cp	(hl)                        ; 040D3C || 	cp	(hl)                        ; 0409A6 || 040D3C BE          1526*  			CP      (HL)
	ret	nz                         ; 040D3D || 	ret	nz                         ; 0409A7 || 040D3D C0          1527*  			RET     NZ
	inc	de                         ; 040D3E || 	inc	de                         ; 0409A8 || 040D3E 13          1528*  			INC     DE
	inc	hl                         ; 040D3F || 	inc	hl                         ; 0409A9 || 040D3F 23          1529*  			INC     HL
	jr	$-$0b                       ; 040D40 || 	jr	$-$0b                       ; 0409AA || 040D40 18 F3       1530*  			JR      SCP1
	or	a                           ; 040D42 || 	or	a                           ; 0409AC || 040D42 B7          1531*  SCP2:			OR      A
	dec	c                          ; 040D43 || 	dec	c                          ; 0409AD || 040D43 0D          1532*  			DEC     C
	ret	z                          ; 040D44 || 	ret	z                          ; 0409AE || 040D44 C8          1533*  			RET     Z
	scf                            ; 040D45 || 	scf                            ; 0409AF || 040D45 37          1534*  			SCF
	ret                            ; 040D46 || 	ret                            ; 0409B0 || 040D46 C9          1535*  			RET
	or	a                           ; 040D47 || 	or	a                           ; 0409B1 || 040D47 B7          1536*  SCP3:			OR      A
	inc	c                          ; 040D48 || 	inc	c                          ; 0409B2 || 040D48 0C          1537*  			INC     C
	ret                            ; 040D49 || 	ret                            ; 0409B3 || 040D49 C9          1538*  			RET
	call	$040459                   ; 040D4A || 	call	$04164f                   ; 0409B4 || 040D4A CD 59 04 04 1546*  PUSHS:			CALL    CHECK			; Check if there is sufficient space on the stack
	pop	ix                         ; 040D4E || 	pop	ix                         ; 0409B8 || 040D4E DD E1       1547*  			POP     IX              	; IX: Return address
	or	a                           ; 040D50 || 	or	a                           ; 0409BA || 040D50 B7          1548*  			OR      A               	; Clear the carry flag
	ld	bc,$000000                  ; 040D51 || 	ld	bc,$000000                  ; 0409BB || 040D51 01 00 00 00 1549*  			LD	BC,0			; BC: Length of the string
	ld	c,e                         ; 040D55 || 	ld	c,e                         ; 0409BF || 040D55 4B          1550*  			LD	C,E
	ld	hl,$040100                  ; 040D56 || 	ld	hl,$044a00                  ; 0409C0 || 040D56 21 00 01 04 1551*  			LD      HL,ACCS			; HL: Pointer to the string accumulator
	ld	de,$040100                  ; 040D5A || 	ld	de,$044a00                  ; 0409C4 || 040D5A 11 00 01 04 1552*  			LD	DE,ACCS
	ld	e,c                         ; 040D5E || 	ld	e,c                         ; 0409C8 || 040D5E 59          1553*  			LD	E,C 			; DE: Pointer to the end of the string in the accumulator
	sbc	hl,de                      ; 040D5F || 	sbc	hl,de                      ; 0409C9 || 040D5F ED 52       1554*  			SBC     HL,DE			; HL: Number of bytes to reserve on the stack (a negative number)
	add	hl,sp                      ; 040D61 || 	add	hl,sp                      ; 0409CB || 040D61 39          1555*  			ADD     HL,SP			; Grow the stack
	ld	sp,hl                       ; 040D62                                         || 040D62 F9          1556*  			LD      SP,HL
	ld	d,a                         ; 040D63                                         || 040D63 57          1557*  			LD      D,A			;  D: This needs to be set to A for some functions
	ld	b,a                         ; 040D64                                         || 040D64 47          1558*  			LD	B,A			; Stack A and C (the string length)
	push	bc                        ; 040D65                                         || 040D65 C5          1559*  			PUSH    BC			; Note that this stacks 3 bytes, not 2; the MSB is irrelevant
	ld	b,$00                       ; 040D66                                         || 040D66 06 00       1560*  			LD	B,0			; Reset B to 0 for the LDIR in this function
	jr	z,$+$0d                     ; 040D68 || 	jr	z,$+$0d                     ; 0409CF || 040D68 28 0B       1561*  			JR      Z,PUSHS1        	; Is it zero length?
	ld	de,$040100                  ; 040D6A || 	ld	de,$044a00                  ; 0409D1 || 040D6A 11 00 01 04 1562*  			LD      DE,ACCS			; DE: Destination
	ex	de,hl                       ; 040D6E || 	ex	de,hl                       ; 0409D5 || 040D6E EB          1563*  			EX      DE,HL			; HL: Destination, DE: Address on stack
	ldir                           ; 040D6F || 	ldir                           ; 0409D6 || 040D6F ED B0       1564*  			LDIR	                    	; Copy to stack
	call	$040459                   ; 040D71 || 	call	$04164f                   ; 0409D8 || 040D71 CD 59 04 04 1565*  			CALL    CHECK			; Final check to see if there is sufficient space on the stack
	jp	(ix)                        ; 040D75 || 	jp	(ix)                        ; 0409DC || 040D75 DD E9       1566*  PUSHS1:			JP      (IX)            	; Effectively "RET" (IX contains the return address)
	pop	ix                         ; 040D77 || 	pop	ix                         ; 0409DE || 040D77 DD E1       1574*  POPS:			POP     IX              	; IX: Return address
	ld	l,c                         ; 040D79 || 	ld	l,c                         ; 0409E0 || 040D79 69          1575*  			LD	L,C			; Temporarily store string length in L
	ld	bc,$000000                  ; 040D7A || 	ld	bc,$000000                  ; 0409E1 || 040D7A 01 00 00 00 1576*  			LD	BC,0
	ld	c,l                         ; 040D7E || 	ld	c,l                         ; 0409E5 || 040D7E 4D          1577*  			LD	C,L			; BC: Number of bytes to copy
	ld	hl,$000000                  ; 040D7F || 	ld	hl,$000000                  ; 0409E6 || 040D7F 21 00 00 00 1578*  			LD      HL,0			; HL: 0
	add	hl,sp                      ; 040D83 || 	add	hl,sp                      ; 0409EA || 040D83 39          1579*  			ADD     HL,SP			; HL: Stack address
	ld	de,$040100                  ; 040D84 || 	ld	de,$044a00                  ; 0409EB || 040D84 11 00 01 04 1580*  			LD      DE,ACCS			; DE: Destination
	inc	c                          ; 040D88 || 	inc	c                          ; 0409EF || 040D88 0C          1581*  			INC     C			; Quick check to see if this is a zero length string
	dec	c                          ; 040D89 || 	dec	c                          ; 0409F0 || 040D89 0D          1582*  			DEC     C
	jr	z,$+$04                     ; 040D8A || 	jr	z,$+$04                     ; 0409F1 || 040D8A 28 02       1583*  			JR      Z,POPS1         	; Yes it is, so skip
	ldir                           ; 040D8C || 	ldir                           ; 0409F3 || 040D8C ED B0       1584*  			LDIR                    	; No, so copy from the stack
	ld	sp,hl                       ; 040D8E || 	ld	sp,hl                       ; 0409F5 || 040D8E F9          1585*  POPS1:			LD      SP,HL			; Shrink the stack
	jp	(ix)                        ; 040D8F || 	jp	(ix)                        ; 0409F6 || 040D8F DD E9       1586*  			JP      (IX)            	; Effectively "RET" (IX contains the return address)
	ld	a,(iy)                      ; 040D91 || 	ld	a,(iy)                      ; 0409F8 || 040D91 FD 7E 00    1588*  HEXDIG:			LD      A,(IY)
	cp	$30                         ; 040D94 || 	cp	$30                         ; 0409FB || 040D94 FE 30       1589*  			CP      '0'
	ret	c                          ; 040D96 || 	ret	c                          ; 0409FD || 040D96 D8          1590*  			RET     C
	cp	$3a                         ; 040D97 || 	cp	$3a                         ; 0409FE || 040D97 FE 3A       1591*  			CP      '9'+1
	ccf                            ; 040D99 || 	ccf                            ; 040A00 || 040D99 3F          1592*  			CCF
	ret	nc                         ; 040D9A || 	ret	nc                         ; 040A01 || 040D9A D0          1593*  			RET     NC
	cp	$41                         ; 040D9B || 	cp	$41                         ; 040A02 || 040D9B FE 41       1594*  			CP      'A'
	ret	c                          ; 040D9D || 	ret	c                          ; 040A04 || 040D9D D8          1595*  			RET     C
	sub	$37                        ; 040D9E || 	sub	$37                        ; 040A05 || 040D9E D6 37       1596*  			SUB     'A'-10
	cp	$10                         ; 040DA0 || 	cp	$10                         ; 040A07 || 040DA0 FE 10       1597*  			CP      16
	ccf                            ; 040DA2 || 	ccf                            ; 040A09 || 040DA2 3F          1598*  			CCF
	ret                            ; 040DA3 || 	ret                            ; 040A0A || 040DA3 C9          1599*  			RET
	ld	a,(iy)                      ; 040DA4 || 	ld	a,(iy)                      ; 040A0B || 040DA4 FD 7E 00    1601*  BINDIG:			LD	A,(IY)
	cp	$30                         ; 040DA7 || 	cp	$30                         ; 040A0E || 040DA7 FE 30       1602*  			CP	'0'
	ret	c                          ; 040DA9 || 	ret	c                          ; 040A10 || 040DA9 D8          1603*  			RET	C
	cp	$32                         ; 040DAA || 	cp	$32                         ; 040A11 || 040DAA FE 32       1604*  			CP	'1'+1
	ccf                            ; 040DAC || 	ccf                            ; 040A13 || 040DAC 3F          1605*  			CCF
	ret                            ; 040DAD || 	ret                            ; 040A14 || 040DAD C9          1606*  			RET
	cp	$3e                         ; 040DAE || 	cp	$3e                         ; 040A15 || 040DAE FE 3E       1608*  RELOP?:			CP      '>'
	ret	nc                         ; 040DB0 || 	ret	nc                         ; 040A17 || 040DB0 D0          1609*  			RET     NC
	cp	$3d                         ; 040DB1 || 	cp	$3d                         ; 040A18 || 040DB1 FE 3D       1610*  			CP      '='
	ret	nc                         ; 040DB3 || 	ret	nc                         ; 040A1A || 040DB3 D0          1611*  			RET     NC
	cp	$3c                         ; 040DB4 || 	cp	$3c                         ; 040A1B || 040DB4 FE 3C       1612*  			CP      '<'
	ret                            ; 040DB6 || 	ret                            ; 040A1D || 040DB6 C9          1613*  			RET
	call	$0406ab                   ; 040DB7 || 	call	$040315                   ; 040A1E || 040DB7 CD AB 06 04 1615*  EXPRSC:			CALL    EXPRS
	call	$040e09                   ; 040DBB || 	call	$040a70                   ; 040A22 || 040DBB CD 09 0E 04 1616*  COMMA:			CALL    NXT
	inc	iy                         ; 040DBF || 	inc	iy                         ; 040A26 || 040DBF FD 23       1617*  			INC     IY
	cp	$2c                         ; 040DC1 || 	cp	$2c                         ; 040A28 || 040DC1 FE 2C       1618*  			CP      ','
	ret	z                          ; 040DC3 || 	ret	z                          ; 040A2A || 040DC3 C8          1619*  			RET     Z
	ld	a,$05                       ; 040DC4 || 	ld	a,$05                       ; 040A2B || 040DC4 3E 05       1620*  			LD      A,5
	jr	$+$0d                       ; 040DC6 || 	jr	$+$0d                       ; 040A2D || 040DC6 18 0B       1621*  			JR      ERROR1_EV          ;"Missing ,"
	call	$040e09                   ; 040DC8 || 	call	$040a70                   ; 040A2F || 040DC8 CD 09 0E 04 1623*  BRAKET:			CALL    NXT
	inc	iy                         ; 040DCC || 	inc	iy                         ; 040A33 || 040DCC FD 23       1624*  			INC     IY
	cp	$29                         ; 040DCE || 	cp	$29                         ; 040A35 || 040DCE FE 29       1625*  			CP      ')'
	ret	z                          ; 040DD0 || 	ret	z                          ; 040A37 || 040DD0 C8          1626*  			RET     Z
	ld	a,$1b                       ; 040DD1 || 	ld	a,$1b                       ; 040A38 || 040DD1 3E 1B       1627*  			LD      A,27
	jp	$04045c                     ; 040DD3 || 	jp	$043760                     ; 040A3A || 040DD3 C3 5C 04 04 1628*  ERROR1_EV:			JP      ERROR_           ;"Missing )"
	inc	iy                         ; 040DD7 || 	inc	iy                         ; 040A3E || 040DD7 FD 23       1630*  SAVE_EV:			INC     IY
	ex	af,af'                      ; 040DD9 || 	ex	af,af'                      ; 040A40 || 040DD9 08          1631*  SAVE1:			EX      AF,AF'
	jp	m,$0406cc                   ; 040DDA || 	jp	m,$040336                   ; 040A41 || 040DDA FA CC 06 04 1632*  			JP      M,TYPE_EV_
	ex	af,af'                      ; 040DDE || 	ex	af,af'                      ; 040A45 || 040DDE 08          1633*  			EX      AF,AF'
	ex	(sp),hl                     ; 040DDF || 	ex	(sp),hl                     ; 040A46 || 040DDF E3          1634*  			EX      (SP),HL
	exx                            ; 040DE0 || 	exx                            ; 040A47 || 040DE0 D9          1635*  			EXX
	push	hl                        ; 040DE1 || 	push	hl                        ; 040A48 || 040DE1 E5          1636*  			PUSH    HL
	exx                            ; 040DE2 || 	exx                            ; 040A49 || 040DE2 D9          1637*  			EXX
	push	af                        ; 040DE3 || 	push	af                        ; 040A4A || 040DE3 F5          1638*  			PUSH    AF
	push	bc                        ; 040DE4 || 	push	bc                        ; 040A4B || 040DE4 C5          1639*  			PUSH    BC
	jp	(hl)                        ; 040DE5 || 	jp	(hl)                        ; 040A4C || 040DE5 E9          1640*  			JP      (HL)
	ex	af,af'                      ; 040DE6 || 	ex	af,af'                      ; 040A4D || 040DE6 08          1642*  DOIT:			EX      AF,AF'
	jp	m,$0406cc                   ; 040DE7 || 	jp	m,$040336                   ; 040A4E || 040DE7 FA CC 06 04 1643*  			JP      M,TYPE_EV_
	exx                            ; 040DEB || 	exx                            ; 040A52 || 040DEB D9          1644*  			EXX
	pop	bc                         ; 040DEC || 	pop	bc                         ; 040A53 || 040DEC C1          1645*  			POP     BC              ;RETURN ADDRESS
	exx                            ; 040DED || 	exx                            ; 040A54 || 040DED D9          1646*  			EXX
	ld	a,c                         ; 040DEE || 	ld	a,c                         ; 040A55 || 040DEE 79          1647*  			LD      A,C
	pop	bc                         ; 040DEF || 	pop	bc                         ; 040A56 || 040DEF C1          1648*  			POP     BC
	ld	b,a                         ; 040DF0 || 	ld	b,a                         ; 040A57 || 040DF0 47          1649*  			LD      B,A
	pop	af                         ; 040DF1 || 	pop	af                         ; 040A58 || 040DF1 F1          1650*  			POP     AF              ;OPERATOR
	exx                            ; 040DF2 || 	exx                            ; 040A59 || 040DF2 D9          1651*  			EXX
	ex	de,hl                       ; 040DF3 || 	ex	de,hl                       ; 040A5A || 040DF3 EB          1652*  			EX      DE,HL
	pop	hl                         ; 040DF4 || 	pop	hl                         ; 040A5B || 040DF4 E1          1653*  			POP     HL
	exx                            ; 040DF5 || 	exx                            ; 040A5C || 040DF5 D9          1654*  			EXX
	ex	de,hl                       ; 040DF6 || 	ex	de,hl                       ; 040A5D || 040DF6 EB          1655*  			EX      DE,HL
	pop	hl                         ; 040DF7 || 	pop	hl                         ; 040A5E || 040DF7 E1          1656*  			POP     HL
	exx                            ; 040DF8 || 	exx                            ; 040A5F || 040DF8 D9          1657*  			EXX
	push	bc                        ; 040DF9 || 	push	bc                        ; 040A60 || 040DF9 C5          1658*  			PUSH    BC
	exx                            ; 040DFA || 	exx                            ; 040A61 || 040DFA D9          1659*  			EXX
	and	$0f                        ; 040DFB || 	and	$0f                        ; 040A62 || 040DFB E6 0F       1660*  			AND     0FH
	call	$040465                   ; 040DFD || 	call	$04206a                   ; 040A64 || 040DFD CD 65 04 04 1661*  			CALL    FPP
	jr	c,$-$2e                     ; 040E01 || 	jr	c,$-$2e                     ; 040A68 || 040E01 38 D0       1662*  			JR      C,ERROR1_EV
	xor	a                          ; 040E03 || 	xor	a                          ; 040A6A || 040E03 AF          1663*  			XOR     A
	ex	af,af'                      ; 040E04 || 	ex	af,af'                      ; 040A6B || 040E04 08          1664*  			EX      AF,AF'          ;TYPE
	ld	a,(iy)                      ; 040E05 || 	ld	a,(iy)                      ; 040A6C || 040E05 FD 7E 00    1665*  			LD      A,(IY)
	ret                            ; 040E08 || 	ret                            ; 040A6F || 040E08 C9          1666*  			RET
	ld	a,(iy)                      ; 040E09 || 	ld	a,(iy)                      ; 040A70 || 040E09 FD 7E 00    1674*  NXT:			LD      A,(IY)			; Fetch the character
	cp	$20                         ; 040E0C || 	cp	$20                         ; 040A73 || 040E0C FE 20       1675*  			CP      ' '			; If it is space, then return
	ret	nz                         ; 040E0E || 	ret	nz                         ; 040A75 || 040E0E C0          1676*  			RET     NZ
	inc	iy                         ; 040E0F || 	inc	iy                         ; 040A76 || 040E0F FD 23       1677*  			INC     IY			; Increment the pointer and
	jp	$040e09                     ; 040E11 || 	jp	$040a70                     ; 040A78 || 040E11 C3 09 0E 04 1678*  			JP      NXT			; Loop
	push	hl                        ; 040E15 || 	push	hl                        ; 040A7C || 040E15 E5          1680*  DISPT2:			PUSH    HL
	ld	hl,$040546                  ; 040E16 || 	ld	hl,$0401b5                  ; 040A7D || 040E16 21 46 05 04 1681*  			LD      HL,SOPTBL
	jr	$+$09                       ; 040E1A || 	jr	$+$09                       ; 040A81 || 040E1A 18 07       1682*  			JR      DISPT0
	push	hl                        ; 040E1C || 	push	hl                        ; 040A83 || 040E1C E5          1684*  DISPAT:			PUSH    HL
	sub	$8d                        ; 040E1D || 	sub	$8d                        ; 040A84 || 040E1D D6 8D       1685*  			SUB     FUNTOK
	ld	hl,$04049b                  ; 040E1F || 	ld	hl,$04010a                  ; 040A86 || 040E1F 21 9B 04 04 1686*  			LD      HL,FUNTBL
	push	bc                        ; 040E23 || 	push	bc                        ; 040A8A || 040E23 C5          1687*  DISPT0:			PUSH    BC
	ld	bc,$000003                  ; 040E24 || 	ld	bc,$000003                  ; 040A8B || 040E24 01 03 00 00 1689*  			LD	BC, 3
	ld	b,a                         ; 040E28 || 	ld	b,a                         ; 040A8F || 040E28 47          1690*  			LD	B, A
	mlt	bc                         ; 040E29 || 	mlt	bc                         ; 040A90 || 040E29 ED 4C       1691*  			MLT	BC
	add	hl,bc                      ; 040E2B                                         || 040E2B 09          1692*  			ADD	HL, BC
	ld	hl,(hl)                     ; 040E2C                                         || 040E2C ED 27       1693*  			LD	HL, (HL)
	pop	bc                         ; 040E2E                                         || 040E2E C1          1704*  			POP     BC
	ex	(sp),hl                     ; 040E2F                                         || 040E2F E3          1705*  			EX      (SP),HL
	ret                            ; 040E30                                         || 040E30 C9          1706*  			RET                     ;OFF TO ROUTINE
                                
